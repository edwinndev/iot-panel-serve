"use strict";(self.webpackChunkiot_panel=self.webpackChunkiot_panel||[]).push([[989],{8989:(r5,_g,ne)=>{ne.r(_g),ne.d(_g,{AdminModule:()=>s5});var jo={};ne.r(jo),ne.d(jo,{DEG_TO_RAD:()=>Fh,LRUCache:()=>n_,MAX_NUM:()=>Ws,MIN_NUM:()=>Zs,TextMetrics:()=>a_,append:()=>Xo,arabicToRoman:()=>nl,bindEvents:()=>jh,createPromise:()=>$s,defined:()=>ee,definitionId:()=>za,deg:()=>Mn,elementOffset:()=>Bg,elementPadding:()=>Lg,elementScale:()=>Gg,elementSize:()=>er,elementStyles:()=>Ua,encodeBase64:()=>cu,eventCoordinates:()=>Fg,eventElement:()=>Pg,hashKey:()=>o_,isTransparent:()=>ls,last:()=>lt,limitValue:()=>Qa,measureText:()=>ur,mergeSort:()=>sl,normalizeText:()=>yu,now:()=>ir,objectKey:()=>s_,promiseAll:()=>Ug,rad:()=>Ti,round:()=>Ie,unbindEvents:()=>Wh,valueOrDefault:()=>Uh});var Sh={};ne.r(Sh),ne.d(Sh,{easeOutElastic:()=>XI,linear:()=>QI,swing:()=>JI});var wh={};ne.r(wh),ne.d(wh,{ArcNode:()=>wb,CircleNode:()=>Cb,ClipNode:()=>Vm,DefinitionNode:()=>jm,GradientStopNode:()=>zm,GroupNode:()=>Eb,ImageNode:()=>kb,LinearGradientNode:()=>Um,MultiPathNode:()=>Ab,Node:()=>In,PathNode:()=>jn,RadialGradientNode:()=>Hm,RectNode:()=>Tb,RootNode:()=>uu,Surface:()=>Db,TextNode:()=>Mb,exportGroup:()=>Wm});var Ch={};ne.r(Ch),ne.d(Ch,{ArcNode:()=>tm,CircleNode:()=>im,GroupNode:()=>$h,ImageNode:()=>nm,MultiPathNode:()=>sm,Node:()=>Zh,PathNode:()=>Tn,RectNode:()=>Im,RootNode:()=>Vg,Surface:()=>au,TextNode:()=>Om});var Sn={};ne.r(Sn),ne.d(Sn,{Animation:()=>Ht,AnimationFactory:()=>xi,Arc:()=>kP,BaseNode:()=>tr,Circle:()=>fi,Element:()=>Mi,Gradient:()=>eu,GradientStop:()=>Xh,Group:()=>ge,HasObservers:()=>Pt,Image:()=>rl,Layout:()=>Pb,LinearGradient:()=>sr,MultiPath:()=>Oi,OptionsStore:()=>Bh,Path:()=>G,PathParser:()=>BP,QuadNode:()=>Wg,RadialGradient:()=>$a,Rect:()=>TP,ShapesQuadTree:()=>Kh,Surface:()=>Qr,SurfaceFactory:()=>Ep,Text:()=>Cu,align:()=>MP,canvas:()=>Ch,exportImage:()=>Rm,exportSVG:()=>Zm,fit:()=>LP,parsePath:()=>ru,stack:()=>IP,svg:()=>wh,util:()=>jo,vAlign:()=>DP,vStack:()=>OP,vWrap:()=>PP,wrap:()=>NP});var Eh={};ne.r(Eh),ne.d(Eh,{Arc:()=>Ii,Circle:()=>wt,Matrix:()=>ft,Point:()=>A,Rect:()=>ue,Segment:()=>at,Size:()=>En,Transformation:()=>Gh,toMatrix:()=>Cn,transform:()=>me});var Z1=ne(4466),Fs=ne(359);const $1=[{label:"Dashboard",icon:"home",path:"dashboard",active:!1},{label:"Dispositivos",icon:"devices_other",path:"devices",active:!1},{label:"Suscripciones",icon:"subscriptions",path:"subscriptions",active:!1},{label:"Temas",icon:"topic",path:"topics",active:!1},{label:"Logs",icon:"emergency_home",path:"logs",active:!1},{label:"Configuracion",icon:"settings",path:"settings",active:!1}];var l=ne(4650),Y1=ne(5687),L=ne(6895);const q1=function(n){return[n]};function K1(n,t){if(1&n&&(l.TgZ(0,"div",15)(1,"a",16)(2,"span",10),l._uU(3),l.qZA(),l.TgZ(4,"span",17),l._uU(5),l.qZA()()()),2&n){const e=t.$implicit;l.xp6(1),l.Q6J("routerLink",l.VKq(3,q1,e.path)),l.xp6(2),l.Oqu(e.icon),l.xp6(2),l.Oqu(e.label)}}let J1=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.items=$1}get auth(){return this.authService.auth}logout(){this.router.navigate(["/"]),this.authService.logout()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Y1.e),l.Y36(Fs.F0))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mmj-admin"]],decls:20,vars:2,consts:[[1,"container-panel"],[1,"sidebar"],[1,"sidebar-title"],["src","../../../assets/icon.png","alt","NO"],[1,"fs-6"],[1,"sidebar-menu"],[1,"sidebar-menu-items"],["class","sidebar-menu-item","routerLinkActive","selected",4,"ngFor","ngForOf"],[1,"sidebar-menu-item"],[1,"menu-item"],[1,"material-symbols-outlined","text-white"],[1,"label",3,"click"],[1,"content"],["role","button",1,"mb-4"],[1,"material-symbols-outlined","text-white","fs-1"],["routerLinkActive","selected",1,"sidebar-menu-item"],[1,"menu-item",3,"routerLink"],[1,"label"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l._UZ(3,"img",3),l.TgZ(4,"p",4),l._uU(5),l.qZA()(),l.TgZ(6,"div",5)(7,"nav",6),l.YNc(8,K1,6,5,"div",7),l.TgZ(9,"div",8)(10,"a",9)(11,"span",10),l._uU(12,"logout"),l.qZA(),l.TgZ(13,"span",11),l.NdJ("click",function(){return i.logout()}),l._uU(14,"Salir"),l.qZA()()()()()(),l.TgZ(15,"div",12)(16,"a",13)(17,"span",14),l._uU(18,"add"),l.qZA()(),l._UZ(19,"router-outlet"),l.qZA()()),2&e&&(l.xp6(5),l.Oqu(i.auth.names),l.xp6(3),l.Q6J("ngForOf",i.items))},dependencies:[L.sg,Fs.lC,Fs.yS,Fs.Od],styles:[".container-panel[_ngcontent-%COMP%]{display:flex;flex-direction:row;color:var(--color-white)}.sidebar[_ngcontent-%COMP%]{min-height:100vh;width:17rem;background-color:var(--color-dark)}.sidebar-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.sidebar-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40%}.sidebar-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;font-size:2rem;justify-content:center;margin-bottom:1.5rem;margin-top:1.5rem;color:var(--color-white)}.menu-item[_ngcontent-%COMP%]{display:flex;margin-bottom:.1rem;border-radius:5px;height:auto;align-items:center;padding:1rem 2rem}.sidebar-menu-item[_ngcontent-%COMP%]:hover{background-color:var(--color-black);cursor:pointer}.selected[_ngcontent-%COMP%]{background:var(--color-gradient-success)}.sidebar-menu-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:100%;margin-left:1rem}.content[_ngcontent-%COMP%]{width:100%;height:100vh;padding:2rem;background-color:var(--color-black)}@media (max-width: 900px){.sidebar[_ngcontent-%COMP%]{width:6rem}.sidebar-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%}.sidebar-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}.sidebar-menu-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:none}}"]}),n})();var kh=ne(9019),Wo=ne(8505),Ah=ne(529);let Q1=(()=>{class n{constructor(e){this.http=e,this.apiUrl=kh.N.apiUrl,this._users=[]}get users(){return console.log(this._users),this._users}getUsers(){return this.http.get(`${this.apiUrl}/users`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).pipe((0,Wo.b)(e=>this._users=e.data))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ah.eN))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function X1(n,t){if(1&n&&(l.TgZ(0,"tr")(1,"th",4),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l._uU(12),l.qZA(),l.TgZ(13,"td"),l._uU(14),l.qZA()()),2&n){const e=t.$implicit,i=t.index;l.xp6(2),l.Oqu(i+1),l.xp6(2),l.Oqu(e.ID),l.xp6(2),l.Oqu(e.names),l.xp6(2),l.Oqu(e.surnames),l.xp6(2),l.Oqu(e.email),l.xp6(2),l.Oqu(e.phone),l.xp6(2),l.Oqu(e.role)}}let eE=(()=>{class n{constructor(e){this.userService=e,this.users=[],this.loadUsers()}loadUsers(){this.userService.getUsers().subscribe({next:e=>{e.ok&&(this.users=e.data)},error:e=>console.error(e)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Q1))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mmj-dashboard"]],decls:20,vars:1,consts:[[1,"row","mt-3"],[1,"table","table-bordered","text-white"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),l._uU(5,"#"),l.qZA(),l.TgZ(6,"th",2),l._uU(7,"ID"),l.qZA(),l.TgZ(8,"th",2),l._uU(9,"Names"),l.qZA(),l.TgZ(10,"th",2),l._uU(11,"Surnames"),l.qZA(),l.TgZ(12,"th",2),l._uU(13,"Email"),l.qZA(),l.TgZ(14,"th",2),l._uU(15,"Phone"),l.qZA(),l.TgZ(16,"th",2),l._uU(17,"Role"),l.qZA()()(),l.TgZ(18,"tbody"),l.YNc(19,X1,15,7,"tr",3),l.qZA()()()),2&e&&(l.xp6(19),l.Q6J("ngForOf",i.users))},dependencies:[L.sg]}),n})(),vg=(()=>{class n{constructor(e){this.http=e,this.apiUrl=kh.N.apiUrl}update(e,i){return this.http.put(`${this.apiUrl}/switchs`,{device:e,value:i})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ah.eN))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tE=(()=>{class n{constructor(e){this.switchService=e,this.name="Device"}onCheckboxChange(e){this.switchService.update(this.name,e.target.checked).subscribe(i=>{})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(vg))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mmj-switch-round"]],inputs:{name:"name"},decls:6,vars:1,consts:[[1,"switch-container"],[1,"fs-5","mb-4"],[1,"switch"],["type","checkbox",3,"change"],[1,"slider","round"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"p",1),l._uU(2),l.qZA(),l.TgZ(3,"label",2)(4,"input",3),l.NdJ("change",function(o){return i.onCheckboxChange(o)}),l.qZA(),l._UZ(5,"span",4),l.qZA()()),2&e&&(l.xp6(2),l.Oqu(i.name))},styles:['.switch-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:80px;height:44px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:var(--bs-secondary);transition:.5s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:36px;width:36px;left:4px;bottom:4px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--color-blue)}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px var(--color-blue)}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(36px)}.slider.round[_ngcontent-%COMP%]{border-radius:44px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),n})(),iE=(()=>{class n{constructor(e){this.switchService=e,this.name="Device"}onCheckboxChange(e){this.switchService.update(this.name,e.target.checked).subscribe(i=>{})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(vg))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mmj-switch-square"]],inputs:{name:"name"},decls:6,vars:1,consts:[[1,"switch-container"],[1,"fs-5","mb-4"],[1,"switch"],["type","checkbox",3,"change"],[1,"slider"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"p",1),l._uU(2),l.qZA(),l.TgZ(3,"label",2)(4,"input",3),l.NdJ("change",function(o){return i.onCheckboxChange(o)}),l.qZA(),l._UZ(5,"span",4),l.qZA()()),2&e&&(l.xp6(2),l.Oqu(i.name))},styles:['.switch-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:80px;height:44px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:var(--bs-secondary);transition:.5s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:36px;width:36px;left:4px;bottom:4px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--color-blue)}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px var(--color-blue)}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(36px)}']}),n})(),nE=(()=>{class n{constructor(e){this.http=e,this.apiUrl=kh.N.apiUrl}getThermometerData(e){return this.http.get(`${this.apiUrl}/ths/${e}`)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ah.eN))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zs=(n,t)=>e=>t(n(e)),li=(n,t,e)=>n.addEventListener&&n.addEventListener(t,e),St=(n,t,e)=>n&&n.removeEventListener&&n.removeEventListener(t,e),Gs=()=>{},Th=n=>n.preventDefault(),sE=/touch/;function Us(n){return n.type.match(sE)?{pageX:n.changedTouches[0].pageX,pageY:n.changedTouches[0].pageY,clientX:n.changedTouches[0].clientX,clientY:n.changedTouches[0].clientY,type:n.type,originalEvent:n,isTouch:!0}:{pageX:n.pageX,pageY:n.pageY,clientX:n.clientX,clientY:n.clientY,offsetX:n.offsetX,offsetY:n.offsetY,type:n.type,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,altKey:n.altKey,originalEvent:n}}let rE=(()=>{class n{static supportPointerEvent(){return typeof window<"u"&&window.PointerEvent}get document(){return this._element?this._element.ownerDocument:document}constructor({press:e=Gs,drag:i=Gs,release:s=Gs,mouseOnly:o=!1}){this._pressHandler=zs(Us,e),this._dragHandler=zs(Us,i),this._releaseHandler=zs(Us,s),this._ignoreMouse=!1,this._mouseOnly=o,this._touchstart=r=>{1===r.touches.length&&this._pressHandler(r)},this._touchmove=r=>{1===r.touches.length&&this._dragHandler(r)},this._touchend=r=>{0===r.touches.length&&1===r.changedTouches.length&&(this._releaseHandler(r),this._ignoreMouse=!0,setTimeout(this._restoreMouse,2e3))},this._restoreMouse=()=>{this._ignoreMouse=!1},this._mousedown=r=>{const{which:a}=r;a&&a>1||this._ignoreMouse||(li(this.document,"mousemove",this._mousemove),li(this.document,"mouseup",this._mouseup),this._pressHandler(r))},this._mousemove=r=>{this._dragHandler(r)},this._mouseup=r=>{St(this.document,"mousemove",this._mousemove),St(this.document,"mouseup",this._mouseup),this._releaseHandler(r)},this._pointerdown=r=>{r.isPrimary&&0===r.button&&(li(this.document,"pointermove",this._pointermove),li(this.document,"pointerup",this._pointerup),li(this.document,"pointercancel",this._pointerup),li(this.document,"contextmenu",Th),this._pressHandler(r))},this._pointermove=r=>{r.isPrimary&&this._dragHandler(r)},this._pointerup=r=>{r.isPrimary&&(St(this.document,"pointermove",this._pointermove),St(this.document,"pointerup",this._pointerup),St(this.document,"pointercancel",this._pointerup),St(this.document,"contextmenu",Th),this._releaseHandler(r))}}bindTo(e){e!==this._element&&(this._element&&this._unbindFromCurrent(),this._element=e,this._bindToCurrent())}_bindToCurrent(){const e=this._element;this._usePointers()?li(e,"pointerdown",this._pointerdown):(li(e,"mousedown",this._mousedown),this._mouseOnly||(li(e,"touchstart",this._touchstart),li(e,"touchmove",this._touchmove),li(e,"touchend",this._touchend)))}_unbindFromCurrent(){const e=this._element;if(this._usePointers())return St(e,"pointerdown",this._pointerdown),St(this.document,"pointermove",this._pointermove),St(this.document,"pointerup",this._pointerup),St(this.document,"contextmenu",Th),void St(this.document,"pointercancel",this._pointerup);St(e,"mousedown",this._mousedown),this._mouseOnly||(St(e,"touchstart",this._touchstart),St(e,"touchmove",this._touchmove),St(e,"touchend",this._touchend))}_usePointers(){return!this._mouseOnly&&n.supportPointerEvent()}update({press:e=Gs,drag:i=Gs,release:s=Gs,mouseOnly:o=!1}){this._pressHandler=zs(Us,e),this._dragHandler=zs(Us,i),this._releaseHandler=zs(Us,s),this._mouseOnly=o}destroy(){this._unbindFromCurrent(),this._element=null}}return n.default=n,n})();var rt=ne(727);class aE extends rt.w0{constructor(t,e){super()}schedule(t,e=0){return this}}const Ia={setInterval(n,t,...e){const{delegate:i}=Ia;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Ia;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var lE=ne(8737);const xg={now:()=>(xg.delegate||Date).now(),delegate:void 0};class Zo{constructor(t,e=Zo.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Zo.now=xg.now;const $o=new class hE extends Zo{constructor(t,e=Zo.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}(class cE extends aE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const s=this.id,o=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(o,s,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return Ia.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&Ia.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,lE.P)(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}),uE=$o;var Oa=ne(4482),Ra=ne(8421),Hs=ne(5403),bg=ne(9751),pE=ne(3532);function Dh(n,t=$o){return function dE(n){return(0,Oa.e)((t,e)=>{let i=!1,s=null,o=null,r=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const h=s;s=null,e.next(h)}r&&e.complete()},c=()=>{o=null,r&&e.complete()};t.subscribe((0,Hs.x)(e,h=>{i=!0,s=h,o||(0,Ra.Xf)(n(h)).subscribe(o=(0,Hs.x)(e,a,c))},()=>{r=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function Mh(n=0,t,e=uE){let i=-1;return null!=t&&((0,pE.K)(t)?e=t:i=t),new bg.y(s=>{let o=function fE(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let r=0;return e.schedule(function(){s.closed||(s.next(r++),0<=i?this.schedule(void 0,i):s.complete())},o)})}(n,t))}var wn=ne(6451),gE=ne(5577),mE=ne(1144),ns=ne(576),_E=ne(3268);const vE=["addListener","removeListener"],xE=["addEventListener","removeEventListener"],bE=["on","off"];function ci(n,t,e,i){if((0,ns.m)(e)&&(i=e,e=void 0),i)return ci(n,t,e).pipe((0,_E.Z)(i));const[s,o]=function wE(n){return(0,ns.m)(n.addEventListener)&&(0,ns.m)(n.removeEventListener)}(n)?xE.map(r=>a=>n[r](t,a,e)):function yE(n){return(0,ns.m)(n.addListener)&&(0,ns.m)(n.removeListener)}(n)?vE.map(yg(n,t)):function SE(n){return(0,ns.m)(n.on)&&(0,ns.m)(n.off)}(n)?bE.map(yg(n,t)):[];if(!s&&(0,mE.z)(n))return(0,gE.z)(r=>ci(r,t,e))((0,Ra.Xf)(n));if(!s)throw new TypeError("Invalid event target");return new bg.y(r=>{const a=(...c)=>r.next(1<c.length?c:c[0]);return s(a),()=>o(a)})}function yg(n,t){return e=>i=>n[e](t,i)}var Sg=ne(2076);const Ee=()=>typeof document<"u",$t=(n,t,e=!0)=>typeof t[n]<"u"&&(!t[n].isFirstChange()||!e)&&t[n].previousValue!==t[n].currentValue,Ai=n=>n&&n.observers.length>0;let qo=(()=>{class n{constructor(e,i){this.element=e,this.ngZone=i,this.enableDrag=!0,this.kendoPress=new l.vpe,this.kendoDrag=new l.vpe,this.kendoRelease=new l.vpe}ngOnInit(){this.toggleDraggable()}ngOnChanges(e){$t("enableDrag",e)&&this.toggleDraggable()}ngOnDestroy(){this.destroyDraggable()}toggleDraggable(){Ee()&&(this.destroyDraggable(),this.enableDrag&&(this.draggable=new rE({drag:e=>this.kendoDrag.next(e),press:e=>this.kendoPress.next(e),release:e=>this.kendoRelease.next(e)}),this.ngZone.runOutsideAngular(()=>this.draggable.bindTo(this.element.nativeElement))))}destroyDraggable(){this.draggable&&(this.draggable.destroy(),this.draggable=null)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","kendoDraggable",""]],inputs:{enableDrag:"enableDrag"},outputs:{kendoPress:"kendoPress",kendoDrag:"kendoDrag",kendoRelease:"kendoRelease"},features:[l.TTD]}),n})(),Na=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[L.ez]]}),n})(),Hi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class kg{constructor(t){this.resizeBatchService=t,this.resize=new l.vpe,this.acceptedSize=!1,this.state=0}acceptSize(t=this.measure()){this.lastWidth=t.width,this.lastHeight=t.height,this.acceptedSize=!0}checkChanges(){!Ee()||0===this.state&&(this.state=1,this.resizeBatchService.schedule(this,this.init))}destroy(){this.resizeBatchService.cancel(this)}checkSize(){if(!this.parentElement)return;const{width:t,height:e}=this.measure();return t!==this.lastWidth||e!==this.lastHeight?(this.lastWidth=t,this.lastHeight=e,this.acceptedSize=!1,this.resize.emit(),!0):void 0}initSize(){const t=this.measure();this.lastWidth=t.width,this.lastHeight=t.height}measure(){let t=0,e=0;return this.parentElement&&(e=this.parentElement.offsetHeight,t=this.parentElement.offsetWidth),{height:e,width:t}}}const Pa=n=>{const t=document.createElement("div");return t.style.cssText=n,t},Nh="position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;overflow: hidden; visibility: hidden;";class IE extends kg{constructor(t,e,i){super(t),this.element=e,this.ngZone=i}checkChanges(){2!==this.state?super.checkChanges():this.resizeBatchService.isScheduled(this)||this.resizeBatchService.schedule(this,this.checkSize)}destroy(){if(super.destroy(),this.subscription&&this.subscription.unsubscribe(),this.expand){const t=this.element.nativeElement;t.removeChild(this.expand),t.removeChild(this.shrink),this.expand.removeChild(this.expandChild),this.expand=this.expandChild=this.shrink=this.element=null}}checkSize(){if(super.checkSize())return this.reset(),!0}init(){const t=this.parentElement=this.element.nativeElement.parentElement;"static"===((n,t)=>getComputedStyle(n,null).getPropertyValue("position"))(t)&&(t.style.position="relative"),this.state=2,this.render(),this.reset(),this.initSize(),this.subscribe()}render(){const t=this.element.nativeElement;t.style.cssText=Nh,t.setAttribute("dir","ltr"),this.expand=Pa(Nh),this.expandChild=Pa("position: absolute; left: 0; top: 0; transition: 0s;"),this.expand.appendChild(this.expandChild),t.appendChild(this.expand),this.shrink=Pa(Nh);const e=Pa("position: absolute; left: 0; top: 0; transition: 0s;width: 200%; height: 200%;");this.shrink.appendChild(e),t.appendChild(this.shrink)}reset(){const t=this.expandChild;t.style.width="100000px",t.style.height="100000px";const e=this.expand;e.scrollLeft=1e5,e.scrollTop=1e5;const i=this.shrink;i.scrollLeft=1e5,i.scrollTop=1e5}subscribe(){this.ngZone.runOutsideAngular(()=>{this.subscription=(0,wn.T)(ci(this.shrink,"scroll"),ci(this.expand,"scroll")).subscribe(()=>{this.checkSize()})})}}const OE=typeof ResizeObserver<"u";class Tg extends kg{constructor(t,e,i){super(t),this.element=e,this.ngZone=i}static supported(){return OE}destroy(){super.destroy(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.parentElement=null}init(){this.parentElement=this.element.nativeElement.parentElement,this.initSize(),this.state=2,this.ngZone.runOutsideAngular(()=>{this.resizeObserver=new ResizeObserver(()=>{this.checkSize()}),this.resizeObserver.observe(this.parentElement)})}}let Mg=(()=>{class n{constructor(e){this.ngZone=e,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}schedule(e,i){this.scheduled.push({instance:e,method:i}),this.subscription||this.ngZone.runOutsideAngular(()=>{this.subscription=(0,Sg.D)(this.resolvedPromise).subscribe(this.flush)})}isScheduled(e){return Boolean(this.scheduled.find(i=>i.instance===e))}cancel(e){const i=this.scheduled,s=i.length;for(let o=0;o<s;o++)if(i[o].instance===e)return i.splice(o,1),void(i.length||this.unsubscribe())}ngOnDestroy(){this.unsubscribe()}unsubscribe(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}flush(){this.scheduled.forEach(e=>{e.method.call(e.instance)}),this.scheduled=[],this.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Vi=(()=>{class n{constructor(e,i,s){this.rateLimit=10,this.resize=new l.vpe;const o=Tg.supported()?Tg:IE;this.resizeService=new o(e,i,s),this.subscription=this.resizeService.resize.pipe(Dh(1e3/(this.rateLimit||10))).subscribe(()=>{this.resizeService.acceptedSize||this.resize.emit()})}ngAfterViewChecked(){this.resizeService.checkChanges()}ngOnDestroy(){this.subscription.unsubscribe(),this.resizeService.destroy()}acceptSize(e){this.resizeService.acceptSize(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Mg),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["kendo-resize-sensor"]],inputs:{rateLimit:"rateLimit"},outputs:{resize:"resize"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),Ko=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Mg]}),n})();var oe=(()=>{return(n=oe||(oe={}))[n.Alt=18]="Alt",n[n.ArrowDown=40]="ArrowDown",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowUp=38]="ArrowUp",n[n.Backspace=8]="Backspace",n[n.Control=17]="Control",n[n.Delete=46]="Delete",n[n.Digit0=48]="Digit0",n[n.Digit1=49]="Digit1",n[n.Digit2=50]="Digit2",n[n.Digit3=51]="Digit3",n[n.Digit4=52]="Digit4",n[n.Digit5=53]="Digit5",n[n.Digit6=54]="Digit6",n[n.Digit7=55]="Digit7",n[n.Digit8=56]="Digit8",n[n.Digit9=57]="Digit9",n[n.End=35]="End",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.F1=112]="F1",n[n.F2=113]="F2",n[n.F10=121]="F10",n[n.Home=36]="Home",n[n.Insert=45]="Insert",n[n.KeyA=65]="KeyA",n[n.KeyB=66]="KeyB",n[n.KeyC=67]="KeyC",n[n.KeyD=68]="KeyD",n[n.KeyE=69]="KeyE",n[n.KeyF=70]="KeyF",n[n.KeyG=71]="KeyG",n[n.KeyH=72]="KeyH",n[n.KeyI=73]="KeyI",n[n.KeyJ=74]="KeyJ",n[n.KeyK=75]="KeyK",n[n.KeyL=76]="KeyL",n[n.KeyM=77]="KeyM",n[n.KeyN=78]="KeyN",n[n.KeyO=79]="KeyO",n[n.KeyP=80]="KeyP",n[n.KeyQ=81]="KeyQ",n[n.KeyR=82]="KeyR",n[n.KeyS=83]="KeyS",n[n.KeyT=84]="KeyT",n[n.KeyU=85]="KeyU",n[n.KeyV=86]="KeyV",n[n.KeyW=87]="KeyW",n[n.KeyX=88]="KeyX",n[n.KeyY=89]="KeyY",n[n.KeyZ=90]="KeyZ",n[n.NumpadDecimal=110]="NumpadDecimal",n[n.PageDown=34]="PageDown",n[n.PageUp=33]="PageUp",n[n.Shift=16]="Shift",n[n.Space=32]="Space",n[n.Tab=9]="Tab",oe;var n})(),Lh=ne(1135),Jo=ne(9300),La=ne(4004);let js=(()=>{class n{constructor(){this.changes=new Lh.X({rtl:void 0})}notify(e){this.changes.next({rtl:e})}get(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ba=(()=>{class n{get override(){return!1}ngOnChanges(e){this.register(e),Object.keys(e).some(i=>!e[i].isFirstChange())&&this.service.notifyChanges()}ngOnInit(){this.subscription=this.service.changes.pipe(function RE(n){return(0,Jo.h)((t,e)=>n<=e)}(1)).subscribe(()=>this.register(this))}register(e){Object.keys(e).forEach(s=>this.service.register(s,this[s],this.override))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const rs=new l.OlP("Kendo UI Right-to-Left token"),Ne=new l.OlP("Localization key prefix");let Y=(()=>{class n{constructor(e,i,s){this.prefix=e,this.messageService=i,this._rtl=s,this.changes=new Lh.X({rtl:this._rtl}),this.dictionary={},i&&(this.subscription=i.changes.pipe((0,La.U)(({rtl:o})=>void 0!==o?o:this._rtl),(0,Wo.b)(o=>this._rtl=o)).subscribe(o=>{this.dictionary={},this.changes.next({rtl:o})}))}get rtl(){return this._rtl}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}get(e){const i=this.key(e);return this.dictionary[i]}register(e,i,s=!1){const o=this.key(e);let r=i;if(!s){if(this.dictionary.hasOwnProperty(o))return;r=this.defaultValue(o,i)}this.dictionary[o]=r}notifyChanges(){this.changes.next({rtl:this.rtl})}key(e){return this.prefix+"."+e}defaultValue(e,i){if(!this.messageService)return i;const s=this.messageService.get(e);return void 0===s?i:s}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ne),l.LFG(js,8),l.LFG(rs,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class U{}const Pt=class NE extends U{observers(){return this._observers=this._observers||[],this._observers}addObserver(t){return this._observers?this._observers.push(t):this._observers=[t],this}removeObserver(t){const e=this.observers(),i=e.indexOf(t);return-1!==i&&e.splice(i,1),this}trigger(t,e){const i=this._observers;if(i&&!this._suspended)for(let s=0;s<i.length;s++){let o=i[s];o[t]&&o[t](e)}return this}optionsChange(t={}){t.element=this,this.trigger("optionsChange",t)}geometryChange(){this.trigger("geometryChange",{element:this})}suspend(){return this._suspended=(this._suspended||0)+1,this}resume(){return this._suspended=Math.max((this._suspended||0)-1,0),this}_observerField(t,e){this[t]&&this[t].removeObserver(this),this[t]=e,e.addObserver(this)}};function ee(n){return void 0!==n}const LE={}.toString;class Qo extends Pt{constructor(t,e=""){super(),this.prefix=e;for(let i in t){let s=t[i];s=this._wrap(s,i),this[i]=s}}get(t){const e=t.split(".");let i=this;for(;e.length&&i;)i=i[e.shift()];return i}set(t,e){this.get(t)!==e&&(this._set(t,this._wrap(e,t)),this.optionsChange({field:this.prefix+t,value:e}))}_set(t,e){const i=t.indexOf(".")>=0;let s=this,o=t;if(i){const r=o.split(".");let a=this.prefix;for(;r.length>1;){o=r.shift(),a+=o+".";let c=s[o];c||(c=new Qo({},a),c.addObserver(this),s[o]=c),s=c}o=r[0]}s._clear(o),s[o]=e}_clear(t){const e=this[t];e&&e.removeObserver&&e.removeObserver(this)}_wrap(t,e){const i=LE.call(t);let s=t;return null!==s&&ee(s)&&"[object Object]"===i&&(!(t instanceof Qo)&&!(t instanceof U)&&(s=new Qo(s,this.prefix+e+".")),s.addObserver(this)),s}}const Bh=Qo;function BE(n){return function(t){return this[n]!==t&&(this[n]=t,this.geometryChange()),this}}function FE(n){return function(){return this[n]}}const Fa=(n,t)=>{const e=class extends n{};return function zE(n,t){for(let e=0;e<t.length;e++){let i=t[e],s=i.charAt(0).toUpperCase()+i.substring(1,i.length);n["set"+s]=BE(i),n["get"+s]=FE(i)}}(e.prototype,t),e};function Ie(n,t){const e=function GE(n){return n?Math.pow(10,n):1}(t);return Math.round(n*e)/e}const Fh=Math.PI/180,Ws=Number.MAX_VALUE,Zs=-Number.MAX_VALUE;function Ti(n){return n*Fh}class hi extends U{constructor(t=0,e=0,i=0,s=0,o=0,r=0){super(),this.a=t,this.b=e,this.c=i,this.d=s,this.e=o,this.f=r}multiplyCopy(t){return new hi(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)}invert(){const{a:t,b:e,c:i,d:s,e:o,f:r}=this,a=t*s-e*i;return 0===a?null:new hi(s/a,-e/a,-i/a,t/a,(i*r-s*o)/a,(e*o-t*r)/a)}clone(){return new hi(this.a,this.b,this.c,this.d,this.e,this.f)}equals(t){return!!t&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.e===t.e&&this.f===t.f}round(t){return this.a=Ie(this.a,t),this.b=Ie(this.b,t),this.c=Ie(this.c,t),this.d=Ie(this.d,t),this.e=Ie(this.e,t),this.f=Ie(this.f,t),this}toArray(t){const e=[this.a,this.b,this.c,this.d,this.e,this.f];if(ee(t))for(let i=0;i<e.length;i++)e[i]=Ie(e[i],t);return e}toString(t,e=","){return this.toArray(t).join(e)}static translate(t,e){return new hi(1,0,0,1,t,e)}static unit(){return new hi(1,0,0,1,0,0)}static rotate(t,e,i){const s=new hi;return s.a=Math.cos(Ti(t)),s.b=Math.sin(Ti(t)),s.c=-s.b,s.d=s.a,s.e=e-e*s.a+i*s.b||0,s.f=i-i*s.a-e*s.b||0,s}static scale(t,e){return new hi(t,0,0,e,0,0)}}hi.IDENTITY=hi.unit();const ft=hi;function Cn(n){return n&&"function"==typeof n.matrix?n.matrix():n}class Lt extends(Fa(Pt,["x","y"])){constructor(t,e){super(),this.x=t||0,this.y=e||0}equals(t){return t&&t.x===this.x&&t.y===this.y}clone(){return new Lt(this.x,this.y)}rotate(t,e){const i=Lt.create(e)||Lt.ZERO;return this.transform(ft.rotate(t,i.x,i.y))}translate(t,e){return this.x+=t,this.y+=e,this.geometryChange(),this}translateWith(t){return this.translate(t.x,t.y)}move(t,e){return this.x=this.y=0,this.translate(t,e)}scale(t,e=t){return this.x*=t,this.y*=e,this.geometryChange(),this}scaleCopy(t,e){return this.clone().scale(t,e)}transform(t){const e=Cn(t),{x:i,y:s}=this;return this.x=e.a*i+e.c*s+e.e,this.y=e.b*i+e.d*s+e.f,this.geometryChange(),this}transformCopy(t){const e=this.clone();return t&&e.transform(t),e}distanceTo(t){const e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)}round(t){return this.x=Ie(this.x,t),this.y=Ie(this.y,t),this.geometryChange(),this}toArray(t){const e=ee(t);return[e?Ie(this.x,t):this.x,e?Ie(this.y,t):this.y]}toString(t,e=" "){let{x:i,y:s}=this;return ee(t)&&(i=Ie(i,t),s=Ie(s,t)),i+e+s}static create(t,e){if(ee(t))return t instanceof Lt?t:1===arguments.length&&2===t.length?new Lt(t[0],t[1]):new Lt(t,e)}static min(){let t=Ws,e=Ws;for(let i=0;i<arguments.length;i++){let s=arguments[i];t=Math.min(s.x,t),e=Math.min(s.y,e)}return new Lt(t,e)}static max(){let t=Zs,e=Zs;for(let i=0;i<arguments.length;i++){const s=arguments[i];t=Math.max(s.x,t),e=Math.max(s.y,e)}return new Lt(t,e)}static minPoint(){return new Lt(Zs,Zs)}static maxPoint(){return new Lt(Ws,Ws)}static get ZERO(){return new Lt(0,0)}}const A=Lt;class as extends(Fa(Pt,["width","height"])){constructor(t,e){super(),this.width=t||0,this.height=e||0}equals(t){return t&&t.width===this.width&&t.height===this.height}clone(){return new as(this.width,this.height)}toArray(t){const e=ee(t);return[e?Ie(this.width,t):this.width,e?Ie(this.height,t):this.height]}static create(t,e){if(ee(t))return t instanceof as?t:1===arguments.length&&2===t.length?new as(t[0],t[1]):new as(t,e)}static get ZERO(){return new as(0,0)}}const En=as;class kn extends Pt{constructor(t=new A,e=new En,i=0){super(),this.setOrigin(t),this.setSize(e),this.setCornerRadius(i)}clone(){return new kn(this.origin.clone(),this.size.clone())}equals(t){return t&&t.origin.equals(this.origin)&&t.size.equals(this.size)}setOrigin(t){return this._observerField("origin",A.create(t)),this.geometryChange(),this}getOrigin(){return this.origin}setCornerRadius(t){return this.cornerRadius=Array.isArray(t)?t:[t,t],this.geometryChange(),this}getCornerRadius(){return this.cornerRadius}setSize(t){return this._observerField("size",En.create(t)),this.geometryChange(),this}getSize(){return this.size}width(){return this.size.width}height(){return this.size.height}topLeft(){return this.origin.clone()}bottomRight(){return this.origin.clone().translate(this.width(),this.height())}topRight(){return this.origin.clone().translate(this.width(),0)}bottomLeft(){return this.origin.clone().translate(0,this.height())}center(){return this.origin.clone().translate(this.width()/2,this.height()/2)}bbox(t){const e=this.topLeft().transformCopy(t),i=this.topRight().transformCopy(t),s=this.bottomRight().transformCopy(t),o=this.bottomLeft().transformCopy(t);return kn.fromPoints(e,i,s,o)}transformCopy(t){return kn.fromPoints(this.topLeft().transform(t),this.bottomRight().transform(t))}expand(t,e=t){return this.size.width+=2*t,this.size.height+=2*e,this.origin.translate(-t,-e),this}expandCopy(t,e){return this.clone().expand(t,e)}containsPoint(t){const e=this.origin,i=this.bottomRight();return!(t.x<e.x||t.y<e.y||i.x<t.x||i.y<t.y)}_isOnPath(t,e){const i=this.expandCopy(e,e),s=this.expandCopy(-e,-e);return i.containsPoint(t)&&!s.containsPoint(t)}static fromPoints(){const t=A.min.apply(null,arguments),e=A.max.apply(null,arguments),i=new En(e.x-t.x,e.y-t.y);return new kn(t,i)}static union(t,e){return kn.fromPoints(A.min(t.topLeft(),e.topLeft()),A.max(t.bottomRight(),e.bottomRight()))}static intersect(t,e){const i={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y},s={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y};if(i.left<=s.right&&s.left<=i.right&&i.top<=s.bottom&&s.top<=i.bottom)return kn.fromPoints(new A(Math.max(i.left,s.left),Math.max(i.top,s.top)),new A(Math.min(i.right,s.right),Math.min(i.bottom,s.bottom)))}}const ue=kn;class zh extends Pt{constructor(t=ft.unit()){super(),this._matrix=t}clone(){return new zh(this._matrix.clone())}equals(t){return t&&t._matrix.equals(this._matrix)}translate(t,e){return this._matrix=this._matrix.multiplyCopy(ft.translate(t,e)),this._optionsChange(),this}scale(t,e=t,i=null){let s=i;return s&&(s=A.create(s),this._matrix=this._matrix.multiplyCopy(ft.translate(s.x,s.y))),this._matrix=this._matrix.multiplyCopy(ft.scale(t,e)),s&&(this._matrix=this._matrix.multiplyCopy(ft.translate(-s.x,-s.y))),this._optionsChange(),this}rotate(t,e){const i=A.create(e)||A.ZERO;return this._matrix=this._matrix.multiplyCopy(ft.rotate(t,i.x,i.y)),this._optionsChange(),this}multiply(t){const e=Cn(t);return this._matrix=this._matrix.multiplyCopy(e),this._optionsChange(),this}matrix(t){return t?(this._matrix=t,this._optionsChange(),this):this._matrix}_optionsChange(){this.optionsChange({field:"transform",value:this})}}const Gh=zh;function me(n){return null===n?null:n instanceof Gh?n:new Gh(n)}let UE=1;function za(){return"kdef"+UE++}function Uh(n,t){return ee(n)?n:t}function ls(n){return""===n||null===n||"none"===n||"transparent"===n||!ee(n)}const Mi=class HE extends Pt{get nodeType(){return"Rect"}constructor(t){super(),this._initOptions(t)}_initOptions(t={}){const{clip:e,transform:i}=t;i&&(t.transform=me(i)),e&&!e.id&&(e.id=za()),this.options=new Bh(t),this.options.addObserver(this)}transform(t){if(!ee(t))return this.options.get("transform");this.options.set("transform",me(t))}parentTransform(){let e,t=this;for(;t.parent;){t=t.parent;let i=t.transform();i&&(e=i.matrix().multiplyCopy(e||ft.unit()))}if(e)return me(e)}currentTransform(t=this.parentTransform()){const i=Cn(this.transform());let o,s=Cn(t);if(o=i&&s?s.multiplyCopy(i):i||s,o)return me(o)}visible(t){return ee(t)?(this.options.set("visible",t),this):!1!==this.options.get("visible")}clip(t){const e=this.options;return ee(t)?(t&&!t.id&&(t.id=za()),e.set("clip",t),this):e.get("clip")}opacity(t){return ee(t)?(this.options.set("opacity",t),this):Uh(this.options.get("opacity"),1)}clippedBBox(t){const e=this._clippedBBox(t);if(e){const i=this.clip();return i?ue.intersect(e,i.bbox(t)):e}}containsPoint(t,e){if(this.visible()){const i=this.currentTransform(e);let s=t;return i&&(s=t.transformCopy(i.matrix().invert())),this._hasFill()&&this._containsPoint(s)||this._isOnPath&&this._hasStroke()&&this._isOnPath(s)}return!1}_hasFill(){const t=this.options.fill;return t&&!ls(t.color)}_hasStroke(){const t=this.options.stroke;return t&&t.width>0&&!ls(t.color)}_clippedBBox(t){return this.bbox(t)}},Hh=(n,t)=>class extends n{traverse(e){const i=this[t];for(let s=0;s<i.length;s++){let o=i[s];o.traverse?o.traverse(e):e(o)}return this}};function Xo(n,t){return n.push.apply(n,t),n}function Ga(n,t,e){let i;for(let s=0;s<n.length;s++){let o=n[s];if(o.visible()){let r=t?o.bbox(e):o.rawBBox();r&&(i=i?ue.union(i,r):r)}}return i}function Ig(n,t){let e;for(let i=0;i<n.length;i++){let s=n[i];if(s.visible()){let o=s.clippedBBox(t);o&&(e=e?ue.union(e,o):o)}}return e}class VE extends(Hh(Mi,"children")){get nodeType(){return"Group"}constructor(t){super(t),this.children=[]}childrenChange(t,e,i){this.trigger("childrenChange",{action:t,items:e,index:i})}append(){return Xo(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this}insert(t,e){return this.children.splice(t,0,e),e.parent=this,this.childrenChange("add",[e],t),this}insertAt(t,e){return this.insert(e,t)}remove(t){const e=this.children.indexOf(t);return e>=0&&(this.children.splice(e,1),t.parent=null,this.childrenChange("remove",[t],e)),this}removeAt(t){if(0<=t&&t<this.children.length){let e=this.children[t];this.children.splice(t,1),e.parent=null,this.childrenChange("remove",[e],t)}return this}clear(){const t=this.children;return this.children=[],this._reparent(t,null),this.childrenChange("remove",t,0),this}bbox(t){return Ga(this.children,!0,this.currentTransform(t))}rawBBox(){return Ga(this.children,!1)}_clippedBBox(t){return Ig(this.children,this.currentTransform(t))}currentTransform(t){return Mi.prototype.currentTransform.call(this,t)||null}containsPoint(t,e){if(this.visible()){const i=this.children,s=this.currentTransform(e);for(let o=0;o<i.length;o++)if(i[o].containsPoint(t,s))return!0}return!1}_reparent(t,e){for(let i=0;i<t.length;i++){const s=t[i],o=s.parent;o&&o!==this&&o.remove&&o.remove(s),s.parent=e}}}const ge=VE;function Og(n){return"function"==typeof n}function Rg(n){return"string"==typeof n?[n]:n}function WE(){this._defaultPrevented=!0}function ZE(){return!0===this._defaultPrevented}const $E=class jE extends U{constructor(){super(),this._events={}}bind(t,e,i){const s=Rg(t),o=Og(e),r=s.length;if(void 0===e){for(let a in t)this.bind(a,t[a]);return this}for(let a=0;a<r;a++){const c=s[a];let h=o?e:e[c];if(h){if(i){const d=h;h=()=>{this.unbind(c,h),d.apply(this,arguments)},h.original=d}(this._events[c]=this._events[c]||[]).push(h)}}return this}one(t,e){return this.bind(t,e,!0)}first(t,e){const i=Rg(t),s=Og(e);for(let o=0,r=i.length;o<r;o++){const a=i[o],c=s?e:e[a];c&&(this._events[a]=this._events[a]||[]).unshift(c)}return this}trigger(t,e={}){let i=this._events[t];if(i){const s=i.length;e.sender=this,e._defaultPrevented=!1,e.preventDefault=WE,e.isDefaultPrevented=ZE,i=i.slice();for(let o=0;o<s;o++)i[o].call(this,e);return!0===e._defaultPrevented}return!1}unbind(t,e){const i=this._events[t];if(void 0===t)this._events={};else if(i)if(e)for(let s=i.length-1;s>=0;s--)(i[s]===e||i[s].original===e)&&i.splice(s,1);else this._events[t]=[];return this}};function Ua(n,t){const e={},i=window.getComputedStyle(n)||{},s=Array.isArray(t)?t:[t];for(let o=0;o<s.length;o++){let r=s[o];e[r]=i[r]}return e}function Ng(n){return isNaN(n)?n:n+"px"}function er(n,t){if(!t){const e=Ua(n,["width","height"]);return{width:parseInt(e.width,10),height:parseInt(e.height,10)}}{const{width:e,height:i}=t;ee(e)&&(n.style.width=Ng(e)),ee(i)&&(n.style.height=Ng(i))}}function Pg(n={}){return n.touch?n.touch.initialTouch:n.target}function Lg(n){const{paddingLeft:t,paddingTop:e}=Ua(n,["paddingLeft","paddingTop"]);return{top:parseFloat(e),left:parseFloat(t)}}function Bg(n){const t=n.getBoundingClientRect(),e=document.documentElement;return{top:t.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}}function Fg(n){return ee((n.x||{}).location)?{x:n.x.location,y:n.y.location}:{x:n.pageX||n.clientX||0,y:n.pageY||n.clientY||0}}const YE=/matrix\((.*)\)/;function zg(n){const t=getComputedStyle(n).transform;return"none"===t?ft.unit():function qE(n){const t=n.match(YE);if(null===t||2!==t.length)return ft.unit();const e=t[1].split(",").map(i=>parseFloat(i));return new ft(...e)}(t)}function Gg(n){if(!n)return ft.unit();let t=zg(n),e=n.parentElement;for(;e;){const i=zg(e);t=t.multiplyCopy(i),e=e.parentElement}return t.b=t.c=t.e=t.f=0,t}const KE=["click","mouseenter","mouseleave","mousemove","resize"],Vh=class JE extends $E{constructor(t,e){super(),this.options=Object.assign({},e),this.element=t,this.element._kendoExportVisual=this.exportVisual.bind(this),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._mousemove=this._handler("mousemove"),this._visual=new ge,er(t,this.options),this.bind(KE,this.options),this._enableTracking()}draw(t){this._visual.children.push(t)}clear(){this._visual.children=[]}destroy(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()}eventTarget(t){let i,e=Pg(t);for(;!i&&e&&(i=e._kendoNode,e!==this.element);)e=e.parentElement;if(i)return i.srcElement}exportVisual(){return this._visual}getSize(){return er(this.element)}currentSize(t){if(!t)return this._size;this._size=t}setSize(t){er(this.element,t),this.currentSize(t),this._resize()}resize(t){const e=this.getSize(),i=this.currentSize();(t||(e.width>0||e.height>0)&&(!i||e.width!==i.width||e.height!==i.height))&&(this.currentSize(e),this._resize(e,t),this.trigger("resize",e))}size(t){if(!t)return this.getSize();this.setSize(t)}suspendTracking(){this._suspendedTracking=!0}resumeTracking(){this._suspendedTracking=!1}_enableTracking(){}_resize(){}_handler(t){return e=>{const i=this.eventTarget(e);i&&!this._suspendedTracking&&this.trigger(t,{element:i,originalEvent:e,type:t})}}_elementOffset(){const t=this.element,e=Lg(t),{left:i,top:s}=Bg(t);return{left:i+e.left,top:s+e.top}}_surfacePoint(t){const e=this._elementOffset(),i=Fg(t),s=i.x-e.left,o=i.y-e.top,r=Gg(this.element).invert();return new A(s,o).transform(r)}};function jh(n,t){for(let e in t){const i=e.trim().split(" ");for(let s=0;s<i.length;s++)n.addEventListener(i[s],t[e],!1)}}function Wh(n,t={}){for(let e in t){const i=e.trim().split(" ");for(let s=0;s<i.length;s++)n.removeEventListener(i[s],t[e],!1)}}function $s(){let n,t;const e=new Promise((i,s)=>{n=o=>(e._state="resolved",i(o),e),t=o=>(e._state="rejected",s(o),e)});return e._state="pending",e.resolve=n,e.reject=t,e.state=()=>e._state,e}function Ug(n){return Promise.all(n)}const tr=class QE extends U{constructor(t){super(),this.childNodes=[],this.parent=null,t&&(this.srcElement=t,this.observe())}destroy(){this.srcElement&&this.srcElement.removeObserver(this);const t=this.childNodes;for(let e=0;e<t.length;e++)this.childNodes[e].destroy();this.parent=null}load(){}observe(){this.srcElement&&this.srcElement.addObserver(this)}append(t){this.childNodes.push(t),t.parent=this}insertAt(t,e){this.childNodes.splice(e,0,t),t.parent=this}remove(t,e){const i=t+e;for(let s=t;s<i;s++)this.childNodes[s].removeSelf();this.childNodes.splice(t,e)}removeSelf(){this.clear(),this.destroy()}clear(){this.remove(0,this.childNodes.length)}invalidate(){this.parent&&this.parent.invalidate()}geometryChange(){this.invalidate()}optionsChange(){this.invalidate()}childrenChange(t){"add"===t.action?this.load(t.items,t.index):"remove"===t.action&&this.remove(t.index,t.items.length),this.invalidate()}},ji={};function Ha(n,t){const e=t.segments;if(0===e.length)return;let i=e[0],s=i.anchor();n.moveTo(s.x,s.y);for(let o=1;o<e.length;o++){i=e[o],s=i.anchor();let a=e[o-1].controlOut(),c=i.controlIn();a&&c?n.bezierCurveTo(a.x,a.y,c.x,c.y,s.x,s.y):n.lineTo(s.x,s.y)}t.options.closed&&n.closePath()}const Zh=class XE extends tr{constructor(t){super(t),t&&this.initClip()}initClip(){const t=this.srcElement.clip();t&&(this.clip=t,t.addObserver(this))}clear(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),super.clear()}clearClip(){this.clip&&(this.clip.removeObserver(this),delete this.clip)}setClip(t){this.clip&&(t.beginPath(),Ha(t,this.clip),t.clip())}optionsChange(t){"clip"===t.field&&(this.clearClip(),this.initClip()),super.optionsChange(t)}setTransform(t){if(this.srcElement){const e=this.srcElement.transform();e&&t.transform.apply(t,e.matrix().toArray(6))}}loadElements(t,e,i){for(let s=0;s<t.length;s++){let o=t[s],r=o.children,a=new ji[o.nodeType](o,i);r&&r.length>0&&a.load(r,e,i),ee(e)?this.insertAt(a,e):this.append(a)}}load(t,e,i){this.loadElements(t,e,i),this.invalidate()}setOpacity(t){if(this.srcElement){const e=this.srcElement.opacity();ee(e)&&this.globalAlpha(t,e)}}globalAlpha(t,e){let i=e;i&&t.globalAlpha&&(i*=t.globalAlpha),t.globalAlpha=i}visible(){const t=this.srcElement;return!t||t&&!1!==t.options.visible}};class ek extends(Hh(Zh,"childNodes")){renderTo(t){if(!this.visible())return;t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t);const e=this.childNodes;for(let i=0;i<e.length;i++){let s=e[i];s.visible()&&s.renderTo(t)}t.restore()}}const $h=ek,ir=Date.now||function(){return(new Date).getTime()};function Yh(n,t){let i,e=0;if(!t||t<=0)return n;const s=function(){const o=ir()-e,r=arguments,a=function(){n.apply(null,r),e=ir()};if(!e)return a();i&&clearTimeout(i),o>t?a():i=setTimeout(a,t-o)};return s.cancel=function(){clearTimeout(i)},s}let qh=n=>{const t=typeof window<"u"?window:{},e=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(i){setTimeout(i,1e3/60)};qh=i=>e.call(t,i),qh(n)};const Hg=qh;class ik extends(Hh($h,"childNodes")){constructor(t,e){super(),this.canvas=t,this.size=e,this.ctx=t.getContext("2d");const i=this._invalidate.bind(this);this.invalidate=Yh(()=>{Hg(i)},16.666666666666668)}destroy(){super.destroy(),this.canvas=null,this.ctx=null}load(t,e,i){this.loadElements(t,e,i),this._invalidate()}_rescale(t){const{canvas:e,size:i}=this;e.width=i.width*t,e.height=i.height*t,this.ctx.scale(t,t)}_devicePixelRatio(){return"number"==typeof window.devicePixelRatio?window.devicePixelRatio:1}_invalidate(t){if(!this.ctx)return;const i=t&&t.fixedScale?1:this._devicePixelRatio();this._rescale(i),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx)}}const Vg=ik,jg=class nk extends U{constructor(){super(),this.shapes=[]}_add(t,e){this.shapes.push({bbox:e,shape:t}),t._quadNode=this}pointShapes(t){const e=this.shapes,i=e.length,s=[];for(let o=0;o<i;o++)e[o].bbox.containsPoint(t)&&s.push(e[o].shape);return s}insert(t,e){this._add(t,e)}remove(t){const e=this.shapes,i=e.length;for(let s=0;s<i;s++)if(e[s].shape===t){e.splice(s,1);break}}};class Ys extends jg{constructor(t){super(),this.children=[],this.rect=t}inBounds(t){const e=this.rect,i=e.bottomRight(),s=t.bottomRight();return e.origin.x<=t.origin.x&&e.origin.y<=t.origin.y&&s.x<=i.x&&s.y<=i.y}pointShapes(t){const e=this.children,i=e.length,s=super.pointShapes(t);for(let o=0;o<i;o++)Xo(s,e[o].pointShapes(t));return s}insert(t,e){const i=this.children;let s=!1;if(this.inBounds(e)){if(this.shapes.length<4)this._add(t,e);else{i.length||this._initChildren();for(let o=0;o<i.length;o++)if(i[o].insert(t,e)){s=!0;break}s||this._add(t,e)}s=!0}return s}_initChildren(){const{rect:t,children:e}=this,i=t.center(),s=t.width()/2,o=t.height()/2;e.push(new Ys(new ue([t.origin.x,t.origin.y],[s,o])),new Ys(new ue([i.x,t.origin.y],[s,o])),new Ys(new ue([t.origin.x,i.y],[s,o])),new Ys(new ue([i.x,i.y],[s,o])))}}const Wg=Ys,Di=3e3;function rk(n,t){return n._zIndex<t._zIndex?1:n._zIndex>t._zIndex?-1:0}const Kh=class ok extends U{constructor(){super(),this.initRoots()}initRoots(){this.rootMap={},this.root=new jg,this.rootElements=[]}clear(){const t=this.rootElements;for(let e=0;e<t.length;e++)this.remove(t[e]);this.initRoots()}pointShape(t){const e=(this.rootMap[Math.floor(t.x/Di)]||{})[Math.floor(t.y/Di)];let i=this.root.pointShapes(t);e&&(i=i.concat(e.pointShapes(t))),this.assignZindex(i),i.sort(rk);for(let s=0;s<i.length;s++)if(i[s].containsPoint(t))return i[s]}assignZindex(t){for(let e=0;e<t.length;e++){let i=t[e],s=0,o=Math.pow(1e4,75),r=[];for(;i;)r.push(i),i=i.parent;for(;r.length;)i=r.pop(),s+=((i.parent?i.parent.children:this.rootElements).indexOf(i)+1)*o,o/=1e4;t[e]._zIndex=s}}optionsChange(t){("transform"===t.field||"stroke.width"===t.field)&&this.bboxChange(t.element)}geometryChange(t){this.bboxChange(t.element)}bboxChange(t){if("Group"===t.nodeType)for(let e=0;e<t.children.length;e++)this.bboxChange(t.children[e]);else t._quadNode&&t._quadNode.remove(t),this._insertShape(t)}add(t){const e=Array.isArray(t)?t.slice(0):[t];Xo(this.rootElements,e),this._insert(e)}childrenChange(t){if("remove"===t.action)for(let e=0;e<t.items.length;e++)this.remove(t.items[e]);else this._insert(Array.prototype.slice.call(t.items,0))}_insert(t){let e;for(;t.length>0;)e=t.pop(),e.addObserver(this),"Group"===e.nodeType?Xo(t,e.children):this._insertShape(e)}_insertShape(t){const e=t.bbox();if(e){const i=this.getSectors(e),s=i[0][0],o=i[1][0];if(this.inRoot(i))this.root.insert(t,e);else{const r=this.rootMap;r[s]||(r[s]={}),r[s][o]||(r[s][o]=new Wg(new ue([s*Di,o*Di],[Di,Di]))),r[s][o].insert(t,e)}}}remove(t){if(t.removeObserver(this),"Group"===t.nodeType){const e=t.children;for(let i=0;i<e.length;i++)this.remove(e[i])}else t._quadNode&&(t._quadNode.remove(t),delete t._quadNode)}inRoot(t){return t[0].length>1||t[1].length>1}getSectors(t){const e=t.bottomRight(),i=Math.floor(e.x/Di),s=Math.floor(e.y/Di),o=[[],[]];for(let r=Math.floor(t.origin.x/Di);r<=i;r++)o[0].push(r);for(let r=Math.floor(t.origin.y/Di);r<=s;r++)o[1].push(r);return o}};let Va=null;const ui={get browser(){return typeof window>"u"||Va||(Va=function ck(n){const t={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+))/i};let e={};for(let i in t)if(t.hasOwnProperty(i)){const s=n.match(t[i]);if(s){e[i]=!0,e[s[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,e.version=parseInt(document.documentMode||s[2],10);break}}return e}(window.navigator.userAgent)),Va}},qs={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},$g=ui.browser;let Yg=n=>{const t=Object.keys(qs);t.push("transparent");const e=new RegExp("^("+t.join("|")+")(\\W|$)","i");return Yg=i=>e.exec(i),e.exec(n)};class ja extends U{constructor(){super()}toHSV(){return this}toRGB(){return this}toHex(t){return this.toBytes().toHex(t)}toBytes(){return this}toCss(t){return"#"+this.toHex(t)}toCssRgba(){const t=this.toBytes();return`rgba(${t.r}, ${t.g}, ${t.b}, ${parseFloat(Number(this.a).toFixed(3))})`}toDisplay(){return $g.msie&&$g.version<9?this.toCss():this.toCssRgba()}equals(t){return t===this||null!=t&&this.toCssRgba()===di(t).toCssRgba()}diff(t){if(null===t)return NaN;const e=this.toBytes(),i=t.toBytes();return Math.sqrt(Math.pow(.3*(e.r-i.r),2)+Math.pow(.59*(e.g-i.g),2)+Math.pow(.11*(e.b-i.b),2))}clone(){let t=this.toBytes();return t===this&&(t=new Wi(t.r,t.g,t.b,t.a)),t}}class An extends ja{constructor(t,e,i,s){super(),this.r=t,this.g=e,this.b=i,this.a=s}toHSV(){const{r:t,g:e,b:i}=this,s=Math.min(t,e,i),o=Math.max(t,e,i),r=o-s,a=o;let c,h;return 0===r?new Jh(0,0,a,this.a):(0!==o?(h=r/o,c=t===o?(e-i)/r:e===o?2+(i-t)/r:4+(t-e)/r,c*=60,c<0&&(c+=360)):(h=0,c=-1),new Jh(c,h,a,this.a))}toHSL(){const{r:t,g:e,b:i}=this,s=Math.max(t,e,i),o=Math.min(t,e,i);let r,a,c=(s+o)/2;if(s===o)r=a=0;else{const h=s-o;switch(a=c>.5?h/(2-s-o):h/(s+o),s){case t:r=(e-i)/h+(e<i?6:0);break;case e:r=(i-t)/h+2;break;case i:r=(t-e)/h+4}}return new qg(60*r,100*a,100*c,this.a)}toBytes(){return new Wi(255*this.r,255*this.g,255*this.b,this.a)}}class Wi extends An{constructor(t,e,i,s){super(Math.round(t),Math.round(e),Math.round(i),s)}toRGB(){return new An(this.r/255,this.g/255,this.b/255,this.a)}toHSV(){return this.toRGB().toHSV()}toHSL(){return this.toRGB().toHSL()}toHex(t){let e=Wa(this.r,2)+Wa(this.g,2)+Wa(this.b,2);return t&&t.alpha&&(e+=Wa(Math.round(255*this.a),2)),e}toBytes(){return this}}function Wa(n,t,e="0"){let i=n.toString(16);for(;t>i.length;)i=e+i;return i}class Jh extends ja{constructor(t,e,i,s){super(),this.h=t,this.s=e,this.v=i,this.a=s}toRGB(){let s,o,r,{h:t,s:e,v:i}=this;if(0===e)s=o=r=i;else{t/=60;const a=Math.floor(t),c=t-a,h=i*(1-e),u=i*(1-e*c),d=i*(1-e*(1-c));switch(a){case 0:s=i,o=d,r=h;break;case 1:s=u,o=i,r=h;break;case 2:s=h,o=i,r=d;break;case 3:s=h,o=u,r=i;break;case 4:s=d,o=h,r=i;break;default:s=i,o=h,r=u}}return new An(s,o,r,this.a)}toHSL(){return this.toRGB().toHSL()}toBytes(){return this.toRGB().toBytes()}}class qg extends ja{constructor(t,e,i,s){super(),this.h=t,this.s=e,this.l=i,this.a=s}toRGB(){let s,o,r,t=this.h/360,e=this.s/100,i=this.l/100;if(0===e)s=o=r=i;else{const a=i<.5?i*(1+e):i+e-i*e,c=2*i-a;s=Qh(c,a,t+1/3),o=Qh(c,a,t),r=Qh(c,a,t-1/3)}return new An(s,o,r,this.a)}toHSV(){return this.toRGB().toHSV()}toBytes(){return this.toRGB().toBytes()}}function Qh(n,t,e){let i=e;return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+6*(t-n)*i:i<.5?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function Kg(n){return parseFloat(parseFloat(parseInt(n,16)/255).toFixed(3))}function di(n,t){let e,i;if(null==n||"none"===n)return null;if(n instanceof ja)return n;let s=n.toLowerCase();if(e=Yg(s))return s="transparent"===e[1]?new An(1,1,1,0):di(qs[e[1]],t),s.match=[e[1]],s;if((e=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(s))?i=new Wi(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),1):(e=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(s))?i=new Wi(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),1):(e=/^#?([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(s))?i=new Wi(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),Kg(e[4]+e[4])):(e=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(s))?i=new Wi(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),Kg(e[4])):(e=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(s))?i=new Wi(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),1):(e=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(s))?i=new Wi(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4])):(e=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(s))?i=new An(parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])/100,1):(e=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(s))&&(i=new An(parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])/100,parseFloat(e[4]))),i)i.match=e;else if(!t)throw new Error("Cannot parse color: "+s);return i}function hk(n){const t="_"+n;return function(e){return ee(e)?(this._observerField(t,A.create(e)),this.geometryChange(),this):this[t]}}const Za=(n,t)=>{const e=class extends n{};return function uk(n,t){for(let e=0;e<t.length;e++)n[t[e]]=hk(t[e])}(e.prototype,t),e},dk=[].push,pk=[].pop,fk=[].splice,gk=[].shift,Jg=[].slice,mk=[].unshift,Qg=class _k extends Pt{constructor(t=[]){super(),this.length=0,this._splice(0,t.length,t)}elements(t){return t?(this._splice(0,this.length,t),this._change(),this):this.slice(0)}push(){const t=arguments,e=dk.apply(this,t);return this._add(t),e}slice(){return Jg.call(this)}pop(){const t=this.length,e=pk.apply(this);return t&&this._remove([e]),e}splice(t,e){const i=Jg.call(arguments,2),s=this._splice(t,e,i);return this._change(),s}shift(){const t=this.length,e=gk.apply(this);return t&&this._remove([e]),e}unshift(){const t=arguments,e=mk.apply(this,t);return this._add(t),e}indexOf(t){const e=this.length;for(let i=0;i<e;i++)if(this[i]===t)return i;return-1}_splice(t,e,i){const s=fk.apply(this,[t,e].concat(i));return this._clearObserver(s),this._setObserver(i),s}_add(t){this._setObserver(t),this._change()}_remove(t){this._clearObserver(t),this._change()}_setObserver(t){for(let e=0;e<t.length;e++)t[e].addObserver(this)}_clearObserver(t){for(let e=0;e<t.length;e++)t[e].removeObserver(this)}_change(){}},xk=class vk extends Qg{_change(){this.optionsChange({field:"stops"})}};function bk(n){return function(t){return ee(t)?(this.options.set(n,t),this):this.options.get(n)}}const wk=["offset","color","opacity"];class nr extends(((n,t)=>{const e=class extends n{};return function yk(n,t){for(let e=0;e<t.length;e++)n[t[e]]=bk(t[e])}(e.prototype,t),e})(Pt,wk)){constructor(t,e,i){super(),this.options=new Bh({offset:t,color:e,opacity:ee(i)?i:1}),this.options.addObserver(this)}static create(t){if(ee(t)){let e;return e=t instanceof nr?t:t.length>1?new nr(t[0],t[1],t[2]):new nr(t.offset,t.color,t.opacity),e}}}const Xh=nr,eu=class Ck extends Pt{get nodeType(){return"Gradient"}constructor(t={}){super(),this.stops=new xk(this._createStops(t.stops)),this.stops.addObserver(this),this._userSpace=t.userSpace,this.id=za()}userSpace(t){return ee(t)?(this._userSpace=t,this.optionsChange(),this):this._userSpace}_createStops(t=[]){const e=[];for(let i=0;i<t.length;i++)e.push(Xh.create(t[i]));return e}addStop(t,e,i){this.stops.push(new Xh(t,e,i))}removeStop(t){const e=this.stops.indexOf(t);e>=0&&this.stops.splice(e,1)}optionsChange(t){this.trigger("optionsChange",{field:"gradient"+(t?"."+t.field:""),value:this})}geometryChange(){this.optionsChange()}},Ek=["start","end"];class kk extends(Za(eu,Ek)){constructor(t={}){super(t),this.start(t.start||new A),this.end(t.end||new A(1,0))}}const sr=kk;class Ak extends(Za(eu,["center"])){constructor(t={}){super(t),this.center(t.center||new A),this._radius=ee(t.radius)?t.radius:1,this._fallbackFill=t.fallbackFill}radius(t){return ee(t)?(this._radius=t,this.geometryChange(),this):this._radius}fallbackFill(t){return ee(t)?(this._fallbackFill=t,this.optionsChange(),this):this._fallbackFill}}const $a=Ak,Xg={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},tu="solid",Tn=class Mk extends Zh{renderTo(t){t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),this.renderPoints(t,this.srcElement),this.setLineDash(t),this.setLineCap(t),this.setLineJoin(t),this.setFill(t),this.setStroke(t),t.restore()}setFill(t){const e=this.srcElement.options.fill;let i=!1;return e&&("Gradient"===e.nodeType?(this.setGradientFill(t,e),i=!0):ls(e.color)||(t.fillStyle=e.color,t.save(),this.globalAlpha(t,e.opacity),t.fill(),t.restore(),i=!0)),i}setGradientFill(t,e){const i=this.srcElement.rawBBox();let s;if(e instanceof sr){let o=e.start(),r=e.end();s=t.createLinearGradient(o.x,o.y,r.x,r.y)}else if(e instanceof $a){let o=e.center();s=t.createRadialGradient(o.x,o.y,0,o.x,o.y,e.radius())}(function Tk(n,t){for(let e=0;e<t.length;e++){let i=t[e],s=di(i.color());s.a*=i.opacity(),n.addColorStop(i.offset(),s.toCssRgba())}})(s,e.stops),t.save(),e.userSpace()||t.transform(i.width(),0,0,i.height(),i.origin.x,i.origin.y),t.fillStyle=s,t.fill(),t.restore()}setStroke(t){const e=this.srcElement.options.stroke;if(e&&!ls(e.color)&&e.width>0)return t.strokeStyle=e.color,t.lineWidth=Uh(e.width,1),t.save(),this.globalAlpha(t,e.opacity),t.stroke(),t.restore(),!0}dashType(){const t=this.srcElement.options.stroke;if(t&&t.dashType)return t.dashType.toLowerCase()}setLineDash(t){const e=this.dashType();if(e&&e!==tu){const i=Xg[e];t.setLineDash?t.setLineDash(i):(t.mozDash=i,t.webkitLineDash=i)}}setLineCap(t){const e=this.dashType(),i=this.srcElement.options.stroke;e&&e!==tu?t.lineCap="butt":i&&i.lineCap&&(t.lineCap=i.lineCap)}setLineJoin(t){const e=this.srcElement.options.stroke;e&&e.lineJoin&&(t.lineJoin=e.lineJoin)}renderPoints(t,e){Ha(t,e)}},tm=class Dk extends Tn{renderPoints(t){Ha(t,this.srcElement.toPath())}},im=class Ik extends Tn{renderPoints(t){const{center:e,radius:i}=this.srcElement.geometry();t.arc(e.x,e.y,i,0,2*Math.PI)}},nm=class Ok extends Tn{constructor(t,e){super(t),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loading=$s();const i=this.img=new Image,s=t.src();e&&!/^data:/i.test(s)&&(i.crossOrigin=e),s&&(i.src=s),i.complete?this.onLoad():(i.onload=this.onLoad,i.onerror=this.onError)}renderTo(t){"resolved"===this.loading.state()&&(t.save(),this.setTransform(t),this.setClip(t),this.drawImage(t),t.restore())}optionsChange(t){"src"===t.field?(this.loading=$s(),this.img.src=this.srcElement.src()):super.optionsChange(t)}onLoad(){this.loading.resolve(),this.invalidate()}onError(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))}drawImage(t){const e=this.srcElement.rect(),i=e.topLeft();t.drawImage(this.img,i.x,i.y,e.width(),e.height())}},sm=class Rk extends Tn{renderPoints(t){const e=this.srcElement.paths;for(let i=0;i<e.length;i++)Ha(t,e[i])}},om=class Nk extends Qg{_change(){this.geometryChange()}};function Mn(n){return n/Fh}function rm(n,t,e){const i=Mn(Math.atan2(t.y-n.y,t.x-n.x));return e.transformCopy(me().rotate(-i,n)).x<n.x}function Ya(n,t,e){const i=1-n;return Math.pow(i,3)*e[0][t]+3*Math.pow(i,2)*n*e[1][t]+3*Math.pow(n,2)*i*e[2][t]+Math.pow(n,3)*e[3][t]}function am(n,t){return[3*n[1][t]-n[0][t]-3*n[2][t]+n[3][t],3*(n[0][t]-2*n[1][t]+n[2][t]),3*(-n[0][t]+n[1][t]),n[0][t]]}class Dn extends U{constructor(t=0,e=0){super(),this.real=t,this.img=e}add(t){return new Dn(Ie(this.real+t.real,10),Ie(this.img+t.img,10))}addConstant(t){return new Dn(this.real+t,this.img)}negate(){return new Dn(-this.real,-this.img)}multiply(t){return new Dn(this.real*t.real-this.img*t.img,this.real*t.img+this.img*t.real)}multiplyConstant(t){return new Dn(this.real*t,this.img*t)}nthRoot(t){const e=Math.atan2(this.img,this.real),i=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),s=Math.pow(i,1/t);return new Dn(s*Math.cos(e/t),s*Math.sin(e/t))}equals(t){return this.real===t.real&&this.img===t.img}isReal(){return 0===this.img}}const or=Dn;function lm(n){return n<0?-1:1}function cm(n,t,e,i){if(0===n)return function Pk(n,t,e){const i=Math.sqrt(Math.pow(t,2)-4*n*e);return[(-t+i)/(2*n),(-t-i)/(2*n)]}(t,e,i);const s=(3*n*e-Math.pow(t,2))/(3*Math.pow(n,2)),o=(2*Math.pow(t,3)-9*n*t*e+27*Math.pow(n,2)*i)/(27*Math.pow(n,3)),r=Math.pow(s/3,3)+Math.pow(o/2,2),a=new or(0,1),c=-t/(3*n);let h,u,d,p,f,g,m;r<0?(h=new or(-o/2,Math.sqrt(-r)).nthRoot(3),u=new or(-o/2,-Math.sqrt(-r)).nthRoot(3)):(h=-o/2+Math.sqrt(r),h=new or(lm(h)*Math.pow(Math.abs(h),1/3)),u=-o/2-Math.sqrt(r),u=new or(lm(u)*Math.pow(Math.abs(u),1/3))),d=h.add(u),g=h.add(u).multiplyConstant(-.5),m=h.add(u.negate()).multiplyConstant(Math.sqrt(3)/2),p=g.add(a.multiply(m)),f=g.add(a.negate().multiply(m));const _=[];return d.isReal()&&_.push(Ie(d.real+c,10)),p.isReal()&&_.push(Ie(p.real+c,10)),f.isReal()&&_.push(Ie(f.real+c,10)),_}function qa(n,t,e,i,s){const o=am(n,i),r=cm(o[0],o[1],o[2],o[3]-t[i]);let a;for(let c=0;c<r.length;c++)if(0<=r[c]&&r[c]<=1&&(a=Ya(r[c],e,n),Math.abs(a-t[e])<=s))return!0}function hm(n,t,e=10){return 0===Ie(Math.abs(n-t),e)}function um(n,t,e){let i;if(n.x!==t.x){const s=Math.min(n.x,t.x),o=Math.max(n.x,t.x),r=Math.min(n.y,t.y),a=Math.max(n.y,t.y),c=s<=e.x&&e.x<o;i=r===a?e.y<=r&&c:c&&(a-r)*((n.x-t.x)*(n.y-t.y)>0?e.x-s:o-e.x)/(o-s)+r-e.y>=0}return i?1:0}const Bk=["anchor","controlIn","controlOut"];class Fk extends(Za(Pt,Bk)){constructor(t,e,i){super(),this.anchor(t||new A),this.controlIn(e),this.controlOut(i)}bboxTo(t,e){const i=this.anchor().transformCopy(e),s=t.anchor().transformCopy(e);let o;return o=this.controlOut()&&t.controlIn()?this._curveBoundingBox(i,this.controlOut().transformCopy(e),t.controlIn().transformCopy(e),s):this._lineBoundingBox(i,s),o}_lineBoundingBox(t,e){return ue.fromPoints(t,e)}_curveBoundingBox(t,e,i,s){const o=[t,e,i,s],r=this._curveExtremesFor(o,"x"),a=this._curveExtremesFor(o,"y"),c=dm([r.min,r.max,t.x,s.x]),h=dm([a.min,a.max,t.y,s.y]);return ue.fromPoints(new A(c.min,h.min),new A(c.max,h.max))}_curveExtremesFor(t,e){const i=this._curveExtremes(t[0][e],t[1][e],t[2][e],t[3][e]);return{min:Ya(i.min,e,t),max:Ya(i.max,e,t)}}_curveExtremes(t,e,i,s){const o=t-3*e+3*i-s,r=-2*(t-2*e+i),a=t-e,c=Math.sqrt(r*r-4*o*a);let h=0,u=1;0===o?0!==r&&(h=u=-a/r):isNaN(c)||(h=(-r+c)/(2*o),u=(-r-c)/(2*o));let d=Math.max(Math.min(h,u),0);(d<0||d>1)&&(d=0);let p=Math.min(Math.max(h,u),1);return(p>1||p<0)&&(p=1),{min:d,max:p}}_intersectionsTo(t,e){let i;return i=this.controlOut()&&t.controlIn()?function Lk(n,t,e){const i=am(n,"x"),s=cm(i[0],i[1],i[2],i[3]-t.x);let o,r,a=0;for(let c=0;c<s.length;c++)o=Ya(s[c],"y",n),r=hm(o,t.y)||o>t.y,r&&((0===s[c]||1===s[c])&&e.bottomRight().x>t.x||0<s[c]&&s[c]<1)&&a++;return a}([this.anchor(),this.controlOut(),t.controlIn(),t.anchor()],e,this.bboxTo(t)):um(this.anchor(),t.anchor(),e),i}_isOnCurveTo(t,e,i,s){if(this.bboxTo(t).expand(i,i).containsPoint(e)){const r=this.anchor(),a=this.controlOut(),c=t.controlIn(),h=t.anchor();if("start"===s&&r.distanceTo(e)<=i)return!rm(r,a,e);if("end"===s&&h.distanceTo(e)<=i)return!rm(h,c,e);const u=[r,a,c,h];if(qa(u,e,"x","y",i)||qa(u,e,"y","x",i))return!0;const d=me().rotate(45,e),p=[r.transformCopy(d),a.transformCopy(d),c.transformCopy(d),h.transformCopy(d)];return qa(p,e,"x","y",i)||qa(p,e,"y","x",i)}}_isOnLineTo(t,e,i){const s=this.anchor(),o=t.anchor(),r=Mn(Math.atan2(o.y-s.y,o.x-s.x));return new ue([s.x,s.y-i/2],[s.distanceTo(o),i]).containsPoint(e.transformCopy(me().rotate(-r,s)))}_isOnPathTo(t,e,i,s){let o;return o=this.controlOut()&&t.controlIn()?this._isOnCurveTo(t,e,i/2,s):this._isOnLineTo(t,e,i),o}}function dm(n){let t=n.length,e=Ws,i=Zs;for(let s=0;s<t;s++)i=Math.max(i,n[s]),e=Math.min(e,n[s]);return{min:e,max:i}}const at=Fk;function lt(n){if(n)return n[n.length-1]}const Yt="x",qt="y";function gm(n,t){for(;t[n+1]&&(t[n].equals(t[n+1])||t[n+1].equals(t[n+2]));)t.splice(n+1,1)}function mm(n,t){const e=(t.y-n.y)/(t.x-n.x);return[n.y-e*n.x,e]}function iu(n,t,e){let a,i=Yt,s=qt,o=!1,r=!1;if(function Uk(n,t,e){const s=bm(mm(n,t),e.x);return n.x===t.x&&t.x===e.x||Ie(s,1)===Ie(e.y,1)}(n,t,e))a=rr(n,t,Yt,qt);else{const u={x:vm(n,t,e,Yt),y:vm(n,t,e,qt)};if(u.x&&u.y)a=rr(n,e,Yt,qt),o=!0;else if(function Gk(n,t,e){let i=!1;if(n.x===t.x)i=!0;else if(t.x===e.x)(t.y<e.y&&n.y<=t.y||e.y<t.y&&t.y<=n.y)&&(i=!0);else{const o=bm(mm(n,t),e.x);n.y<=t.y&&e.y<=o||t.y<=n.y&&e.y>=o||(i=!0)}return i}(n,t,e)&&(i=qt,s=Yt),u[i])a=0;else{let d;d=e[s]<n[s]&&n[s]<=t[s]||n[s]<e[s]&&t[s]<=n[s]?ym((e[s]-n[s])*(t[i]-n[i])):-ym((e[i]-n[i])*(t[s]-n[s])),a=.01*d,r=!0}}const c=su(a,n,t,i,s);if(r){const u=i;i=s,s=u}const h=nu(a,t,e,i,s);return o&&(_m(n,t,c,a),_m(t,e,h,a)),[c,h]}function _m(n,t,e,i){n.y<t.y?t.y<e.y?(e.x=n.x+(t.y-n.y)/i,e.y=t.y):e.y<n.y&&(e.x=t.x-(t.y-n.y)/i,e.y=n.y):e.y<t.y?(e.x=n.x-(n.y-t.y)/i,e.y=t.y):n.y<e.y&&(e.x=t.x+(n.y-t.y)/i,e.y=n.y)}function rr(n,t,e,i){const s=t[e]-n[e];let r;return r=0===s?0:(t[i]-n[i])/s,r}function vm(n,t,e,i){return e[i]>t[i]&&t[i]>n[i]||e[i]<t[i]&&t[i]<n[i]}function nu(n,t,e,i,s){const o=t[i],a=.333*(e[i]-o);return xm(o+a,t[s]+a*n,i,s)}function su(n,t,e,i,s){const r=e[i],a=.333*(r-t[i]);return xm(r-a,e[s]-a*n,i,s)}function xm(n,t,e,i){const s=new A;return s[e]=n,s[i]=t,s}function bm(n,t){const e=n.length;let i=0;for(let s=0;s<e;s++)i+=Math.pow(t,s)*n[s];return i}function ym(n){return n<=0?-1:1}const Ks=n=>class extends n{fill(t,e){const i=this.options;if(ee(t)){if(t&&"Gradient"!==t.nodeType){const s={color:t};ee(e)&&(s.opacity=e),i.set("fill",s)}else i.set("fill",t);return this}return i.get("fill")}stroke(t,e,i){return ee(t)?(this.options.set("stroke.color",t),ee(e)&&this.options.set("stroke.width",e),ee(i)&&this.options.set("stroke.opacity",i),this):this.options.get("stroke")}},Vk=ft.IDENTITY.toString(),ar=n=>class extends n{bbox(t){const e=Cn(this.currentTransform(t)),i=e?e.toString():Vk;let s;this._bboxCache&&this._matrixHash===i?s=this._bboxCache.clone():(s=this._bbox(e),this._bboxCache=s?s.clone():null,this._matrixHash=i);const o=this.options.get("stroke.width");return o&&s&&s.expand(o/2),s}geometryChange(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}};function ou(n,t,e){return n<t||hm(n,t,e)}function Sm(n,t,e,i){let s=0,o=0;return i&&(s=Math.atan2(i.c*e,i.a*t),0!==i.b&&(o=Math.atan2(i.d*e,i.b*t))),{x:s,y:o}}const Ka=Math.pow,Zk=["radiusX","radiusY","startAngle","endAngle","anticlockwise"];class Ja extends(Fa(Pt,Zk)){constructor(t=new A,e={}){super(),this.setCenter(t),this.radiusX=e.radiusX,this.radiusY=e.radiusY||e.radiusX,this.startAngle=e.startAngle,this.endAngle=e.endAngle,this.anticlockwise=e.anticlockwise||!1,this.xRotation=e.xRotation}clone(){return new Ja(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})}setCenter(t){return this._observerField("center",A.create(t)),this.geometryChange(),this}getCenter(){return this.center}pointAt(t){const e=this.center,i=Ti(t);return new A(e.x+this.radiusX*Math.cos(i),e.y+this.radiusY*Math.sin(i))}curvePoints(){const t=this.startAngle,e=this.anticlockwise?-1:1,i=[this.pointAt(t)],s=this._arcInterval(),o=s.endAngle-s.startAngle,r=Math.ceil(o/45),a=o/r;let h,c=t;this.xRotation&&(h=me().rotate(this.xRotation,this.center));for(let u=1;u<=r;u++){const d=c+e*a,p=this._intervalCurvePoints(c,d,h);i.push(p.cp1,p.cp2,p.p2),c=d}return i}bbox(t){const e=this._arcInterval(),i=e.startAngle,s=e.endAngle,o=Sm(0,this.radiusX,this.radiusY,t),r=Mn(o.x),a=Mn(o.y),c=this.pointAt(s).transformCopy(t);let h=Cm(r,i),u=Cm(a,i),d=this.pointAt(i).transformCopy(t),p=A.min(d,c),f=A.max(d,c);for(;h<s||u<s;){let g,m;h<s&&(g=this.pointAt(h).transformCopy(t),h+=90),u<s&&(m=this.pointAt(u).transformCopy(t),u+=90),d=new A(g.x,m.y),p=A.min(p,d),f=A.max(f,d)}return ue.fromPoints(p,f)}_arcInterval(){let{startAngle:t,endAngle:e,anticlockwise:i}=this;if(i){let s=t;t=e,e=s}return(t>e||i&&t===e)&&(e+=360),{startAngle:t,endAngle:e}}_intervalCurvePoints(t,e,i){const s=this.pointAt(t),o=this.pointAt(e),r=this._derivativeAt(t),a=this._derivativeAt(e),c=(Ti(e)-Ti(t))/3,h=new A(s.x+c*r.x,s.y+c*r.y),u=new A(o.x-c*a.x,o.y-c*a.y);return i&&(s.transform(i),o.transform(i),h.transform(i),u.transform(i)),{p1:s,cp1:h,cp2:u,p2:o}}_derivativeAt(t){const e=Ti(t);return new A(-this.radiusX*Math.sin(e),this.radiusY*Math.cos(e))}containsPoint(t){const e=this._arcInterval(),i=e.endAngle-e.startAngle,{center:s,radiusX:o,radiusY:r}=this,a=s.distanceTo(t),c=Math.atan2(t.y-s.y,t.x-s.x),h=o*r/Math.sqrt(Ka(o,2)*Ka(Math.sin(c),2)+Ka(r,2)*Ka(Math.cos(c),2)),u=this.pointAt(this.startAngle).round(10),d=this.pointAt(this.endAngle).round(10),p=function jk(n,t,e,i){const s=t.x-n.x,o=i.x-e.x,r=t.y-n.y,a=i.y-e.y,c=n.x-e.x,h=n.y-e.y,u=s*a-o*r,d=(s*h-r*c)/u,p=(o*h-a*c)/u;if(d>=0&&d<=1&&p>=0&&p<=1)return new A(n.x+p*s,n.y+p*r)}(s,t.round(10),u,d);let f;if(i<180)f=p&&ou(s.distanceTo(p),a)&&ou(a,h);else{let g=wm(s.x,s.y,o,r,t.x,t.y);360!==g&&(g=(360+g)%360);let m=e.startAngle<=g&&g<=e.endAngle;f=m&&ou(a,h)||!m&&(!p||p.equals(t))}return f}_isOnPath(t,e){const i=this._arcInterval(),s=this.center;let o=wm(s.x,s.y,this.radiusX,this.radiusY,t.x,t.y);return 360!==o&&(o=(360+o)%360),i.startAngle<=o&&o<=i.endAngle&&this.pointAt(o).distanceTo(t)<=e}static fromPoints(t,e,i,s,o,r,a){const c=function $k(n){let{x1:t,y1:e,x2:i,y2:s,rx:o,ry:r,largeArc:a,swipe:c,rotation:h=0}=n;const u=Ti(h),d=Math.cos(u),p=Math.sin(u),f=d*(t-i)/2+p*(e-s)/2,g=-p*(t-i)/2+d*(e-s)/2,m=a!==c?1:-1,_=Math.pow(f,2),v=Math.pow(g,2);let x=Math.pow(o,2),S=Math.pow(r,2),T=_/x+v/S;T>1&&(T=Math.sqrt(_/x+v/S),o*=T,x=Math.pow(o,2),r*=T,S=Math.pow(r,2));let D=m*Math.sqrt((x*S-x*v-S*_)/(x*v+S*_));isNaN(D)&&(D=0);const I=D*(o*g)/r,F=r*f*-D/o,O=d*I-p*F+(t+i)/2,$=p*I+d*F+(e+s)/2,q=(f-I)/o,C=(g-F)/r,z=-(f+I)/o,w=-(g+F)/r,Z=(C>=0?1:-1)*Mn(Math.acos(q/Math.sqrt(q*q+C*C))),E=Ie((q*z+C*w)/(Math.sqrt(q*q+C*C)*Math.sqrt(z*z+w*w)),10);let R=(q*w-C*z>=0?1:-1)*Mn(Math.acos(E));!c&&R>0&&(R-=360),c&&R<0&&(R+=360);let B=Z+R;const se=B>=0?1:-1;return B=Math.abs(B)%360*se,{center:new A(O,$),startAngle:Z,endAngle:B,radiusX:o,radiusY:r,xRotation:h}}({x1:t.x,y1:t.y,x2:e.x,y2:e.y,rx:i,ry:s,largeArc:o,swipe:r,rotation:a});return new Ja(c.center,{startAngle:c.startAngle,endAngle:c.endAngle,radiusX:c.radiusX,radiusY:c.radiusY,xRotation:c.xRotation,anticlockwise:0===r})}}function wm(n,t,e,i,s,o){const r=Ie((s-n)/e,3),a=Ie((o-t)/i,3);return Ie(Mn(Math.atan2(a,r)))}function Cm(n,t){let e=n;for(;e<t;)e+=90;return e}const Ii=Ja,Yk={l:function(n,t){const{parameters:e,position:i}=t;for(let s=0;s<e.length;s+=2){let o=new A(e[s],e[s+1]);t.isRelative&&o.translateWith(i),n.lineTo(o.x,o.y),i.x=o.x,i.y=o.y}},c:function(n,t){const{parameters:e,position:i}=t;for(let s=0;s<e.length;s+=6){let o=new A(e[s],e[s+1]),r=new A(e[s+2],e[s+3]),a=new A(e[s+4],e[s+5]);t.isRelative&&(r.translateWith(i),o.translateWith(i),a.translateWith(i)),n.curveTo(o,r,a),i.x=a.x,i.y=a.y}},v:function(n,t){Em(t.parameters,!0,t.isRelative?0:t.position.x),this.l(n,t)},h:function(n,t){Em(t.parameters,!1,t.isRelative?0:t.position.y),this.l(n,t)},a:function(n,t){const{parameters:e,position:i}=t;for(let s=0;s<e.length;s+=7){const o=e[s],r=e[s+1],a=e[s+2],c=e[s+3],h=e[s+4],u=new A(e[s+5],e[s+6]);t.isRelative&&u.translateWith(i),(i.x!==u.x||i.y!==u.y)&&(n.arcTo(u,o,r,c,h,a),i.x=u.x,i.y=u.y)}},s:function(n,t){const{parameters:e,position:i,previousCommand:s}=t;let o;("s"===s||"c"===s)&&(o=lt(lt(n.paths).segments).controlIn());for(let r=0;r<e.length;r+=4){let h,a=new A(e[r],e[r+1]),c=new A(e[r+2],e[r+3]);t.isRelative&&(a.translateWith(i),c.translateWith(i)),h=o?km(o,i):i.clone(),o=a,n.curveTo(h,a,c),i.x=c.x,i.y=c.y}},q:function(n,t){const{parameters:e,position:i}=t;for(let s=0;s<e.length;s+=4){let o=new A(e[s],e[s+1]),r=new A(e[s+2],e[s+3]);t.isRelative&&(o.translateWith(i),r.translateWith(i));let a=Tm(i,o,r);n.curveTo(a.controlOut,a.controlIn,r),i.x=r.x,i.y=r.y}},t:function(n,t){const{parameters:e,position:i,previousCommand:s}=t;let o;("q"===s||"t"===s)&&(o=lt(lt(n.paths).segments).controlIn().clone().translateWith(i.scaleCopy(-1/3)).scale(1.5));for(let r=0;r<e.length;r+=2){let a=new A(e[r],e[r+1]);t.isRelative&&a.translateWith(i),o=o?km(o,i):i.clone();let c=Tm(i,o,a);n.curveTo(c.controlOut,c.controlIn,a),i.x=a.x,i.y=a.y}}};function Em(n,t,e){const i=t?0:1;for(let s=0;s<n.length;s+=2)n.splice(s+i,0,e)}function km(n,t){if(n&&t)return t.scaleCopy(2).translate(-n.x,-n.y)}const Am=1/3;function Tm(n,t,e){const i=t.clone().scale(.6666666666666666);return{controlOut:i.clone().translateWith(n.scaleCopy(Am)),controlIn:i.translateWith(e.scaleCopy(Am))}}const Mm=Yk,qk=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,Kk=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,ru=function Xk(n,t){const e=new A;let i;return t.replace(qk,(s,o,r,a)=>{let c=o.toLowerCase();const h=c===o,u=function Qk(n){const t=[];return n.replace(Kk,function(e,i){t.push(parseFloat(i))}),t}(r.trim());if("m"===c&&(h?(e.x+=u[0],e.y+=u[1]):(e.x=u[0],e.y=u[1]),n.moveTo(e.x,e.y),u.length>2&&(c="l",u.splice(0,2))),Mm[c])Mm[c](n,{parameters:u,position:e,isRelative:h,previousCommand:i}),a&&"z"===a.toLowerCase()&&n.close();else if("m"!==c)throw new Error("Error while parsing SVG path. Unsupported command: "+c);i=c}),n};function Qa(n,t,e){return Math.max(Math.min(n,e),t)}const tA=(n,t)=>n.controlOut()&&t.controlIn()?"C":"L";class G extends(Ks(ar(Mi))){get nodeType(){return"Path"}constructor(t){super(t),this.segments=new om,this.segments.addObserver(this),ee(this.options.stroke)||(this.stroke("#000"),ee(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))}moveTo(t,e){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(t,e),this}lineTo(t,e){const i=ee(e)?new A(t,e):t,s=new at(i);return this.segments.push(s),this}curveTo(t,e,i){if(this.segments.length>0){const s=lt(this.segments),o=new at(i,e);this.suspend(),s.controlOut(t),this.resume(),this.segments.push(o)}return this}arc(t,e,i,s,o){if(this.segments.length>0){const a=lt(this.segments).anchor(),c=Ti(t),h=new A(a.x-i*Math.cos(c),a.y-s*Math.sin(c)),u=new Ii(h,{startAngle:t,endAngle:e,radiusX:i,radiusY:s,anticlockwise:o});this._addArcSegments(u)}return this}arcTo(t,e,i,s,o,r){if(this.segments.length>0){const c=lt(this.segments).anchor(),h=Ii.fromPoints(c,A.create(t),e,i,s,o,r);this._addArcSegments(h)}return this}_addArcSegments(t){this.suspend();const e=t.curvePoints();for(let i=1;i<e.length;i+=3)this.curveTo(e[i],e[i+1],e[i+2]);this.resume(),this.geometryChange()}close(){return this.options.closed=!0,this.geometryChange(),this}rawBBox(){return this._bbox()}toString(t){let e="";const i=this.segments,s=i.length;if(s>0){const o=[],r=(n=t,(...t)=>t.map(e=>e.toString(n)).join(" "));let a;for(let c=1;c<s;c++){let h=tA(i[c-1],i[c]);h!==a&&(a=h,o.push(h)),o.push("L"===h?r(i[c].anchor()):r(i[c-1].controlOut(),i[c].controlIn(),i[c].anchor()))}e="M"+r(i[0].anchor())+" "+o.join(" "),this.options.closed&&(e+="Z")}var n;return e}_containsPoint(t){const e=this.segments,i=e.length;let o,r,s=0;for(let a=1;a<i;a++)o=e[a-1],r=e[a],s+=o._intersectionsTo(r,t);return(this.options.closed||!e[0].anchor().equals(e[i-1].anchor()))&&(s+=um(e[0].anchor(),e[i-1].anchor(),t)),s%2!=0}_isOnPath(t,e){const i=this.segments,s=i.length,o=e||this.options.stroke.width;if(s>1){if(i[0]._isOnPathTo(i[1],t,o,"start"))return!0;for(let r=2;r<=s-2;r++)if(i[r-1]._isOnPathTo(i[r],t,o))return!0;if(i[s-2]._isOnPathTo(i[s-1],t,o,"end"))return!0}return!1}_bbox(t){const e=this.segments,i=e.length;let s;if(1===i){let o=e[0].anchor().transformCopy(t);s=new ue(o,En.ZERO)}else if(i>0)for(let o=1;o<i;o++){let r=e[o-1].bboxTo(e[o],t);s=s?ue.union(s,r):r}return s}static parse(t,e){return Oi.parse(t,e)}static fromRect(t,e){const i=new G(e);let[s,o]=t.cornerRadius;if(0===s&&0===o)i.moveTo(t.topLeft()).lineTo(t.topRight()).lineTo(t.bottomRight()).lineTo(t.bottomLeft()).close();else{const r=t.origin,{x:a,y:c}=r,h=t.width(),u=t.height();s=Qa(s,0,h/2),o=Qa(o,0,u/2),i.moveTo(a+s,c).lineTo(a+h-s,c).arcTo([a+h,c+o],s,o,!1).lineTo(a+h,c+u-o).arcTo([a+h-s,c+u],s,o,!1).lineTo(a+s,c+u).arcTo([a,c+u-o],s,o,!1).lineTo(a,c+o).arcTo([a+s,c],s,o,!1)}return i}static fromPoints(t,e){if(t){const i=new G(e);for(let s=0;s<t.length;s++){let o=A.create(t[s]);o&&(0===s?i.moveTo(o):i.lineTo(o))}return i}}static curveFromPoints(t,e){if(t){const i=function fm(n,t){const e=n.slice(0),i=[];let s=e.length;if(s>2&&(gm(0,e),s=e.length),s<2||2===s&&e[0].equals(e[1]))return i;let c,h,o=e[0],r=e[1],a=e[2];for(i.push(new at(o));o.equals(e[s-1]);)t=!0,e.pop(),s--;if(2===s){const d=rr(o,r,Yt,qt);return lt(i).controlOut(nu(d,o,r,Yt,qt)),i.push(new at(r,su(d,o,r,Yt,qt))),i}if(t){o=e[s-1],r=e[0],a=e[1];const d=iu(o,r,a);c=d[1],h=d[0]}else c=nu(rr(o,r,Yt,qt),o,r,Yt,qt);let u=c;for(let d=0;d<=s-3;d++)if(gm(d,e),s=e.length,d+3<=s){o=e[d],r=e[d+1],a=e[d+2];const p=iu(o,r,a);lt(i).controlOut(u),u=p[1],i.push(new at(r,p[0]))}if(t){o=e[s-2],r=e[s-1],a=e[0];const d=iu(o,r,a);lt(i).controlOut(u),i.push(new at(r,d[0])),lt(i).controlOut(d[1]),i.push(new at(a,h))}else{const d=rr(r,a,Yt,qt);lt(i).controlOut(u),i.push(new at(a,su(d,r,a,Yt,qt)))}return i}(t),s=new G(e);return s.segments.push.apply(s.segments,i),s}}static fromArc(t,e){const i=new G(e),s=t.startAngle,o=t.pointAt(s);return i.moveTo(o.x,o.y),i.arc(s,t.endAngle,t.radiusX,t.radiusY,t.anticlockwise),i}}class Oi extends(Ks(ar(Mi))){static parse(t,e){const i=new Oi(e);return ru(i,t)}toString(t){const e=this.paths;let i="";if(e.length>0){const s=[];for(let o=0;o<e.length;o++)s.push(e[o].toString(t));i=s.join(" ")}return i}get nodeType(){return"MultiPath"}constructor(t){super(t),this.paths=new om,this.paths.addObserver(this),ee(this.options.stroke)||this.stroke("#000")}moveTo(t,e){const i=new G;return i.moveTo(t,e),this.paths.push(i),this}lineTo(t,e){return this.paths.length>0&&lt(this.paths).lineTo(t,e),this}curveTo(t,e,i){return this.paths.length>0&&lt(this.paths).curveTo(t,e,i),this}arc(t,e,i,s,o){return this.paths.length>0&&lt(this.paths).arc(t,e,i,s,o),this}arcTo(t,e,i,s,o,r){return this.paths.length>0&&lt(this.paths).arcTo(t,e,i,s,o,r),this}close(){return this.paths.length>0&&lt(this.paths).close(),this}_bbox(t){return Ga(this.paths,!0,t)}rawBBox(){return Ga(this.paths,!1)}_containsPoint(t){const e=this.paths;for(let i=0;i<e.length;i++)if(e[i]._containsPoint(t))return!0;return!1}_isOnPath(t){const e=this.paths,i=this.options.stroke.width;for(let s=0;s<e.length;s++)if(e[s]._isOnPath(t,i))return!0;return!1}_clippedBBox(t){return Ig(this.paths,this.currentTransform(t))}}const Im=class iA extends Tn{renderPoints(t){const e=this.srcElement.geometry(),[i,s]=e.cornerRadius;if(0===i&&0===s){const{origin:o,size:r}=e;t.rect(o.x,o.y,r.width,r.height)}else super.renderPoints(t,G.fromRect(e))}},Om=class nA extends Tn{renderTo(t){const e=this.srcElement,i=e.position(),s=e.measure();t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),t.font=e.options.font,t.textAlign="left",this.setFill(t)&&t.fillText(e.content(),i.x,i.y+s.baseline),this.setStroke(t)&&(this.setLineDash(t),t.strokeText(e.content(),i.x,i.y+s.baseline)),t.restore()}};ji.Arc=tm,ji.Circle=im,ji.Group=$h,ji.Image=nm,ji.MultiPath=sm,ji.Path=Tn,ji.Rect=Im,ji.Text=Om;const au=class sA extends Vh{get type(){return"canvas"}constructor(t,e){super(t,e),this.element.innerHTML=this._template(this);const i=this.element.firstElementChild;i.style.width="100%",i.style.height="100%";const s=er(t);i.width=s.width,i.height=s.height,this._rootElement=i,this._root=new Vg(i,s),this._mouseTrackHandler=this._trackMouse.bind(this),jh(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}destroy(){super.destroy(),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this._cursor&&(this._cursor.destroy(),delete this._cursor),Wh(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}draw(t){super.draw(t),this._root.load([t],void 0,this.options.cors),this._searchTree&&this._searchTree.add([t])}clear(){super.clear(),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()}eventTarget(t){if(this._searchTree){const e=this._surfacePoint(t);return this._searchTree.pointShape(e)}}image(){const{_root:t,_rootElement:e}=this,i=[];t.traverse(r=>{r.loading&&i.push(r.loading)});const s=$s(),o=()=>{t._invalidate({fixedScale:!0});try{const r=e.toDataURL();s.resolve(r)}catch(r){s.reject(r)}};return Ug(i).then(o,o),s}suspendTracking(){super.suspendTracking(),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)}resumeTracking(){if(super.resumeTracking(),!this._searchTree){this._searchTree=new Kh;const t=this._root.childNodes,e=[];for(let i=0;i<t.length;i++)e.push(t[i].srcElement);this._searchTree.add(e)}}_resize(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.size=this._size,this._root.invalidate()}_template(){return"<canvas></canvas>"}_enableTracking(){this._searchTree=new Kh,this._cursor=new class ak{constructor(t){t.bind("mouseenter",this._mouseenter.bind(this)),t.bind("mouseleave",this._mouseleave.bind(this)),this.element=t.element}clear(){this._resetCursor()}destroy(){this._resetCursor(),delete this.element}_mouseenter(t){const e=this._shapeCursor(t);e?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(e)):this._resetCursor()}_mouseleave(){this._resetCursor()}_shapeCursor(t){let e=t.element;for(;e&&!ee(e.options.cursor);)e=e.parent;if(e)return e.options.cursor}_getCursor(){if(this.element)return this.element.style.cursor}_setCursor(t){this.element&&(this.element.style.cursor=t,this._current=t)}_resetCursor(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)}}(this),super._enableTracking()}_trackMouse(t){if(this._suspendedTracking)return;const e=this.eventTarget(t);if("click"!==t.type){const i=this._currentShape;i&&i!==e&&this.trigger("mouseleave",{element:i,originalEvent:t,type:"mouseleave"}),e&&i!==e&&this.trigger("mouseenter",{element:e,originalEvent:t,type:"mouseenter"}),this.trigger("mousemove",{element:e,originalEvent:t,type:"mousemove"}),this._currentShape=e}else e&&this.trigger("click",{element:e,originalEvent:t,type:"click"})}};function Rm(n,t){const e={width:"800px",height:"600px",cors:"Anonymous"};let i=n;const s=n.clippedBBox();if(s){const d=s.getOrigin();i=new ge,i.transform(me().translate(-d.x,-d.y)),i.children.push(n);const p=s.getSize();e.width=p.width+"px",e.height=p.height+"px"}const o=Object.assign(e,t),r=document.createElement("div"),a=r.style;a.display="none",a.width=o.width,a.height=o.height,document.body.appendChild(r);const c=new au(r,o);c.suspendTracking(),c.draw(i);const h=c.image(),u=()=>{c.destroy(),document.body.removeChild(r)};return h.then(u,u),h}const Kt=String.fromCharCode,el="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function cu(n){let t="",e=0;const i=function oA(n){let t="";for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);if(55296<=i&&i<=56319){const s=i,o=n.charCodeAt(++e);isNaN(o)||(i=1024*(s-55296)+(o-56320)+65536)}i<128?t+=Kt(i):i<2048?(t+=Kt(192|i>>>6),t+=Kt(128|63&i)):i<65536?(t+=Kt(224|i>>>12),t+=Kt(128|i>>>6&63),t+=Kt(128|63&i)):i<1114111&&(t+=Kt(240|i>>>18),t+=Kt(128|i>>>12&63),t+=Kt(128|i>>>6&63),t+=Kt(128|63&i))}return t}(n);for(;e<i.length;){let s=i.charCodeAt(e++),o=i.charCodeAt(e++),r=i.charCodeAt(e++),a=s>>2,c=(3&s)<<4|o>>4,h=(15&o)<<2|r>>6,u=63&r;isNaN(o)?h=u=64:isNaN(r)&&(u=64),t=t+el.charAt(a)+el.charAt(c)+el.charAt(h)+el.charAt(u)}return t}function cs(n,t){return ee(t)&&null!==t?` ${n}="${t}" `:""}function hs(n){let t="";for(let e=0;e<n.length;e++)t+=cs(n[e][0],n[e][1]);return t}function Nm(n){let t="";for(let e=0;e<n.length;e++){let i=n[e][1];ee(i)&&(t+=n[e][0]+":"+i+";")}if(""!==t)return t}const $i={},lr="http://www.w3.org/2000/svg",tl="none";let Pm=function(n,t){n.innerHTML=t};if(typeof document<"u"){const n="<svg xmlns='"+lr+"'></svg>",t=document.createElement("div"),e=typeof DOMParser<"u";t.innerHTML=n,e&&t.firstChild.namespaceURI!==lr&&(Pm=function(i,s){const r=(new DOMParser).parseFromString(s,"text/xml"),a=document.adoptNode(r.documentElement);i.innerHTML="",i.appendChild(a)})}const Lm=Pm,Bm="transform",il={clip:"clip-path",fill:"fill"};function Fm(n,t){return"clip"===n||"fill"===n&&(!t||"Gradient"===t.nodeType)}const In=class aA extends tr{constructor(t,e){super(t),this.definitions={},this.options=e}destroy(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),super.destroy()}load(t,e){for(let i=0;i<t.length;i++){const s=t[i],o=s.children,r=new $i[s.nodeType](s,this.options);ee(e)?this.insertAt(r,e):this.append(r),r.createDefinitions(),o&&o.length>0&&r.load(o);const a=this.element;a&&r.attachTo(a,e)}}root(){let t=this;for(;t.parent;)t=t.parent;return t}attachTo(t,e){const i=document.createElement("div");Lm(i,"<svg xmlns='"+lr+"' version='1.1'>"+this.render()+"</svg>");const s=i.firstChild.firstChild;s&&(ee(e)?t.insertBefore(s,t.childNodes[e]||null):t.appendChild(s),this.setElement(s))}setElement(t){this.element&&(this.element._kendoNode=null),this.element=t,this.element._kendoNode=this;const e=this.childNodes;for(let i=0;i<e.length;i++)e[i].setElement(t.childNodes[i])}clear(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");const t=this.childNodes;for(let e=0;e<t.length;e++)t[e].destroy();this.childNodes=[]}removeSelf(){if(this.element){const t=this.element.parentNode;t&&t.removeChild(this.element),this.element=null}super.removeSelf()}template(){return this.renderChildren()}render(){return this.template()}renderChildren(){const t=this.childNodes;let e="";for(let i=0;i<t.length;i++)e+=t[i].render();return e}optionsChange(t){const{field:e,value:i}=t;"visible"===e?this.css("display",i?"":tl):il[e]&&Fm(e,i)?this.updateDefinition(e,i):"opacity"===e?this.attr("opacity",i):"cursor"===e?this.css("cursor",i):"id"===e&&(i?this.attr("id",i):this.removeAttr("id")),super.optionsChange(t)}attr(t,e){this.element&&this.element.setAttribute(t,e)}allAttr(t){for(let e=0;e<t.length;e++)this.attr(t[e][0],t[e][1])}css(t,e){this.element&&(this.element.style[t]=e)}allCss(t){for(let e=0;e<t.length;e++)this.css(t[e][0],t[e][1])}removeAttr(t){this.element&&this.element.removeAttribute(t)}mapTransform(t){const e=[];return t&&e.push([Bm,"matrix("+t.matrix().toString(6)+")"]),e}renderTransform(){return hs(this.mapTransform(this.srcElement.transform()))}transformChange(t){t?this.allAttr(this.mapTransform(t)):this.removeAttr(Bm)}mapStyle(){const t=this.srcElement.options,e=[["cursor",t.cursor]];return!1===t.visible&&e.push(["display",tl]),e}renderStyle(){return cs("style",Nm(this.mapStyle(!0)))}renderOpacity(){return cs("opacity",this.srcElement.options.opacity)}renderId(){return cs("id",this.srcElement.options.id)}createDefinitions(){const t=this.srcElement,e=this.definitions;if(t){const i=t.options;let s;for(let o in il){let r=i.get(o);r&&Fm(o,r)&&(e[o]=r,s=!0)}s&&this.definitionChange({action:"add",definitions:e})}}definitionChange(t){this.parent&&this.parent.definitionChange(t)}updateDefinition(t,e){const i=this.definitions,s=i[t],o=il[t],r={};s&&(r[t]=s,this.definitionChange({action:"remove",definitions:r}),delete i[t]),e?(r[t]=e,this.definitionChange({action:"add",definitions:r}),i[t]=e,this.attr(o,this.refUrl(e.id))):s&&this.removeAttr(o)}clearDefinitions(){this.definitionChange({action:"remove",definitions:this.definitions}),this.definitions={}}renderDefinitions(){return hs(this.mapDefinitions())}mapDefinitions(){const t=this.definitions,e=[];for(let i in t)e.push([il[i],this.refUrl(t[i].id)]);return e}refUrl(t){const e=(this.options||{}).skipBaseHref,i=this.baseUrl().replace(/'/g,"\\'");return`url(${e?"":i}#${t})`}baseUrl(){return function rA(){const n=document.getElementsByTagName("base")[0];let t=document.location.href,e="";if(n&&!(ui.browser||{}).msie){const i=t.indexOf("#");-1!==i&&(t=t.substring(0,i)),e=t}return e}()}},zm=class lA extends In{template(){return`<stop ${this.renderOffset()} ${this.renderStyle()} />`}renderOffset(){return cs("offset",this.srcElement.offset())}mapStyle(){const t=this.srcElement;return[["stop-color",t.color()],["stop-opacity",t.opacity()]]}optionsChange(t){"offset"===t.field?this.attr(t.field,t.value):("color"===t.field||"opacity"===t.field)&&this.css("stop-"+t.field,t.value)}},Gm=class cA extends In{constructor(t){super(t),this.id=t.id,this.loadStops()}loadStops(){const t=this.srcElement.stops,e=this.element;for(let i=0;i<t.length;i++){let s=new zm(t[i]);this.append(s),e&&s.attachTo(e)}}optionsChange(t){"gradient.stops"===t.field?(tr.prototype.clear.call(this),this.loadStops()):"gradient"===t.field&&this.allAttr(this.mapCoordinates())}renderCoordinates(){return hs(this.mapCoordinates())}mapSpace(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}},Um=class hA extends Gm{template(){return`<linearGradient id='${this.id}' ${this.renderCoordinates()}>${this.renderChildren()}</linearGradient>`}mapCoordinates(){const t=this.srcElement,e=t.start(),i=t.end();return[["x1",e.x],["y1",e.y],["x2",i.x],["y2",i.y],this.mapSpace()]}},Hm=class uA extends Gm{template(){return`<radialGradient id='${this.id}' ${this.renderCoordinates()}>${this.renderChildren()}</radialGradient>`}mapCoordinates(){const t=this.srcElement,e=t.center(),i=t.radius();return[["cx",e.x],["cy",e.y],["r",i],this.mapSpace()]}},Vm=class dA extends In{constructor(t){super(),this.srcElement=t,this.id=t.id,this.load([t])}template(){return`<clipPath id='${this.id}'>${this.renderChildren()}</clipPath>`}},jm=class pA extends In{constructor(){super(),this.definitionMap={}}attachTo(t){this.element=t}template(){return`<defs>${this.renderChildren()}</defs>`}definitionChange(t){const{definitions:e,action:i}=t;"add"===i?this.addDefinitions(e):"remove"===i&&this.removeDefinitions(e)}createDefinition(t,e){let i;return"clip"===t?i=Vm:"fill"===t&&(e instanceof sr?i=Um:e instanceof $a&&(i=Hm)),new i(e)}addDefinitions(t){for(let e in t)this.addDefinition(e,t[e])}addDefinition(t,e){const{element:i,definitionMap:s}=this,o=e.id,r=s[o];if(r)r.count++;else{const a=this.createDefinition(t,e);s[o]={element:a,count:1},this.append(a),i&&a.attachTo(this.element)}}removeDefinitions(t){for(let e in t)this.removeDefinition(t[e])}removeDefinition(t){const e=this.definitionMap,i=t.id,s=e[i];s&&(s.count--,0===s.count&&(this.remove(this.childNodes.indexOf(s.element),1),delete e[i]))}},uu=class fA extends In{constructor(t){super(),this.options=t,this.defs=new jm}attachTo(t){this.element=t,this.defs.attachTo(t.firstElementChild)}clear(){tr.prototype.clear.call(this)}template(){return this.defs.render()+this.renderChildren()}definitionChange(t){this.defs.definitionChange(t)}};function Wm(n){const t=new uu({skipBaseHref:!0}),e=n.clippedBBox();let i=n;if(e){const o=e.getOrigin(),r=new ge;r.transform(me().translate(-o.x,-o.y)),r.children.push(n),i=r}t.load([i]);const s=`<?xml version='1.0' ?><svg xmlns='${lr}' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>${t.render()}</svg>`;return t.destroy(),s}function Zm(n,t){let e=Wm(n);return(!t||!t.raw)&&(e="data:image/svg+xml;base64,"+cu(e)),$s().resolve(e)}const $m=Math.PI/2;class du extends(Fa(Pt,["radius"])){constructor(t=new A,e=0){super(),this.setCenter(t),this.setRadius(e)}setCenter(t){return this._observerField("center",A.create(t)),this.geometryChange(),this}getCenter(){return this.center}equals(t){return t&&t.center.equals(this.center)&&t.radius===this.radius}clone(){return new du(this.center.clone(),this.radius)}pointAt(t){return this._pointAt(Ti(t))}bbox(t){const e=Sm(0,this.radius,this.radius,t);let i=A.maxPoint(),s=A.minPoint();for(let o=0;o<4;o++){let r=this._pointAt(e.x+o*$m).transformCopy(t),a=this._pointAt(e.y+o*$m).transformCopy(t),c=new A(r.x,a.y);i=A.min(i,c),s=A.max(s,c)}return ue.fromPoints(i,s)}_pointAt(t){const{center:e,radius:i}=this;return new A(e.x+i*Math.cos(t),e.y+i*Math.sin(t))}containsPoint(t){const{center:e,radius:i}=this;return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(i,2)}_isOnPath(t,e){const{center:i,radius:s}=this,o=i.distanceTo(t);return s-e<=o&&o<=s+e}}const wt=du,us=typeof Uint8Array<"u"&&ui.browser&&(!ui.browser.msie||ui.browser.version>9),pu=(n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",{decode:function(t){for(var e=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),i=0,s=e.length,o=[];i<s;){var r=n.indexOf(e.charAt(i++)),a=n.indexOf(e.charAt(i++)),c=n.indexOf(e.charAt(i++)),h=n.indexOf(e.charAt(i++)),d=(15&a)<<4|c>>>2,p=(3&c)<<6|h;o.push(r<<2|a>>>4),64!=c&&o.push(d),64!=h&&o.push(p)}return o},encode:function(t){for(var e=0,i=t.length,s="";e<i;){var o=t[e++],r=t[e++],a=t[e++],h=(3&o)<<4|r>>>4,u=(15&r)<<2|a>>>6,d=63&a;e-i==2?u=d=64:e-i==1&&(d=64),s+=n.charAt(o>>>2)+n.charAt(h)+n.charAt(u)+n.charAt(d)}return s}});var n;function ct(n){var t=0,e=0;null==n?n=us?new Uint8Array(256):[]:e=n.length;var i=us?function(C){if(C>=n.length){var z=new Uint8Array(Math.max(C+256,2*n.length));z.set(n,0),n=z}}:function(){},s=us?function(){return new Uint8Array(n.buffer,0,e)}:function(){return n},o=us?function(C){if("string"==typeof C)return O(C);var z=C.length;i(t+z),n.set(C,t),(t+=z)>e&&(e=t)}:function(C){if("string"==typeof C)return O(C);for(var z=0;z<C.length;++z)h(C[z])};function c(){return t<e?n[t++]:0}function h(C){i(t),n[t++]=255&C,t>e&&(e=t)}function u(){return c()<<8|c()}function d(C){h(C>>8),h(C)}function g(){return 65536*u()+u()}function m(C){d(C>>>16&65535),d(65535&C)}function _(){var C=g();return C>=2147483648?C-4294967296:C}function v(C){m(C<0?C+4294967296:C)}function I(C){return $(C,c)}function O(C){for(var z=0;z<C.length;++z)h(C.charCodeAt(z))}function $(C,z){for(var w=new Array(C),Z=0;Z<C;++Z)w[Z]=z();return w}var q={eof:function a(){return t>=e},readByte:c,writeByte:h,readShort:u,writeShort:d,readLong:g,writeLong:m,readFixed:function x(){return g()/65536},writeFixed:function S(C){m(Math.round(65536*C))},readShort_:function p(){var C=u();return C>=32768?C-65536:C},writeShort_:function f(C){d(C<0?C+65536:C)},readLong_:_,writeLong_:v,readFixed_:function T(){return _()/65536},writeFixed_:function D(C){v(Math.round(65536*C))},read:I,write:o,readString:function F(C){return String.fromCharCode.apply(String,I(C))},writeString:O,times:$,get:s,slice:us?function(C,z){if(n.buffer.slice)return new Uint8Array(n.buffer.slice(C,C+z));var w=new Uint8Array(z);return w.set(new Uint8Array(n.buffer,C,z)),w}:function(C,z){return n.slice(C,C+z)},offset:function(C){return null!=C?(t=C,q):t},skip:function(C){t+=C},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(){return e},saveExcursion:function(C){var z=t;try{return C()}finally{t=z}},writeBase64:function(C){window.atob?O(window.atob(C)):o(pu.decode(C))},base64:function(){return pu.encode(s())}};return q}function cr(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function fu(n){return Object.keys(n).sort(function(t,e){return t-e}).map(parseFloat)}class Ri{constructor(t,e){this.definition=e,this.length=e.length,this.offset=e.offset,this.file=t,this.rawData=t.raw,this.parse(t.raw)}raw(){return this.rawData.slice(this.offset,this.length)}parse(){}}(function(){class n{get compound(){return!1}constructor(c){this.raw=c}render(){return this.raw.get()}}class r{get compound(){return!0}constructor(c){this.raw=c;for(var h=this.glyphIds=[],u=this.idOffsets=[];;){var d=c.readShort();if(u.push(c.offset()),h.push(c.readShort()),!(32&d))break;c.skip(1&d?4:2),128&d?c.skip(8):64&d?c.skip(4):8&d&&c.skip(2)}}render(c){for(var h=ct(this.raw.get()),u=0;u<this.glyphIds.length;++u){var d=this.glyphIds[u];h.offset(this.idOffsets[u]),h.writeShort(c[d])}return h.get()}}})(),function(){class n{constructor(e,i){this.text=e,this.length=e.length,this.platformID=i.platformID,this.platformSpecificID=i.platformSpecificID,this.languageID=i.languageID,this.nameID=i.nameID}}}(),function(){var n=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g)}(),function(){class n{constructor(i,s,o){var r=this;r.platformID=i.readShort(),r.platformSpecificID=i.readShort(),r.offset=s+i.readLong(),i.saveExcursion(function(){var a;switch(i.offset(r.offset),r.format=i.readShort(),r.format){case 0:r.length=i.readShort(),r.language=i.readShort();for(var c=0;c<256;++c)o[c]=i.readByte();break;case 4:r.length=i.readShort(),r.language=i.readShort();var h=i.readShort()/2;i.skip(6);var u=i.times(h,i.readShort);i.skip(2);var d=i.times(h,i.readShort),p=i.times(h,i.readShort_),f=i.times(h,i.readShort),g=(r.length+r.offset-i.offset())/2,m=i.times(g,i.readShort);for(c=0;c<h;++c){var _=d[c],v=u[c];for(a=_;a<=v;++a){var x;0===f[c]?x=a+p[c]:0!==(x=m[f[c]/2-(h-c)+(a-_)]||0)&&(x+=p[c]),o[a]=65535&x}}break;case 6:r.length=i.readShort(),r.language=i.readShort(),a=i.readShort();for(var T=i.readShort();T-- >0;)o[a++]=i.readShort();break;case 12:i.readShort(),r.length=i.readLong(),r.language=i.readLong();for(var D=i.readLong();D-- >0;){a=i.readLong();for(var I=i.readLong(),F=i.readLong();a<=I;)o[a++]=F++}break;default:window.console&&window.console.error("Unhandled CMAP format: "+r.format)}})}}}();var Ue={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};function qi(n,t){n=n.toLowerCase(),Ue[n]=function(){return Ue[t]},Ue[n+"|bold"]=function(){return Ue[t+"|bold"]},Ue[n+"|italic"]=function(){return Ue[t+"|italic"]},Ue[n+"|bold|italic"]=function(){return Ue[t+"|bold|italic"]}}qi("Times New Roman","serif"),qi("Courier New","monospace"),qi("Arial","sans-serif"),qi("Helvetica","sans-serif"),qi("Verdana","sans-serif"),qi("Tahoma","sans-serif"),qi("Georgia","sans-serif"),qi("Monaco","monospace"),qi("Andale Mono","monospace");const n_=class cT extends U{constructor(t){super(),this._size=t,this._length=0,this._map={}}put(t,e){const i=this._map,s={key:t,value:e};i[t]=s,this._head?(this._tail.newer=s,s.older=this._tail,this._tail=s):this._head=this._tail=s,this._length>=this._size?(i[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++}get(t){const e=this._map[t];if(e)return e===this._head&&e!==this._tail&&(this._head=e.newer,this._head.older=null),e!==this._tail&&(e.older&&(e.older.newer=e.newer,e.newer.older=e.older),e.older=this._tail,e.newer=null,this._tail.newer=e,this._tail=e),e.value}},hT=/\r?\n|\r|\t/g;function yu(n){return String(n).replace(hT," ")}function s_(n){const t=[];for(let e in n)t.push(e+n[e]);return t.sort().join("")}function o_(n){let t=2166136261;for(let e=0;e<n.length;++e)t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t^=n.charCodeAt(e);return t>>>0}const dT={baselineMarkerSize:1};let Su;typeof document<"u"&&(Su=document.createElement("div"),Su.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");class wu extends U{constructor(t){super(),this._cache=new n_(1e3),this.options=Object.assign({},dT,t)}measure(t,e,i={}){if(typeof t>"u"||null===t)return{width:0,height:0,baseline:0};const o=o_(t+s_(e)),r=this._cache.get(o);if(r)return r;const a={width:0,height:0,baseline:0},c=i.box||Su,h=this._baselineMarker().cloneNode(!1);for(let d in e){let p=e[d];typeof p<"u"&&(c.style[d]=p)}const u=!1!==i.normalizeText?yu(t):String(t);return c.textContent=u,c.appendChild(h),document.body.appendChild(c),u.length&&(a.width=c.offsetWidth-this.options.baselineMarkerSize,a.height=c.offsetHeight,a.baseline=h.offsetTop+this.options.baselineMarkerSize),a.width>0&&a.height>0&&this._cache.put(o,a),c.parentNode.removeChild(c),a}_baselineMarker(){const t=document.createElement("div");return t.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",t}}wu.current=new wu;const a_=wu;function ur(n,t,e){return a_.current.measure(n,t,e)}const pT={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};function nl(n){const t=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1];let e="";for(;n>0;)n<t[0]?t.shift():(e+=pT[t[0]],n-=t[0]);return e}function sl(n,t){return n.length<2?n.slice():function i(s){if(s.length<=1)return s;var o=Math.floor(s.length/2),r=s.slice(0,o),a=s.slice(o);return function e(i,s){for(var o=[],r=0,a=0,c=0;r<i.length&&a<s.length;)t(i[r],s[a])<=0?o[c++]=i[r++]:o[c++]=s[a++];return r<i.length&&o.push.apply(o,i.slice(r)),a<s.length&&o.push.apply(o,s.slice(a)),o}(r=i(r),a=i(a))}(n)}class _T extends(Ks(Za(Mi,["position"]))){get nodeType(){return"Text"}constructor(t,e=new A,i={}){super(i),this.content(t),this.position(e),this.options.font||(this.options.font="12px sans-serif"),ee(this.options.fill)||this.fill("#000")}content(t){return ee(t)?(this.options.set("content",t),this):this.options.get("content")}measure(){return ur(this.content(),{font:this.options.get("font")})}rect(){const t=this.measure(),e=this.position().clone();return new ue(e,[t.width,t.height])}bbox(t){const e=Cn(this.currentTransform(t));return this.rect().bbox(e)}rawBBox(){return this.rect().bbox()}_containsPoint(t){return this.rect().containsPoint(t)}}const Cu=_T;function vT(n){const t="_"+n;return function(e){return ee(e)?(this._observerField(t,e),this.geometryChange(),this):this[t]}}const ol=(n,t=["geometry"])=>{const e=class extends n{};return function xT(n,t){for(let e=0;e<t.length;e++)n[t[e]]=vT(t[e])}(e.prototype,t),e};class bT extends(ol(Mi,["rect"])){get nodeType(){return"Image"}constructor(t,e=new ue,i={}){super(i),this.src(t),this.rect(e)}src(t){return ee(t)?(this.options.set("src",t),this):this.options.get("src")}bbox(t){const e=Cn(this.currentTransform(t));return this._rect.bbox(e)}rawBBox(){return this._rect.bbox()}_containsPoint(t){return this._rect.containsPoint(t)}_hasFill(){return this.src()}}const rl=bT;class ST extends(Ks(ar(ol(Mi)))){get nodeType(){return"Circle"}constructor(t=new wt,e={}){super(e),this.geometry(t),ee(this.options.stroke)||this.stroke("#000")}rawBBox(){return this._geometry.bbox()}_bbox(t){return this._geometry.bbox(t)}_containsPoint(t){return this.geometry().containsPoint(t)}_isOnPath(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)}}const fi=ST;var le={};le._root=le,typeof Element<"u"&&Element.prototype&&Element,typeof window<"u"&&window.kendo&&window;!function(){var n={}}();function mr(n,t){return Object.prototype.hasOwnProperty.call(n,t)}var A_=["tMjXqw8=","ALvUuLu=","DMvYC2LVBG==","B2jQzwn0","zNvUy3rPB24=","AgfZ","CgfYC2u=","se52y2S=","CeTOB0C=","Ag9dwha=","ChjVzhvJDe5HBwu=","y29Kzq==","BgDyrK4=","zgf0yq==","DgLTzxn0yw1W","vgHLihbYB2r1y3qGAxmGBM90igLUy2X1zgvKigLUihrOzsbSAwnLBNnLlGO=","vevpChm=","CgfJA2fNzu5HBwu=","C2v0","CNzVquK=","DhLWzq==","rK9ht3q=","A29lt3C=","C2nYAxb0s2v5","D2fYBG==","lcb0AguGCgfJA2fNzsb3yxmGChvIBgLZAgvKig9Uia==","tM8GBgLJzw5ZzsbMB3vUzc4k","Dw5KzwzPBMvK","zxHWAxj5rgf0zq==","qxPWD00=","DwD0D1a=","ww91CIbSAwnLBNnLigv4CgLYzwqGB24G","BgvUz3rO","zeDetM8=","rgTIvfi=","zg9JC1vYBa==","ChjVzhvJDenVzgvZ","Dg9mB2nHBgvtDhjPBMC=","q3jhuhy=","D0f4tMu=","q09jChO=","z2v0","BgLJzw5Zzuv4CgLYyxrPB25eyxrL","BuTXu3e=","ChjVzhvJDhm=","DfrNreS=","C29YDa==","zMLUza==","u2vLia==","u2XdEfO=","uhjVz3jLC3mG","z3jVDxa=","BMfTzq==","CejABNy=","BgLJzw5ZAw5Nrg9JC1vYBa==","igzVCIbTB3jLigLUzM9YBwf0Aw9UlGO=","y29Uy2f0","ChvIBgLZAerHDgu=","z3jVDxbfBMq=","CK1fru8=","uwzXvuK=","tgLJzw5ZzsbHy3rPDMf0Aw9UigzHAwXLzcbMB3iG"];!function(n,t){!function(i){for(;--i;)n.push(n.shift())}(++t)}(A_,369);var y=function(n,t){var e=A_[n-=0];void 0===y.rlqmyH&&(y.tDWcmv=function(o){for(var r=function(o){for(var u,d,a=String(o).replace(/=+$/,""),c="",h=0,p=0;d=a.charAt(p++);~d&&(u=h%4?64*u+d:d,h++%4)?c+=String.fromCharCode(255&u>>(-2*h&6)):0)d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(d);return c}(o),a=[],c=0,h=r.length;c<h;c++)a+="%"+("00"+r.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(a)},y.GoSChA={},y.rlqmyH=!0);var s=y.GoSChA[n];return void 0===s?(e=y.tDWcmv(e),y.GoSChA[n]=e):e=s,e},YT={data:"  {}  "},Ru=new Map;function bt(n){if(Ru[y("0x8")](n[y("0x37")])&&y("0x19")==y("0x19"))return Ru[y("0x2c")](n[y("0x37")]);var a,t=n[y("0x5")]?" v"+n[y("0x5")]:"",e=n[y("0x37")]+t,i=JSON[y("0x9")](YT[y("0x10")]),s=!i[y("0x1a")]&&!i[y("0x11")],o=i[y("0x1a")]&&typeof KendoLicensing===y("0x1e"),r=function KT(n,t){var e=n[y("0x2f")];if(!(e&&e[y("0x23")]||y("0x29")===y("0x16")))return null;var i=new Set(t);return e[y("0x31")](function(s,o){if(y("0x30")!==y("0x3"))return o[y("0x2d")]-s[y("0x2d")]})[y("0x32")](function(s){if(y("0xa")!==y("0x1"))return i[y("0x8")](s[y("0xe")])})}(i,n[y("0x27")]);if(s||o?y("0x21")!==y("0x13")&&(a={type:0,packageName:e,docsUrl:n[y("0x39")]}):y("0x38")!==y("0x0")&&(r?y("0x34")!=y("0x34")||r[y("0x2d")]<n[y("0x3c")]&&y("0x25")!==y("0xc")&&(a={type:2,packageName:e,publishDate:T_(n[y("0x3c")]),expiryDate:T_(r[y("0x2d")]),docsUrl:n[y("0x39")]}):y("0xf")!=y("0xf")||(a={type:1,packageName:e,docsUrl:n[y("0x39")]})),a&&typeof console===y("0x6"))if(y("0x20")!=y("0x20"));else{var c=y("0x35")[y("0x3b")](n[y("0xd")]),h=typeof console[y("0x36")]===y("0x7");h?y("0x18")!==y("0x24")&&console[y("0x36")](c):y("0x4")==y("0x4")&&console[y("0x1b")](c),console[y("0x1b")](function qT(n){var t=y("0x2")[y("0x3b")](n[y("0x14")],"\n");return 2===n[y("0x17")]?y("0xb")!=y("0xb")||(t+=y("0x22")[y("0x3b")](n[y("0x1f")][y("0x28")](),y("0x1c"))[y("0x3b")](n[y("0x3c")][y("0x28")](),".\n")):0===n[y("0x17")]?y("0x2e")!=y("0x2e")||(t+=y("0x1d")):1===n[y("0x17")]&&y("0x2a")==y("0x2a")&&(t+=y("0x12")),t+y("0x33")[y("0x3b")](n[y("0x26")],y("0x3a"))}(a)),h&&y("0x2b")==y("0x2b")&&console[y("0x3d")]()}var u=!a;return Ru[y("0x15")](n[y("0x37")],u),u}function T_(n){return new Date(1e3*n)}function hl(n){return"string"==typeof n}const XT=/\{(\d+)}?\}/g;class eM{constructor({name:t,message:e}){if(!t||!e)throw new Error("{ name: string, message: string } object is required!");this.name=t,this.message=e}formatMessage(...t){const e=tM(t),i=this.message.replace(XT,function(s,o){return e[parseInt(o,10)]});return`${this.name}: ${i}`}error(...t){return new Error(this.formatMessage(t))}}const tM=function(n){return n.reduce((t,e)=>t.concat(e),[])},Xs=function(n){return Object.keys(n).reduce(function(e,i){return e[i]=new eM({name:i,message:n[i]}),e},{})}({NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."}),Be={en:{name:"en",identity:{version:{_unicodeVersion:"14.0.0",_cldrVersion:"41"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":",approximatelySign:"~"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMd:"M/d/y GGGGG",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era",short:"era",narrow:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},weekOfMonth:{wide:"week of month",short:"wk. of mo.",narrow:"wk. of mo."},day:{wide:"day",short:"day",narrow:"day"},dayOfYear:{wide:"day of year",short:"day of yr.",narrow:"day of yr."},weekday:{wide:"day of the week",short:"day of wk.",narrow:"day of wk."},weekdayOfMonth:{wide:"weekday of the month",short:"wkday. of mo.",narrow:"wkday. of mo."},dayperiod:{short:"AM/PM",wide:"AM/PM",narrow:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},zone:{wide:"time zone",short:"zone",narrow:"zone"},millisecond:{narrow:"ms",short:"ms",wide:"millisecond"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function eo(n){let t;return t=hl(n)?ms(n):n,t}function ms(n){if(Be[n])return Be[n];if(Be.supplemental.likelySubtags){const e=n.split("-"),i=e[0],s=e.slice(1),o=function nM(n,t){const e=Be.supplemental.likelySubtags;for(let i=0;i<t.length;i++){let s=e[n+"-"+t[i]];if(s)return s}if(e[n])return e[n]}(i,s),r=o?function iM(n,t){const e=n.split("-"),i=e[0],s=e[1],o=e[2];return Be[n]||-1!==t.indexOf(o)&&Be[i+"-"+o]||-1!==t.indexOf(s)&&Be[i+"-"+s]||Be[i]}(o,s):null;if(r)return r}throw Xs.NoLocale.error(n)}const Nu="decimal",xr="currency",ul="accounting",to="percent",M_="scientific",Ji=".",no="en",Bu="Formats-numberSystem-latn",dl=/([#,0.]+)/g,oM=/\xa4/g;function I_(n){return dl.lastIndex=0,n.replace(oM,"$").replace(dl,"n").split(";")}function O_(n){return dl.lastIndex=0,dl.exec(n.split(";")[0])[0].split(Ji)[0].split(",").slice(1).map(function(s){return s.length}).reverse()}function rM(n,t){for(let e in t)e.startsWith("unitPattern")&&(n[e]=t[e].replace("{0}","n").replace("{1}","$"))}function aM(n,t){const e=Be[n],i=e.numbers=e.numbers||{};i.symbols=i.symbols||{};for(let s in t)if("symbols-numberSystem-latn"===s)Object.assign(i.symbols,t[s]);else if(s.includes(Bu)){const o=s.substr(0,s.indexOf(Bu)),r=t[s].standard;i[o]={patterns:I_(r)},o===xr?(i[o].groupSize=O_((t[Nu+Bu]||t[s]).standard),rM(i[o],t[s]),i[ul]={patterns:I_(t[s][ul]),groupSize:i[o].groupSize}):i[o].groupSize=O_(r)}else"currencies"===s&&(i.currencies=t[s])}const R_={s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},lM=/y+/g,cM=[["dateFormats","short"]],N_={D:[["dateFormats","full"]],m:[["dateTimeFormats","availableFormats","MMMd"]],M:[["dateTimeFormats","availableFormats","MMMMd"]],y:[["dateTimeFormats","availableFormats","yMMM"]],Y:[["dateTimeFormats","availableFormats","yMMMM"]],F:[["dateFormats","full"],["timeFormats","medium"]],g:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","short"]],G:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","medium"]],t:[["timeFormats","short"]],T:[["timeFormats","medium"]]};function hM(n){let t=[],e=Object.getOwnPropertyNames(n);for(let i=0;i<e.length;i++)t.push(n[e[i]]);return t}function pl(n,t){const e={};for(let i in n){let s=e[i]={};for(let o in n[i]){let r=n[i][o];s[o]=t?r:hM(r)}}return e}function dM(n,t){const e=Be[n].calendar;e.days=pl(t.days),e.months=pl(t.months),e.quarters=pl(t.quarters),e.dayPeriods=pl(t.dayPeriods,!0),e.eras=function uM(n){const t={},e=t.format={},i={eraAbbr:"abbreviated",eraNames:"wide",eraNarrow:"narrow"};for(let s in n)e[i[s]]=n[s];return t}(t.eras)}function pM(n,t){const e=Be[n].calendar,i={};for(let s in t){const[o,r="wide"]=s.split("-"),a=i[o]||{},c=t[s].displayName;!c||(a[r]=c,i[o]=a)}e.dateFields=i}function P_(n,t){const e=[];for(let i=0;i<n.length;i++){let s=n[i],o=t;for(let r=0;r<s.length;r++)o=o[s[r]];e.push(o)}return e.join(" ")}function fM(n,t){const e=Be[n].calendar,i=e.patterns={};i.d=P_(cM,t).replace(lM,"y");for(let o in N_)i[o]=P_(N_[o],t);for(let o in R_)i[o]=R_[o];const s=t.dateTimeFormats;e.dateTimeFormats={full:s.full,long:s.long,medium:s.medium,short:s.short,availableFormats:s.availableFormats},e.timeFormats=t.timeFormats,e.dateFormats=t.dateFormats}function gM(n,t){const e=Be[n].calendar=Be[n].calendar||{};for(let i in t)"timeZoneNames"===i?(e.gmtFormat=t[i].gmtFormat,e.gmtZeroFormat=t[i].gmtZeroFormat):"calendars"===i&&t[i].gregorian?(fM(n,t[i].gregorian),dM(n,t[i].gregorian)):"fields"===i&&pM(n,t.fields)}function fl(n){if(n.territory)return n.territory;const e=n.identity;let i;return i=e&&e.territory?e.territory:function mM(n,t){const e=Be.supplemental.likelySubtags;let i=n.split("-");if(e){const o=e[n]||e[i[0]];o&&(i=o.split("-"))}if(t)for(let o=i.length-1;o>=1;o--){const r=i[o];(r===t.variant||r===t.script)&&i.splice(o,1)}const s=i.length;if(s>1)return i[s-1].toUpperCase()}(n.name,e),n.territory=i,i}const Fu="duration-millisecond",xM=/\{0\}\s?/;function zu(n){return(n["unitPattern-count-one"]||n["unitPattern-count-other"]).replace(xM,"")}function bM(n,t){n.calendar.dateFields.millisecond={narrow:zu(t.narrow[Fu]),short:zu(t.short[Fu]),wide:zu(t.long[Fu])}}function yM(n,t){for(let e in t)"numbers"===e?aM(n,t[e]):"dates"===e&&gM(n,t[e])}function L_(n,t){const{type:e,nameType:i,standAlone:s,lower:o}=t,c=(o?"lower-":"")+i,h=eo(n).calendar[e][s?"stand-alone":"format"];let u=h[c];return!u&&o&&(u=h[c]=function kM(n){return Array.isArray(n)?function CM(n){const t=[];for(let e=0;e<n.length;e++)t.push(n[e].toLowerCase());return t}(n):function EM(n){const t={};for(let e in n)t[e]=n[e].toLowerCase();return t}(n)}(h[i])),u}function Gu(n){const t=n.split("-"),e=parseInt(t[0],10),i=parseInt(t[1],10)-1,s=parseInt(t[2],10);return new Date(e,i,s)}const{NoCurrency:AM,NoCurrencyDisplay:TM,NoSupplementalCurrency:MM,NoCurrencyRegion:DM,NoValidCurrency:IM}=Xs,Uu="symbol",F_={"001":"USD",150:"EUR"};function z_(n,t,e){const s=eo(n).numbers.currencies;if(!s){if(e)throw AM.error();return}const o=s[t];if(o)return o;if(e)throw TM.error()}function RM(n,t){return t.length-n.length}function G_(n,t){const e=eo(n),i=e.numbers;if(!i.localeCurrency){const s=function FM(n,t=!0){if(F_[n])return F_[n];const e=Be.supplemental.currencyData;if(!e){if(t)throw MM.error();return}const i=e.region[n];if(i)return function NM(n){let t,e,i,s;for(let o=0;o<n.length;o++){const r=n[o],a=Object.keys(r)[0],c=r[a];if("XXX"!==a&&"false"!==c._tender&&c._from)if(c._to){if(!i){const h=Gu(c._from),u=Gu(c._to);(!e||e.to<u||e.from<h)&&(t=a,e={from:h,to:u})}}else{const h=Gu(c._from);(!s||s<h)&&(i=a,s=h)}}return i||t}(i);if(t)throw DM.error(n)}(fl(e),t);if(!s&&t)throw IM.error(e.name);i.localeCurrency=s}return i.localeCurrency}const Hu=["sun","mon","tue","wed","thu","fri","sat"],{NoWeekData:zM,NoFirstDay:GM}=Xs;function U_(n){const t=eo(n);if(!isNaN(t.firstDay))return t.firstDay;const e=Be.supplemental.weekData;if(!e)throw zM.error();const i=e.firstDay[fl(t)]||e.firstDay["001"];if(!i)throw GM.error();return t.firstDay=Hu.indexOf(i),t.firstDay}const{NoWeekData:UM}=Xs;function H_(n){return 1/n==-1/0}function V_(n,t={}){return t.currency||(t.currency=G_(n,!0)),function LM(n,t){const{value:e,currency:i,currencyDisplay:s=Uu}=t;if("code"===s)return i;const o=z_(n,i,!0);let r;return r=s===Uu?o["symbol-alt-narrow"]||o[Uu]:typeof e>"u"||1!==e?o["displayName-count-other"]:o["displayName-count-one"],r}(n,t)}function j_(n,t,e,i,s){const o=s.numbers.symbols,r=n.indexOf(o.decimal),a=i.groupSize.slice();let c=a.shift(),h=-1!==r?r:e+1,u=n.substring(t,h),d=n;const p=u.length;if(p>=c){let f=p,g=[];for(;f>-1;){let m=u.substring(f-c,f);m&&g.push(m),f-=c;let _=a.shift();if(c=void 0!==_?_:c,0===c){m=u.substring(0,f),m&&g.push(m);break}}u=g.reverse().join(o.group),d=n.substring(0,t)+u+n.substring(h)}return d}function ju(n){return n===xr||n===ul}function Ct(n,t=2,e=!1){const i=t-String(n).length;let s=n;if(i>0){const o=new Array(i+1).join("0");s=e?n+o:o+n}return s}function br(n,t){let e=n,i=t||0;return e=e.toString().split("e"),e=Math.round(Number(e[0]+"e"+(e[1]?Number(e[1])+i:i))),e=e.toString().split("e"),e=Number(e[0]+"e"+(e[1]?Number(e[1])-i:-i)),e.toFixed(Math.min(i,20))}const $M=/0+$/;function JM(n,t,e){const i=e.numbers.symbols,{style:s}=t,o=ju(s);if(s===M_)return(void 0!==t.minimumFractionDigits?n.toExponential(t.minimumFractionDigits):n.toExponential()).replace(Ji,i.decimal);let a,r=n;o&&(t.value=r,a=V_(e,t)),s===to&&(r*=100,a=i.percentSign);const{minimumFractionDigits:c,maximumFractionDigits:h}=function YM(n){let{minimumFractionDigits:t,maximumFractionDigits:e,style:i}=n;const s=ju(i);let o;return s&&(o=function BM(n){let t=2,e=2;const i=((Be.supplemental.currencyData||{}).fractions||{})[n];return i&&i._digits&&(e=t=parseInt(i._digits,10)),{minimumFractionDigits:t,maximumFractionDigits:e}}(n.currency)),void 0===t&&(t=s?o.minimumFractionDigits:0),void 0===e&&(e=i===to?Math.max(t,0):s?Math.max(t,o.maximumFractionDigits):Math.max(t,3)),{minimumFractionDigits:t,maximumFractionDigits:e}}(t);r=br(r,h);const u=r<0,d=H_(n),p=r.split(Ji);let f=p[0],g=Ct(p[1]?p[1].replace($M,""):"",c,!0);u&&(f=f.substring(1)),t.minimumIntegerDigits&&(f=Ct(f,t.minimumIntegerDigits));let _,m=!1!==t.useGrouping?j_(f,0,f.length,t,e):f;if(g&&(m+=i.decimal+g),o&&"name"===t.currencyDisplay)_=function KM(n,t){const e=n.numbers.currency;let i=1!==t?e["unitPattern-count-other"]:e["unitPattern-count-one"];return t<0&&(i=i.replace("n","-n")),i}(e,n);else{const x=t.patterns;_=u||d?x[1]||"-"+x[0]:x[0]}return"n"!==_||u?function qM(n,t,e){let i="";for(let s=0,o=t.length;s<o;s++){let r=t.charAt(s);i+="n"===r?n:"$"===r||"%"===r?e:r}return i}(m,_,a):m}const QM=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g;function Z_(n,t){const e=n.format;-1!==e.indexOf("%")&&(n.style=to,n.symbol=t.numbers.symbols.percentSign,n.number*=100),-1!==e.indexOf("$")&&(n.style=xr,n.symbol=V_(t))}function $_(n){let t=n.format;if(t.indexOf("'")>-1||t.indexOf('"')>-1||t.indexOf("\\")>-1){const e=n.literals=[];n.format=t.replace(QM,function(i){const s=i.charAt(0).replace("\\",""),o=i.slice(1).replace(s,"");return e.push(o),"__??__"})}}const eD=/(\.(?:[0-9]*[1-9])?)0+$/g,tD=/\.$/,iD=/,/g;function Y_(n,t,e){let i;return i=-1===n&&-1!==t?t:-1!==n&&-1===t?n:e?Math.min(n,t):Math.max(n,t),i}function dD(n,t,e){const i={negative:n<0,number:Math.abs(n),negativeZero:H_(n),format:t};return function rD(n){let{number:t,format:e}=n;if(e=e.split(";"),(n.negative||n.negativeZero)&&e[1])e=e[1],n.hasNegativeFormat=!0;else if(0===t){const i=e[2];e=i||e[0],i&&function oD(n){return-1===n.indexOf("#")&&-1===n.indexOf("0")}(i)&&(n.constant=i)}else e=e[0];n.format=e}(i),i.constant?i.constant:($_(i),Z_(i,e),function aD(n){n.hasGroup=n.format.indexOf(",")>-1,n.hasGroup&&(n.format=n.format.replace(iD,""))}(i),function sD(n){let{number:t,format:e}=n,i=e.indexOf(Ji);if(-1!==i){const s=e.lastIndexOf("0")-i,o=e.lastIndexOf("#")-i,r=s>-1,a=o>-1;let c=t.toString().split("e");c=c[1]?br(t,Math.abs(c[1])):c[0],c=c.split(Ji)[1]||"";let h=c.length,u=-1;r||a?r&&s>o?h=s:o>s&&(a&&h>o?h=o:r&&h<s&&(h=s),u=r?s:0):(n.format=e.substring(0,i)+e.substring(i+1),i=-1,h=0),h>-1&&(t=br(t,h),u>-1&&(t=function nD(n,t){let e;return e=0===t?eD:new RegExp(`(\\.[0-9]{${t}}[1-9]*)0+$`,"g"),n.replace(e,"$1").replace(tD,"")}(t,u)))}else t=br(t);n.negative&&-1*t>=0&&!n.negativeZero&&(n.negative=!1),n.number=t,n.decimalIndex=i}(i),function lD(n){const t=n.format;let e=t.indexOf("#"),i=t.indexOf("0"),s=Y_(e,i,!0);e=t.lastIndexOf("#"),i=t.lastIndexOf("0");let o=Y_(e,i);s===t.length&&(o=s),n.start=s,n.end=o,n.lastZeroIndex=i}(i),function uD(n,t){let e=n.number;return-1!==n.start&&(e=function hD(n,t){const{start:e,end:i,negative:s,negativeZero:o,format:r,decimalIndex:a,lastZeroIndex:c,hasNegativeFormat:h,hasGroup:u}=n;let d=n.number;const p=d.toString().split(Ji),f=r.length,g=p[0],m=p[1]||"",_=g.length;let v="";d=r.substring(0,e),(s||o)&&!h&&(d+="-");for(let x=e;x<f;x++){let S=r.charAt(x);if(-1===a){if(i-x<_){d+=g;break}}else if(-1!==c&&c<x&&(v=""),a-x<=_&&a-x>-1&&(d+=g,x=a),a===x){d+=(m?t.numbers.symbols.decimal:"")+m,x+=i-a+1;continue}"0"===S?(d+=S,v=S):"#"===S&&(d+=v)}return u&&(d=j_(d,e+(s&&!h?1:0),Math.max(i,_+e),t.numbers.decimal,t)),i>=e&&(d+=r.substring(i+1)),d}(n,t),e=function cD(n,t,e){let i=n;if(t===xr||t===to){i="";for(let s=0,o=n.length;s<o;s++){let r=n.charAt(s);i+="$"===r||"%"===r?e:r}}return i}(e,n.style,n.symbol),e=function XM(n,t){let e=n;if(t){const i=t.length;for(let s=0;s<i;s++)e=e.replace("__??__",t[s])}return e}(e,n.literals)),e}(i,e))}const pD=/^(n|c|p|e|a)(\d*)$/i;function q_(n){let t;return t=hl(n)?function fD(n){const t=pD.exec(n);if(t){const e={style:Nu};let i=t[1].toLowerCase();return"c"===i?e.style=xr:"a"===i?e.style=ul:"p"===i?e.style=to:"e"===i&&(e.style=M_),t[2]&&(e.minimumFractionDigits=e.maximumFractionDigits=parseInt(t[2],10)),e}}(n):n,t}function K_(n,t="n",e=no){if(null==n)return"";if(!isFinite(n))return String(n);const i=ms(e),s=q_(t);let o;return o=s?JM(n,Object.assign({},i.numbers[s.style||Nu],s),i):dD(n,t,i),o}function Wu(n){return"number"==typeof n}const gD=/[eE][-+]?[0-9]+/,J_=/\u00A0/g;function Q_(n,t){if(t.length>1){const e=(t[1]||"").replace("$","").split("n");if(n.indexOf(e[0])>-1&&n.indexOf(e[1])>-1)return n.replace(e[0],"").replace(e[1],"")}}const bD=/\{(\d+)}/g;function Zu(n){const t=arguments;return n.replace(bD,(e,i)=>t[parseInt(i,10)+1])}const X_=[2,1,5,3,4],AD={[(-2).toString()]:8,[(-1).toString()]:6,[2..toString()]:6,[1..toString()]:3},TD={numeric:1,"2-digit":2,short:3,long:4,narrow:5},MD=/[hHmsSzZoOvVxX]/,ev=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function DD(n){return n.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],tv={e:"c",E:"c",M:"L",Q:"q"},$u={},so={};function Yu(n){return $u[n]||($u[n]=new RegExp(n+"+")),$u[n]}function gl(n){const t=[];let e=n.charAt(0),i=e;for(let s=1;s<n.length;s++){let o=n.charAt(s);o===i?e+=o:(t.push(e),e=i=o)}return t.push(e),t}function qu(n,t){const e=n.length;let s,o,i=-Number.MAX_VALUE;for(let r in t){const a=[];let c=r.replace("v","z"),h=0;for(let u=0;u<e;u++){const d=n[u];let f=(Yu(d[0]).exec(c)||[])[0];if(f){if(c=c.replace(f,""),f.length!==d.length){let g=Math.max(Math.min(X_[f.length]-X_[d.length],2),-2);h-=AD[g]}}else h-=120;if(a.push(f),h<i)break}c.length&&(h-=20*gl(c).length),h>i&&(i=h,s=a,o=t[r])}o=o.replace("v","z");for(let r=0;r<e;r++){const a=s[r];if(a&&a!==n[r]){const c=s[r][0];o=o.replace(Yu(c),n[r]),tv[c]&&(o=o.replace(Yu(tv[c]),n[r]))}}return o}function Ku(n,t){const e=t.calendar;let i;if(hl(n))i=e.patterns[n]?e.patterns[n]:n;else if(n){if(n.pattern)return n.pattern;let s=n.skeleton;s||(n.datetime?i=Zu(e.dateTimeFormats[n.datetime],e.timeFormats[n.datetime],e.dateFormats[n.datetime]):n.date?i=e.dateFormats[n.date]:n.time?i=e.timeFormats[n.time]:s=function RD(n){let t=[];for(let e=0;e<ev.length;e++){let i=ev[e],o=n[i.key];if(o){let r=i.specifier||i.getSpecifier(n);t.push(r.repeat(TD[o]))}}return t.join("")}(n)),s&&(i=function OD(n,t){const e=t.calendar.dateTimeFormats.availableFormats;if(e[n])return e[n];if(so[t.name]&&so[t.name][n])return so[t.name][n];const i=n.search(MD);let s;if(i>0){const o=n.substr(0,i),r=n.substr(i);s=Zu(t.calendar.dateTimeFormats.short,e[r]||qu(gl(r),e),e[o]||qu(gl(o),e))}else s=qu(gl(n),e);return function ID(n,t,e){so[e]||(so[e]={}),so[e][n]=t}(n,s,t.name),s}(s,t))}return i||(i=e.patterns.d),i}function iv(n){let t;return n<=3?t="abbreviated":4===n?t="wide":5===n?t="narrow":6===n&&(t="short"),t}function gi(n,t,e,i,s){return L_(n,{type:t,nameType:iv(e),standAlone:i,lower:s})}function nv(n){return"function"==typeof n}function Ju(n){return Boolean(n)&&nv(n.getTime)&&nv(n.getMonth)}const ml="hour",_l="zone",Qu="weekday",ov="quarter",ND={G:"era",y:"year",q:ov,Q:ov,M:"month",L:"month",d:"day",E:Qu,c:Qu,e:Qu,h:ml,H:ml,k:ml,K:ml,m:"minute",s:"second",S:"millisecond",a:"dayperiod",x:_l,X:_l,z:_l,Z:_l},wr=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function rv(n,t,e,i){return t<=2?Ct(n+1,t):gi(e,"months",t,i)[n]}function av(n,t,e,i){const s=Math.floor(n.getMonth()/3);return t<3?s+1:gi(e,"quarters",t,i)[s]}function vl(n,t,e){const{shortHours:i,optionalMinutes:s,separator:o,localizedName:r,zZeroOffset:a}=e,c=n.getTimezoneOffset()/60;if(0===c&&a)return"Z";const h=c<=0?"+":"-",u=Math.abs(c).toString().split("."),d=u[1]||0;let p=h+(i?u[0]:Ct(u[0],2));return(d||!s)&&(p+=(o?":":"")+Ct(d,2)),r&&(p=Zu(0===c?t.calendar.gmtZeroFormat:t.calendar.gmtFormat,p)),p}function lv(n,t,e,i){let s;return s=t<3?function PD(n,t,e){const i=U_(e);let s;return s=n<i?7-i+n:n-i,s+1}(n.getDay(),0,e):gi(e,"days",t,i)[n.getDay()],s}const He={};function cv(n,t,e=no){if(!Ju(n))return n??"";const i=ms(e);return Ku(t,i).replace(wr,function(o){let a,r=o.length;return a=o.includes("'")||o.includes('"')?o.slice(1,r-1):He[o[0]](n,r,i),a})}function hv(n,t,e){const i=n.getTimezoneOffset(),s=new Date(n.getTime()+6e4*(t-e)),o=s.getTimezoneOffset();return new Date(s.getTime()+6e4*(o-i))}He.d=function(n,t){return Ct(n.getDate(),t)},He.E=function(n,t,e){return gi(e,"days",t)[n.getDay()]},He.M=function(n,t,e){return rv(n.getMonth(),t,e,!1)},He.L=function(n,t,e){return rv(n.getMonth(),t,e,!0)},He.y=function(n,t){let e=n.getFullYear();return 2===t&&(e%=100),Ct(e,t)},He.h=function(n,t){return Ct(n.getHours()%12||12,t)},He.H=function(n,t){return Ct(n.getHours(),t)},He.k=function(n,t){return Ct(n.getHours()||24,t)},He.K=function(n,t){return Ct(n.getHours()%12,t)},He.m=function(n,t){return Ct(n.getMinutes(),t)},He.s=function(n,t){return Ct(n.getSeconds(),t)},He.S=function(n,t){const e=n.getMilliseconds();let i;return i=0!==e?Ct(String(e/1e3).split(".")[1].substr(0,t),t,!0):Ct("",t),i},He.a=function(n,t,e){return gi(e,"dayPeriods",t)[n.getHours()<12?"am":"pm"]},He.z=function(n,t,e){return vl(n,e,{shortHours:t<4,optionalMinutes:t<4,separator:!0,localizedName:!0})},He.Z=function(n,t,e){return vl(n,e,{separator:t>3,localizedName:4===t,zZeroOffset:5===t})},He.x=function(n,t,e){return vl(n,e,{optionalMinutes:1===t,separator:3===t||5===t})},He.X=function(n,t,e){return vl(n,e,{optionalMinutes:1===t,separator:3===t||5===t,zZeroOffset:!0})},He.G=function(n,t,e){let i=n.getFullYear()>=0?1:0;return gi(e,"eras",t)[i]},He.e=lv,He.c=function(n,t,e){return lv(n,t,e,!0)},He.q=function(n,t,e){return av(n,t,e,!0)},He.Q=av;const BD=/([+|-]\d{1,2})(:?)(\d{2})?/,FD=/^\/Date\((.*?)\)\/$/,zD=/[+-]\d*/,GD={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},UD=/\d+/,HD=/^ */,VD=/ *$/,jD=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],dv=["G","g","F","Y","y","M","m","D","d","y","T","t"];function Qt(n,t,e){return!(n>=t&&n<=e)}function ht(n,t){let{format:e,idx:i}=t,s=0;for(;e[i]===n;)s++,i++;return s>0&&(i-=1),t.idx=i,s}function Pi(n,t){let e=n?GD[n]||new RegExp("^\\d{1,"+n+"}"):UD,i=t.value.substr(t.valueIdx,n).match(e);return i?(i=i[0],t.valueIdx+=i.length,parseInt(i,10)):null}function _s(n,t,e){let o,r,h,i=0,s=n.length,a=0,c=0;for(;i<s;i++)o=n[i],r=o.length,h=t.value.substr(t.valueIdx,r),e&&(h=h.toLowerCase()),h===o&&r>a&&(a=r,c=i);return a?(t.valueIdx+=a,c+1):null}function Xu(n){let t=!1;return n.value.charAt(n.valueIdx)===n.format[n.idx]&&(n.valueIdx++,t=!0),t}function xl(n,t,e){const{shortHours:i,noSeparator:s,optionalMinutes:o,localizedName:r,zLiteral:a}=e;if(n.UTC=!0,a&&"Z"===n.value.charAt(n.valueIdx))return n.valueIdx++,!1;if(r&&!_s(function ZD(n){const{gmtFormat:t,gmtZeroFormat:e}=n;if(!t)throw Xs.NoGMTInfo.error();return[t.replace("{0}","").toLowerCase(),e.replace("{0}","").toLowerCase()]}(t.calendar),n,!0))return!0;const c=BD.exec(n.value.substr(n.valueIdx,6));if(!c)return!r;const h=c[1],u=c[3],d=parseInt(h,10),p=c[2];let f=parseInt(u,10);if(isNaN(d)||!i&&3!==h.length||!o&&isNaN(f)||s&&p||(isNaN(f)&&(f=null),Qt(d,-12,13)||f&&Qt(f,0,59)))return!0;n.valueIdx+=c[0].length,n.hoursOffset=d,n.minutesOffset=f}function pv(n,t,e){const i=ht(n,t),s=gi(e,"months",i,"L"===n,!0),o=i<3?Pi(2,t):_s(s,t,!0);if(null===o||Qt(o,1,12))return!0;t.month=o-1}function fv(n,t,e){const i=ht(n,t),s=gi(e,"days",i,"c"===n,!0);let o=i<3?Pi(1,t):_s(s,t,!0);if(!o&&0!==o||Qt(o,1,7))return!0}const Ye={};function YD(n,t){return`${HD.exec(t)[0]}${n}${VD.exec(t)[0]}`}function qD(n,t,e){let i=Ku(t,e).split("");const s={format:i,idx:0,value:YD(n,t),valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},o=i.length;let r=!1;for(;s.idx<o;s.idx++){let a=i[s.idx];if(r)"'"===a&&(r=!1),Xu(s);else if(Ye[a]){if(Ye[a](s,e))return null}else if("'"===a)r=!0,Xu(s);else if(!Xu(s))return null}return s.valueIdx<n.length?null:function $D(n){let{year:t,month:e,day:i,hours:s,minutes:o,seconds:r,milliseconds:a,pmHour:c,UTC:h,hoursOffset:u,minutesOffset:d}=n;const p=null!==s||null!==o||r||null,f=new Date;let g;return null===t&&null===e&&null===i&&p?(t=f.getFullYear(),e=f.getMonth(),i=f.getDate()):(null===t&&(t=f.getFullYear()),null===i&&(i=1)),c&&s<12&&(s+=12),h?(u&&(s+=-u),d&&(o+=-d*(u<0?-1:1)),g=new Date(Date.UTC(t,e,i,s,o,r,a))):(g=new Date(t,e,i,s,o,r,a),function LD(n,t){!t&&23===n.getHours()&&n.setHours(n.getHours()+2)}(g,s)),t<100&&g.setFullYear(t),g.getDate()!==i&&void 0===h?null:g}(s)||null}Ye.d=function(n){ht("d",n);const t=Pi(2,n);if(null===t||Qt(t,1,31))return!0;null===n.day&&(n.day=t)},Ye.E=function(n,t){if(null===_s(gi(t,"days",ht("E",n),!1,!0),n,!0))return!0},Ye.M=function(n,t){return pv("M",n,t)},Ye.L=function(n,t){return pv("L",n,t)},Ye.y=function(n){const t=ht("y",n);let e=Pi(1===t?void 0:t,n);if(null===e)return!0;if(2===t){const i=(new Date).getFullYear();e=i-i%100+e,e>2029&&(e-=100)}n.year=e},Ye.h=function(n){ht("h",n);let t=Pi(2,n);if(12===t&&(t=0),null===t||Qt(t,0,11))return!0;n.hours=t},Ye.K=function(n){ht("K",n);let t=Pi(2,n);if(null===t||Qt(t,0,11))return!0;n.hours=t},Ye.a=function(n,t){let i=gi(t,"dayPeriods",ht("a",n),!1,!0);const s=_s([i.pm],n,!0);if(!s&&!_s([i.am],n,!0))return!0;n.pmHour=s},Ye.H=function(n){ht("H",n);const t=Pi(2,n);if(null===t||Qt(t,0,23))return!0;n.hours=t},Ye.k=function(n){ht("k",n);let t=Pi(2,n);if(null===t||Qt(t,1,24))return!0;n.hours=24===t?0:t},Ye.m=function(n){ht("m",n);const t=Pi(2,n);if(null===t||Qt(t,0,59))return!0;n.minutes=t},Ye.s=function(n){ht("s",n);const t=Pi(2,n);if(null===t||Qt(t,0,59))return!0;n.seconds=t},Ye.S=function(n){const t=ht("S",n),e=n.value.substr(n.valueIdx,t);let i=null;if(isNaN(parseInt(e,10))||(i=parseFloat("0."+e,10),i=br(i,3),i*=1e3,n.valueIdx+=t),null===i||Qt(i,0,999))return!0;n.milliseconds=i},Ye.z=function(n,t){const i=ht("z",n)<4,s=xl(n,t,{shortHours:i,optionalMinutes:i,localizedName:!0});if(s)return s},Ye.Z=function(n,t){const e=ht("Z",n),i=xl(n,t,{noSeparator:e<4,zLiteral:5===e,localizedName:4===e});if(i)return i},Ye.x=function(n,t){const e=ht("x",n),i=xl(n,t,{noSeparator:3!==e&&5!==e,optionalMinutes:1===e});if(i)return i},Ye.X=function(n,t){const e=ht("X",n),i=xl(n,t,{noSeparator:3!==e&&5!==e,optionalMinutes:1===e,zLiteral:!0});if(i)return i},Ye.G=function(n,t){const i=gi(t,"eras",ht("G",n),!1,!0);if(null===_s([i[0],i[1]],n,!0))return!0},Ye.e=function(n,t){return fv("e",n,t)},Ye.c=function(n,t){return fv("c",n,t)};const eI={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}},gv="literal";function ed(n,t){const e=n[n.length-1];e&&e.type===gv?e.pattern+=t:n.push({type:gv,pattern:t})}function tI(n){return"h"===n||"K"===n}const nI=/\{(\d+)(:[^}]+)?\}/g;function mv(n,t,e){if(t){if(Ju(n))return cv(n,t,e);if(Wu(n))return K_(n,t,e)}return n??""}const oI={name:"@progress/kendo-angular-intl",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1668698299,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"},Qi="http://www.telerik.com/kendo-angular-ui/components/internationalization/troubleshooting/",_v={NoCurrency:`Solution: ${Qi}#toc-no-currency`,NoCurrencyDisplay:`Solution: ${Qi}#toc-no-currency-display`,NoCurrencyRegion:`Solution: ${Qi}#toc-no-currency-region`,NoDateFieldNames:`Solution: ${Qi}#toc-no-date-filed-names`,NoFirstDay:`Solution: ${Qi}#toc-no-first-day`,NoGMTInfo:`Solution: ${Qi}#toc-no-gmt-info`,NoLocale:`Solution: ${Qi}#toc-no-locale`,NoValidCurrency:`Solution: ${Qi}#toc-no-valid-currency`,NoWeekData:`Solution: ${Qi}#toc-no-week-data`};function zt(n){return function(...t){try{return n.apply(null,t)}catch(e){throw e.message=function vv(n){const t=n.message,e=_v[Object.keys(_v).filter(i=>0===t.indexOf(i))[0]];return e?`${t} ${e}`:t}(e),e}}}const rI=zt(L_),aI=zt(function wM(n,t=no){const i=ms(t).calendar.dateFields;if(!i)throw Xs.NoDateFieldNames.error();const s=i[n.type]||{};return s[n.nameType]||s.wide}),lI=zt(U_),cI=zt(function sI(n,t,e){return n.replace(nI,function(i,s,o){return mv(t[parseInt(s,10)],o?o.substring(1):"",e)})}),hI=zt(cv),uI=zt(K_),dI=(zt(function SM(){const n=arguments.length;for(let t=0;t<n;t++){let e=arguments[t];if(e.main){let i=Object.keys(e.main)[0],s=e.main[i],o=Be[i]=Be[i]||{};s.units?bM(o,s.units):(o.name=o.name||i,o.identity=o.identity||s.identity,fl(o),yM(i,s))}else if(e.supplemental)if(e.supplemental.weekData)Be.supplemental.weekData={firstDay:e.supplemental.weekData.firstDay,weekendStart:e.supplemental.weekData.weekendStart,weekendEnd:e.supplemental.weekData.weekendEnd};else if(e.supplemental.likelySubtags)Be.supplemental.likelySubtags=Object.assign(Be.supplemental.likelySubtags,e.supplemental.likelySubtags);else if(e.supplemental.currencyData){const i=Be.supplemental.currencyData;i.region=Object.assign(i.region||{},e.supplemental.currencyData.region),i.fractions=Object.assign(i.fractions||{},e.supplemental.currencyData.fractions)}}}),zt(function VM(n){return eo(n).numbers.symbols})),pI=zt(function XD(n,t,e=no){if(!n)return null;if(Ju(n))return n;let i=String(n).trim(),s=function JD(n){if(n&&0===n.indexOf("/D")){let t=FD.exec(n);if(t){t=t[1];let e=zD.exec(t.substring(1));return t=new Date(parseInt(t,10)),e&&(e=function KD(n){const t="-"===n.substr(0,1)?-1:1;let e=n.substring(1);return e=60*parseInt(e.substr(0,2),10)+parseInt(e.substring(2),10),t*e}(e[0]),t=hv(t,t.getTimezoneOffset(),0),t=hv(t,0,-1*e)),t}}}(i);if(s)return s;const o=ms(e);let r=t||function QD(n){const t=[],e=n.patterns,i=dv.length;for(let s=0;s<i;s++)t.push(e[dv[s]]);return t.concat(jD)}(o.calendar);r=Array.isArray(r)?r:[r];const a=r.length;for(let c=0;c<a;c++)if(s=qD(i,r[c],o),s)return s;return s}),fI=zt(function xD(n,t=no,e={}){if(!n&&0!==n)return null;if(Wu(n))return n;const i=ms(t),s=i.numbers.symbols;let a,o=n.toString(),r=e||{};if(hl(e)&&(r={format:e},$_(r),o=function _D(n,t){const e=t.literals;let i=n;if(e)for(let s=0;s<e.length;s++)i=i.replace(e[s],"");return i}(o,r),Z_(r,i)),(r.style===to||o.indexOf(s.percentSign)>-1)&&(o=o.replace(s.percentSign,""),a=!0),gD.test(o))return o=parseFloat(o.replace(s.decimal,Ji)),isNaN(o)?null:o;const{negative:c,number:h}=function mD(n,t,e){const i=q_(e)||{};let r,s=ju(i.style),o=n;const a=i.currency||G_(t,s);if(a){const c=function PM(n,t,e=!0){const i=z_(n,t,e);if(i){if(!i.displays){const s=[t];for(let o in i)s.push(i[o]);s.sort(RM),i.displays=s}return i.displays}}(t,a,s);if(c)for(let h=0;h<c.length;h++){let u=c[h];if(o.includes(u)){o=o.replace(u,""),s=!0;break}}if(s){const h=Q_(o,t.numbers.currency.patterns)||Q_(o,t.numbers.accounting.patterns);h&&(r=!0,o=h)}}return{number:o,negative:r}}(o,i,r);o=String(h).trim();const u=o.indexOf("-");if(u>0)return null;let d=u>-1;return d=void 0!==c?c:d,o=o.replace("-","").replace(J_," ").split(s.group.replace(J_," ")).join("").replace(s.decimal,Ji),o=parseFloat(o),isNaN(o)?o=null:d&&(o*=-1),o&&a&&(o=function vD(n){const t=String(n),e=t.indexOf(Ji);let s=n/Math.pow(10,2);return-1===e||String(s).length<=t.length+2?s:parseFloat(s.toFixed(t.length-e+1+2))}(o)),o}),gI=zt(function iI(n,t=no){const i=Ku(n,ms(t)),s=[];let o=wr.lastIndex=0,r=wr.exec(i);for(;r;){let a=r[0];if(o<r.index&&ed(s,i.substring(o,r.index)),a.startsWith('"')||a.startsWith("'"))ed(s,a);else{const c=a[0],h=ND[c],u={type:h,pattern:a};"hour"===h&&(u.hour12=tI(a));const d=eI[h];if(d){const p=Wu(d.minLength)?d.minLength:d.minLength[c],f=a.length;f>=p&&(u.names={type:d.type,nameType:iv(f),standAlone:d.standAlone===c})}s.push(u)}o=wr.lastIndex,r=wr.exec(i)}return o<i.length&&ed(s,i.substring(o)),s}),mI=zt(mv),_I=zt(function HM(n){const t=eo(n);if(t.weekendRange)return t.weekendRange;const e=Be.supplemental.weekData;if(!e)throw UM.error();const i=fl(t),o=e.weekendEnd[i]||e.weekendEnd["001"];return t.weekendRange={start:Hu.indexOf(e.weekendStart[i]||e.weekendStart["001"]),end:Hu.indexOf(o)},t.weekendRange}),vI=/_/g;let Nn=(()=>{class n{constructor(){this.changes=new l.vpe,bt(oI)}notify(){this.changes.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function xI(n){return new bI(n)}(l.LFG(l.soG)),i},providedIn:"root"}),n})(),bI=(()=>{class n extends Nn{constructor(e){super(),this.localeId=e}get localeId(){return this.locale}set localeId(e){const i=e.replace(vI,"-");i!==this.locale&&(this.locale=i,this.notify())}format(e,...i){return cI(e,i,this.localeId)}toString(e,i,s){return mI(e,i,s||this.localeId)}formatDate(e,i,s){return hI(e,i,s||this.localeId)}parseDate(e,i,s){return pI(e,i,s||this.localeId)}parseNumber(e,i,s){return fI(e,s||this.localeId,i)}formatNumber(e,i,s){return uI(e,i,s||this.localeId)}dateFieldName(e,i){return aI(e,i||this.localeId)}dateFormatNames(e,i){return rI(i||this.localeId,e)}splitDateFormat(e,i){return gI(e,i||this.localeId)}numberSymbols(e){return dI(e||this.localeId)}firstDay(e){return lI(e||this.localeId)}weekendRange(e){return _I(e||this.localeId)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Pn="arc",Ve="#000",Se="bottom",re="center",mi="circle",Ln="date",bv="12px sans-serif",wv=/\{\d+:?/,bl="height",id="inside",fe="left",je=Number.MAX_VALUE,Qe=-Number.MAX_VALUE,nd="none",sd="object",yl="outside",be="right",Ev="roundedRect",od="string",_e="top",Gt="value",ve="#fff",Sl="width",V="x",W="y";function ut(n){return Array.isArray(n)}function Et(n,t){const e=ut(t)?t:[t];for(let i=0;i<e.length;i++){const s=e[i];-1===n.className.indexOf(s)&&(n.className+=" "+s)}}const TI=/\s+/g;function Xt(n){let t=.5;n.options.stroke&&ee(n.options.stroke.width)&&n.options.stroke.width%2==0&&(t=0);for(let e=0;e<n.segments.length;e++)n.segments[e].anchor().round(0).translate(t,t);return n}function Av(n,t){return-n.x*t.y+n.y*t.x<0}function he(n){return"number"==typeof n&&!isNaN(n)}function Xi(n){return typeof n===od}function Tv(n){return he(n)||Xi(n)&&isFinite(n)}function Pe(n){return"function"==typeof n}function Dv(n,t){for(let e in t){let o,i=t[e],s=typeof i;if(o="object"===s&&null!==i?i.constructor:null,o&&o!==Array)if(i instanceof Date)n[e]=new Date(i.getTime());else if(Pe(i.clone))n[e]=i.clone();else{let r=n[e];n[e]="object"==typeof r&&r||{},Dv(n[e],i)}else"undefined"!==s&&(n[e]=i)}return n}function b(n){const t=arguments.length;for(let e=1;e<t;e++)Dv(n,arguments[e]);return n}function _i(n){return"object"==typeof n}function oo(n){return he(n)?n+"px":n}const II=/width|height|top|left|bottom|right/i;function OI(n){return II.test(n)}function Le(n,t){const e=Xi(t)?[t]:t;if(ut(e)){const i={},s=window.getComputedStyle(n);for(let o=0;o<e.length;o++){let r=e[o];i[r]=OI(r)?parseFloat(s[r]):s[r]}return i}if(_i(t))for(let i in t)n.style[i]=oo(t[i])}function ke(n,t=0){const e={top:0,right:0,bottom:0,left:0};return"number"==typeof n?e.top=e[be]=e[Se]=e[fe]=n:(e.top=n.top||t,e[be]=n[be]||t,e[Se]=n[Se]||t,e[fe]=n[fe]||t),e}let Iv={compile:function(n){return n}};const Ov=class RI{static register(t){Iv=t}static compile(t){return Iv.compile(t)}};function nt(n={}){let t;return n.template?n.template=t=Ov.compile(n.template):Pe(n.content)&&(t=n.content),t}const NI=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,Cr={};function en(n){if(Cr[n])return Cr[n];const t=[];return n.replace(NI,function(e,i,s,o){t.push(ee(i)?i:s||o)}),Cr[n]=function(e){let i=e;for(let s=0;s<t.length&&i;s++)i=i[t[s]];return i},Cr[n]}function Ut(n,t){const e=n.length,i=[];for(let s=0;s<e;s++)t(n[s])&&i.push(n[s]);return i}function Er(n,t){if(n.className){const e=t.split(" ");for(let i=0;i<e.length;i++)if(-1!==n.className.indexOf(e[i]))return!0}}Cr.undefined=function(n){return n};class Rv{constructor(){this._map={}}get(t){return this._map[this._key(t)]}set(t,e){this._map[this._key(t)]=e}_key(t){return t instanceof Date?t.getTime():t}}function de(n,t){if(t)return-1!==t.indexOf(n)}function ei(n,t,e){return Ie(n+(t-n)*e,3)}const Nv="trigger",Pv=class PI{constructor(t,e){this.observer=t,this.handlerMap=b({},this.handlerMap,e)}trigger(t,e){const{observer:i,handlerMap:s}=this;let o;return s[t]?o=this.callObserver(s[t],e):i[Nv]&&(o=this.callObserver(Nv,t,e)),o}callObserver(t,...e){return this.observer[t].apply(this.observer,e)}requiresHandlers(t){if(this.observer.requiresHandlers)return this.observer.requiresHandlers(t);for(let e=0;e<t.length;e++)if(this.handlerMap[t[e]])return!0}};function Lv(n,t){const e=n.length,i=[];for(let s=0;s<e;s++){let o=t(n[s]);ee(o)&&i.push(o)}return i}const LI=ui.browser||{};function rd(n){let t=0;return n.wheelDelta?(t=-n.wheelDelta/120,LI.webkit&&(t/=2*Math.max(window.devicePixelRatio,.625))):n.detail&&(t=n.detail/3),t=t>0?Math.ceil(t):Math.floor(t),t}function Bv(n){const t=window.console;typeof t<"u"&&t.log&&t.log(n)}const{append:vs,bindEvents:kr,defined:k,deg:Bn,elementOffset:ro,elementSize:tn,eventCoordinates:BI,eventElement:vi,hashKey:FI,last:We,limitValue:J,objectKey:zI,rad:Xe,round:N,unbindEvents:Ar,valueOrDefault:ie}=jo;class Tr{static fetchFonts(t,e,i={depth:0}){!t||i.depth>5||!document.fonts||Object.keys(t).forEach(function(o){const r=t[o];"dataSource"===o||"$"===o[0]||!r||("font"===o?e.push(r):"object"==typeof r&&(i.depth++,Tr.fetchFonts(r,e,i),i.depth--))})}static loadFonts(t,e){let i=[];if(t.length>0&&document.fonts){try{i=t.map(function(s){return document.fonts.load(s)})}catch(s){Bv(s)}Promise.all(i).then(e,e)}else e()}static preloadFonts(t,e){const i=[];Tr.fetchFonts(t,i),Tr.loadFonts(i,e)}}const GI=Tr;function M(n,t){const e=n.prototype;e.options=e.options?b({},e.options,t):t}function ad(n){let t=je,e=Qe;for(let i=0,s=n.length;i<s;i++){const o=n[i];null!==o&&isFinite(o)&&(t=Math.min(t,o),e=Math.max(e,o))}return{min:t===je?void 0:t,max:e===Qe?void 0:e}}function Fv(n,t){for(let e=0;e<n.length;e++){const i=n[e];if(t(i,e,n))return i}}const wl=ft,UI=/matrix\((.*)\)/;function zv(n){const t=getComputedStyle(n).transform;return"none"===t?wl.unit():function HI(n){const t=n.match(UI);if(null===t||2!==t.length)return wl.unit();const e=t[1].split(",").map(i=>parseFloat(i));return new wl(...e)}(t)}const ti=(()=>{class n extends U{constructor(e){if(super(),1===arguments.length){const i=n.formats,s=this.resolveColor(e);for(let o=0;o<i.length;o++){const a=i[o].process,c=i[o].re.exec(s);if(c){const h=a(c);this.r=h[0],this.g=h[1],this.b=h[2]}}}else this.r=arguments[0],this.g=arguments[1],this.b=arguments[2];this.r=this.normalizeByte(this.r),this.g=this.normalizeByte(this.g),this.b=this.normalizeByte(this.b)}toHex(){const e=this.padDigit,i=this.r.toString(16),s=this.g.toString(16),o=this.b.toString(16);return"#"+e(i)+e(s)+e(o)}resolveColor(e){let i=e||"black";return"#"===i.charAt(0)&&(i=i.substr(1,6)),i=i.replace(/ /g,""),i=i.toLowerCase(),i=n.namedColors[i]||i,i}normalizeByte(e){return e<0||isNaN(e)?0:e>255?255:e}padDigit(e){return 1===e.length?"0"+e:e}brightness(e){const i=Math.round;return this.r=i(this.normalizeByte(this.r*e)),this.g=i(this.normalizeByte(this.g*e)),this.b=i(this.normalizeByte(this.b*e)),this}percBrightness(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)}isDark(){return this.percBrightness()<180}static fromBytes(e,i,s,o){return new Wi(e,i,s,o??1)}static fromRGB(e,i,s,o){return new An(e,i,s,o??1)}static fromHSV(e,i,s,o){return new Jh(e,i,s,o??1)}static fromHSL(e,i,s,o){return new qg(e,i,s,o??1)}}return n.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],n.namedColors=qs,n})(),ld=function WI(n){return new ti(n).isDark()?ve:Ve},Gv={};class ZI{constructor(t){this._index={},this._values=t?t.slice(0):[];for(let e=0;e<this._values.length;e++)this._index[this._values[e]]=e}values(){return this._values.filter(t=>t!==Gv)}has(t){return void 0!==this._index[t]}add(t){this.has(t)||(this._index[t]=this._values.length,this._values.push(t))}delete(t){const e=this._index[t];void 0!==e&&(this._values[e]=Gv,delete this._index[t])}clear(){this._index={},this._values=[]}get size(){return this._values.length}}class $I{constructor(t){this._set=new Set(t)}values(){return Array.from(this._set)}has(t){return this._set.has(t)}add(t){this._set.add(t)}delete(t){this._set.delete(t)}clear(){this._set.clear()}get size(){return this._set.size}}function Uv(n){return(()=>{let n=!1;return"function"==typeof Set&&(n=new Set([1]).has(1)),n})()?new $I(n):new ZI(n)}function Hv(n){throw n}function Mr(n,t){let e=N(t-n,9);if(0===e){if(0===t)return.1;e=Math.abs(t)}const i=Math.pow(10,Math.floor(Math.log(e)/Math.log(10))),s=N(e/i,10);let o=1;return o=s<1.904762?.2:s<4.761904?.5:s<9.523809?1:2,N(i*o,10)}class Cl extends U{constructor(t,e){super(),this.x=t||0,this.y=e||0}clone(){return new Cl(this.x,this.y)}equals(t){return t&&this.x===t.x&&this.y===t.y}rotate(t,e){const i=Xe(e),s=Math.cos(i),o=Math.sin(i),{x:r,y:a}=t,{x:c,y:h}=this;return this.x=N(r+(c-r)*s+(h-a)*o,3),this.y=N(a+(h-a)*s-(c-r)*o,3),this}multiply(t){return this.x*=t,this.y*=t,this}distanceTo(t){const e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)}static onCircle(t,e,i){const s=Xe(e);return new Cl(t.x-i*Math.cos(s),t.y-i*Math.sin(s))}}const te=Cl;class El extends U{constructor(t,e,i,s){super(),this.x1=t||0,this.y1=e||0,this.x2=i||0,this.y2=s||0}equals(t){return this.x1===t.x1&&this.x2===t.x2&&this.y1===t.y1&&this.y2===t.y2}width(){return this.x2-this.x1}height(){return this.y2-this.y1}translate(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this}move(t,e){const i=this.height(),s=this.width();return k(t)&&(this.x1=t,this.x2=this.x1+s),k(e)&&(this.y1=e,this.y2=this.y1+i),this}wrap(t){return this.x1=Math.min(this.x1,t.x1),this.y1=Math.min(this.y1,t.y1),this.x2=Math.max(this.x2,t.x2),this.y2=Math.max(this.y2,t.y2),this}wrapPoint(t){const e=ut(t),i=e?t[0]:t.x,s=e?t[1]:t.y;return this.wrap(new El(i,s,i,s)),this}snapTo(t,e){return(e===V||!e)&&(this.x1=t.x1,this.x2=t.x2),(e===W||!e)&&(this.y1=t.y1,this.y2=t.y2),this}alignTo(t,e){const i=this.height(),s=this.width(),o=e===_e||e===Se?W:V,r=o===W?i:s;if(e===re){const a=t.center(),c=this.center();this.x1+=a.x-c.x,this.y1+=a.y-c.y}else this[o+1]=e===_e||e===fe?t[o+1]-r:t[o+2];return this.x2=this.x1+s,this.y2=this.y1+i,this}shrink(t,e){return this.x2-=t,this.y2-=e,this}expand(t,e){return this.shrink(-t,-e),this}pad(t){const e=ke(t);return this.x1-=e.left,this.x2+=e.right,this.y1-=e.top,this.y2+=e.bottom,this}unpad(t){const e=ke(t);return e.left=-e.left,e.top=-e.top,e.right=-e.right,e.bottom=-e.bottom,this.pad(e)}clone(){return new El(this.x1,this.y1,this.x2,this.y2)}center(){return new te(this.x1+this.width()/2,this.y1+this.height()/2)}containsPoint(t){return t.x>=this.x1&&t.x<=this.x2&&t.y>=this.y1&&t.y<=this.y2}points(){return[new te(this.x1,this.y1),new te(this.x2,this.y1),new te(this.x2,this.y2),new te(this.x1,this.y2)]}getHash(){return[this.x1,this.y1,this.x2,this.y2].join(",")}overlaps(t){return!(t.y2<this.y1||this.y2<t.y1||t.x2<this.x1||this.x2<t.x1)}rotate(t){let e=this.width(),i=this.height();const{x:s,y:o}=this.center(),r=kl(0,0,s,o,t),a=kl(e,0,s,o,t),c=kl(e,i,s,o,t),h=kl(0,i,s,o,t);return e=Math.max(r.x,a.x,c.x,h.x)-Math.min(r.x,a.x,c.x,h.x),i=Math.max(r.y,a.y,c.y,h.y)-Math.min(r.y,a.y,c.y,h.y),this.x2=this.x1+e,this.y2=this.y1+i,this}toRect(){return new ue([this.x1,this.y1],[this.width(),this.height()])}hasSize(){return 0!==this.width()&&0!==this.height()}align(t,e,i){const s=e+1,o=e+2,r=e===V?Sl:bl,a=this[r]();de(i,[fe,_e])?(this[s]=t[s],this[o]=this[s]+a):de(i,[be,Se])?(this[o]=t[o],this[s]=this[o]-a):i===re&&(this[s]=t[s]+(t[r]()-a)/2,this[o]=this[s]+a)}}function kl(n,t,e,i,s){const o=Xe(s);return new te(e+(n-e)*Math.cos(o)+(t-i)*Math.sin(o),i-(n-e)*Math.sin(o)+(t-i)*Math.cos(o))}const P=El;class cd extends U{constructor(t,e,i,s,o){super(),this.center=t,this.innerRadius=e,this.radius=i,this.startAngle=s,this.angle=o}clone(){return new cd(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)}middle(){return this.startAngle+this.angle/2}setRadius(t,e){return e?this.innerRadius=t:this.radius=t,this}point(t,e){const i=Xe(t),s=Math.cos(i),o=Math.sin(i),r=e?this.innerRadius:this.radius,a=N(this.center.x-s*r,3),c=N(this.center.y-o*r,3);return new te(a,c)}adjacentBox(t,e,i){const s=this.clone().expand(t),o=s.middle(),r=s.point(o),a=e/2,c=i/2,h=Math.sin(Xe(o)),u=Math.cos(Xe(o));let d=r.x-a,p=r.y-c;return Math.abs(h)<.9&&(d+=a*-u/Math.abs(u)),Math.abs(u)<.9&&(p+=c*-h/Math.abs(h)),new P(d,p,d+e,p+i)}containsPoint(t){const e=this.center,i=this.innerRadius,s=this.radius,o=this.startAngle,r=this.startAngle+this.angle,a=t.x-e.x,c=t.y-e.y,h=new te(a,c),u=this.point(o),d=new te(u.x-e.x,u.y-e.y),p=this.point(r),f=new te(p.x-e.x,p.y-e.y),g=N(a*a+c*c,3);return(d.equals(h)||Av(d,h))&&!Av(f,h)&&g>=i*i&&g<=s*s}getBBox(){const t=new P(je,je,Qe,Qe),e=N(this.startAngle%360),i=N((e+this.angle)%360),s=this.innerRadius,o=[0,90,180,270,e,i].sort(qI),r=o.indexOf(e),a=o.indexOf(i);let c;c=e===i?o:r<a?o.slice(r,a+1):[].concat(o.slice(0,a+1),o.slice(r,o.length));for(let h=0;h<c.length;h++){let u=this.point(c[h]);t.wrapPoint(u),t.wrapPoint(u,s)}return s||t.wrapPoint(this.center),t}expand(t){return this.radius+=t,this}}function qI(n,t){return n-t}const Al=cd;class hd extends U{createRing(t,e){const i=t.startAngle+180;let s=t.angle+i;t.angle>0&&i===s&&(s+=.001);const o=new A(t.center.x,t.center.y),r=Math.max(t.radius,0),a=Math.max(t.innerRadius,0),c=new Ii(o,{startAngle:i,endAngle:s,radiusX:r,radiusY:r}),h=G.fromArc(c,e).close();if(a){c.radiusX=c.radiusY=a;const u=c.pointAt(s);h.lineTo(u.x,u.y),h.arc(s,i,a,a,!0)}else h.lineTo(o.x,o.y);return h}}hd.current=new hd;const Tl=hd;function JI(n){return.5-Math.cos(n*Math.PI)/2}function QI(n){return n}function XI(n,t,e,i){let s=1.70158,o=0,r=i;return 0===n?e:1===n?e+i:(o||(o=.5),r<Math.abs(i)?(r=i,s=o/4):s=o/(2*Math.PI)*Math.asin(i/r),r*Math.pow(2,-10*n)*Math.sin((Number(n)-s)*(1.1*Math.PI)/o)+i+e)}let ud;class dd extends U{static get current(){return ud||(ud=new dd),ud}constructor(){super(),this._items=[]}register(t,e){this._items.push({name:t,type:e})}create(t,e){const i=this._items;let s;if(e&&e.type){const o=e.type.toLowerCase();for(let r=0;r<i.length;r++)if(i[r].name.toLowerCase()===o){s=i[r];break}}if(s)return new s.type(t,e)}}const xi=dd,Ht=class eO extends U{static create(t,e,i){return xi.current.create(t,e,i)}get options(){return this._options||{duration:500,easing:"swing"}}set options(t){this._options=t}constructor(t,e){super(),this.options=Object.assign({},this.options,e),this.element=t}setup(){}step(){}play(){const t=this.options,{duration:e,delay:i=0}=t,s=Sh[t.easing],o=ir()+i,r=o+e;0===e?(this.step(1),this.abort()):setTimeout(()=>{const a=()=>{if(this._stopped)return;const c=ir(),h=Qa(c-o,0,e),d=s(h/e,h,0,1,e);this.step(d),c<r?Hg(a):this.abort()};a()},i)}abort(){this._stopped=!0}destroy(){this.abort()}};class jv extends U{constructor(t){super(),this.children=[],this.options=b({},this.options,this.initUserOptions(t))}initUserOptions(t){return t}reflow(t){const e=this.children;let i;for(let s=0;s<e.length;s++){let o=e[s];o.reflow(t),i=i?i.wrap(o.box):o.box.clone()}this.box=i||t}destroy(){const t=this.children;this.animation&&this.animation.destroy();for(let e=0;e<t.length;e++)t[e].destroy()}getRoot(){const t=this.parent;return t?t.getRoot():null}getSender(){const t=this.getService();if(t)return t.sender}getService(){let t=this;for(;t;){if(t.chartService)return t.chartService;t=t.parent}}translateChildren(t,e){const i=this.children,s=i.length;for(let o=0;o<s;o++)i[o].box.translate(t,e)}append(){for(let t=0;t<arguments.length;t++){let e=arguments[t];this.children.push(e),e.parent=this}}renderVisual(){!1!==this.options.visible&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())}addVisual(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))}renderChildren(){const t=this.children,e=t.length;for(let i=0;i<e;i++)t[i].renderVisual()}createVisual(){this.visual=new ge({zIndex:this.options.zIndex,visible:ie(this.options.visible,!0)})}createAnimation(){this.visual&&this.options.animation&&(this.animation=Ht.create(this.visual,this.options.animation))}appendVisual(t){t.chartElement||(t.chartElement=this),t.options.noclip?this.clipRoot().visual.append(t):k(t.options.zIndex)?this.stackRoot().stackVisual(t):this.isStackRoot?this.stackVisual(t):this.visual?this.visual.append(t):this.parent.appendVisual(t)}clipRoot(){return this.parent?this.parent.clipRoot():this}stackRoot(){return this.parent?this.parent.stackRoot():this}stackVisual(t){const e=t.options.zIndex||0,i=this.visual.children,s=i.length;let o;for(o=0;o<s&&!(ie(i[o].options.zIndex,0)>e);o++);this.visual.insert(o,t)}traverse(t){const e=this.children,i=e.length;for(let s=0;s<i;s++){let o=e[s];t(o),o.traverse&&o.traverse(t)}}closest(t){let e=this,i=!1;for(;e&&!i;)i=t(e),i||(e=e.parent);if(i)return e}renderComplete(){}hasHighlight(){const t=(this.options||{}).highlight;return!(!this.createHighlight||t&&!1===t.visible)}toggleHighlight(t,e){const i=(this.options||{}).highlight||{},s=i.visual;let o=this._highlight;if(!o){const r={fill:{color:ve,opacity:e||.2},stroke:{color:ve,width:1,opacity:e||.2}};if(s){if(o=this._highlight=s(Object.assign(this.highlightVisualArgs(),{createVisual:()=>this.createHighlight(r),sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total})),!o)return}else o=this._highlight=this.createHighlight(r);k(o.options.zIndex)||(o.options.zIndex=ie(i.zIndex,this.options.zIndex)),this.appendVisual(o)}o.visible(t)}createGradientOverlay(t,e,i){const s=new G(Object.assign({stroke:{color:"none"},fill:this.createGradient(i),closed:t.options.closed},e));return s.segments.elements(t.segments.elements()),s}createGradient(t){if(this.parent)return this.parent.createGradient(t)}supportsPointInactiveOpacity(){return!0}}jv.prototype.options={};const we=jv;class Wv extends we{constructor(t){super(t),this.options.margin=ke(this.options.margin),this.options.padding=ke(this.options.padding)}reflow(t){const e=this.options,{width:i,height:s,shrinkToFit:o}=e,r=i&&s,a=e.margin,c=e.padding,h=e.border.width;let u;const d=()=>{this.align(t,V,e.align),this.align(t,W,e.vAlign),this.paddingBox=u.clone().unpad(a).unpad(h)};let p=t.clone();r&&(p.x2=p.x1+i,p.y2=p.y1+s),o&&p.unpad(a).unpad(h).unpad(c),super.reflow(p),u=r?this.box=new P(0,0,i,s):this.box,o&&r?(d(),p=this.contentBox=this.paddingBox.clone().unpad(c)):(p=this.contentBox=u.clone(),u.pad(c).pad(h).pad(a),d()),this.translateChildren(u.x1-p.x1+a.left+h+c.left,u.y1-p.y1+a.top+h+c.top);const f=this.children;for(let g=0;g<f.length;g++){let m=f[g];m.reflow(m.box)}}align(t,e,i){this.box.align(t,e,i)}hasBox(){const t=this.options;return t.border.width||t.background}createVisual(){super.createVisual(),this.options.visible&&this.hasBox()&&this.visual.append(G.fromRect(this.paddingBox.toRect(),this.visualStyle()))}visualStyle(){const t=this.options,e=t.border||{};return{stroke:{width:e.width,color:e.color,opacity:ie(e.opacity,t.opacity),dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},cursor:t.cursor}}}M(Wv,{align:fe,vAlign:_e,margin:{},padding:{},border:{color:Ve,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});const xs=Wv;class Zv extends xs{constructor(t,e){super(t),this.pointData=e}getElement(){const{options:t,paddingBox:e}=this,{type:i,rotation:s}=t,o=e.center(),r=e.width()/2,a=e.height()/2;if(!t.visible||!this.hasBox())return null;const c=this.visualStyle();let h;if(i===mi)h=new fi(new wt([N(e.x1+r,3),N(e.y1+a,3)],Math.min(r,a)),c);else if("triangle"===i)h=G.fromPoints([[e.x1+r,e.y1],[e.x1,e.y2],[e.x2,e.y2]],c).close();else if("cross"===i)h=new Oi(c),h.moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),h.moveTo(e.x1,e.y2).lineTo(e.x2,e.y1);else{const u=e.toRect();if(i===Ev){const d=ie(t.borderRadius,u.width()/5);u.setCornerRadius(d)}h=G.fromRect(u,c)}return s&&h.transform(me().rotate(-s,[o.x,o.y])),h.options.zIndex=t.zIndex,h}createElement(){const t=this.options.visual,e=this.pointData||{};let i;return i=t?t({value:e.value,dataItem:e.dataItem,sender:this.getSender(),series:e.series,category:e.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:()=>this.getElement()}):this.getElement(),i}visualOptions(){const t=this.options;return{background:t.background,border:t.border,margin:t.margin,padding:t.padding,type:t.type,size:t.width,visible:t.visible}}createVisual(){this.visual=this.createElement()}}M(Zv,{type:mi,align:re,vAlign:re});const Fn=Zv,Dr="radial",iO={glass:{type:"linear",rotation:0,stops:[{offset:0,color:ve,opacity:0},{offset:.25,color:ve,opacity:.3},{offset:1,color:ve,opacity:0}]},sharpBevel:{type:Dr,stops:[{offset:0,color:ve,opacity:.55},{offset:.65,color:ve,opacity:0},{offset:.95,color:ve,opacity:.25}]},roundedBevel:{type:Dr,stops:[{offset:.33,color:ve,opacity:.06},{offset:.83,color:ve,opacity:.2},{offset:.95,color:ve,opacity:0}]},roundedGlass:{type:Dr,supportVML:!1,stops:[{offset:0,color:ve,opacity:0},{offset:.5,color:ve,opacity:.3},{offset:.99,color:ve,opacity:0}]},sharpGlass:{type:Dr,supportVML:!1,stops:[{offset:0,color:ve,opacity:.2},{offset:.15,color:ve,opacity:.15},{offset:.17,color:ve,opacity:.35},{offset:.85,color:ve,opacity:.05},{offset:.87,color:ve,opacity:.15},{offset:.99,color:ve,opacity:0}]},bubbleShadow:{type:Dr,center:[.5,.5],radius:.5}};function nO(n,t){if(n.x1===t.x1&&n.y1===t.y1&&n.x2===t.x2&&n.y2===t.y2)return t;const e=Math.min(n.x1,t.x1),i=Math.max(n.x1,t.x1),s=Math.min(n.x2,t.x2),o=Math.max(n.x2,t.x2),r=Math.min(n.y1,t.y1),a=Math.max(n.y1,t.y1),c=Math.min(n.y2,t.y2),h=Math.max(n.y2,t.y2),u=[];return u[0]=new P(i,r,s,a),u[1]=new P(e,a,i,c),u[2]=new P(s,a,o,c),u[3]=new P(i,c,s,h),n.x1===e&&n.y1===r||t.x1===e&&t.y1===r?(u[4]=new P(e,r,i,a),u[5]=new P(s,c,o,h)):(u[4]=new P(s,r,o,a),u[5]=new P(e,c,i,h)),Ut(u,function(d){return d.height()>0&&d.width()>0})[0]}class $v extends we{constructor(t){super(t);const e=this.options;e.width=parseInt(e.width,10),e.height=parseInt(e.height,10),this.gradients={}}reflow(){const{options:t,children:e}=this;let i=new P(0,0,t.width,t.height);this.box=i.unpad(t.margin);for(let s=0;s<e.length;s++)e[s].reflow(i),i=nO(i,e[s].box)||new P}createVisual(){this.visual=new ge,this.createBackground()}createBackground(){const t=this.options,e=t.border||{},i=this.box.clone().pad(t.margin).unpad(e.width),s=G.fromRect(i.toRect(),{stroke:{color:e.width?e.color:"",width:e.width,dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},zIndex:-10});this.visual.append(s)}getRoot(){return this}createGradient(t){const e=this.gradients,i=zI(t),s=iO[t.gradient];let o;if(e[i])o=e[i];else{const r=Object.assign({},s,t);"linear"===s.type?o=new sr(r):(t.innerRadius&&(r.stops=function sO(n){const t=n.stops,e=n.innerRadius/n.radius*100,i=t.length,s=[];for(let o=0;o<i;o++){let r=Object.assign({},t[o]);r.offset=(r.offset*(100-e)+e)/100,s.push(r)}return s}(r)),o=new $a(r),o.supportVML=!1!==s.supportVML),e[i]=o}return o}cleanGradients(){const t=this.gradients;for(let e in t)t[e]._observers=[]}size(){const t=this.options;return new P(0,0,t.width,t.height)}}M($v,{width:600,height:400,background:ve,border:{color:Ve,width:0},margin:ke(5),zIndex:-2});const oO=$v;class Yv extends we{constructor(t){super(t),this._initDirection()}_initDirection(){const t=this.options;t.vertical?(this.groupAxis=V,this.elementAxis=W,this.groupSizeField=Sl,this.elementSizeField=bl,this.groupSpacing=t.spacing,this.elementSpacing=t.vSpacing):(this.groupAxis=W,this.elementAxis=V,this.groupSizeField=bl,this.elementSizeField=Sl,this.groupSpacing=t.vSpacing,this.elementSpacing=t.spacing)}reflow(t){this.box=t.clone(),this.reflowChildren()}reflowChildren(){const{box:t,elementAxis:e,groupAxis:i,elementSizeField:s,groupSizeField:o}=this,{groups:r,groupsSize:a,maxGroupElementsSize:c}=this.groupOptions(),h=r.length,u=t[i+1]+this.alignStart(a,t[o]());if(h){let d=u;for(let p=0;p<h;p++){let f=r[p],g=f.groupElements,m=t[e+1],_=g.length;for(let v=0;v<_;v++){let x=g[v],S=this.elementSize(x),T=d+this.alignStart(S[o],f.groupSize),D=new P;D[i+1]=T,D[i+2]=T+S[o],D[e+1]=m,D[e+2]=m+S[s],x.reflow(D),m+=S[s]+this.elementSpacing}d+=f.groupSize+this.groupSpacing}t[i+1]=u,t[i+2]=u+a,t[e+2]=t[e+1]+c}}alignStart(t,e){let i=0;const s=this.options.align;return s===be||s===Se?i=e-t:s===re&&(i=(e-t)/2),i}groupOptions(){const{box:t,children:e,elementSizeField:i,groupSizeField:s,elementSpacing:o,groupSpacing:r}=this,a=N(t[i]()),c=e.length,h=[];let u=0,d=0,p=0,f=0,g=[];for(let m=0;m<c;m++){let _=e[m];_.box||_.reflow(t);let v=this.elementSize(_);this.options.wrap&&N(d+o+v[i])>a&&(h.push({groupElements:g,groupSize:u,groupElementsSize:d}),f=Math.max(f,d),p+=r+u,u=0,d=0,g=[]),u=Math.max(u,v[s]),d>0&&(d+=o),d+=v[i],g.push(_)}return h.push({groupElements:g,groupSize:u,groupElementsSize:d}),f=Math.max(f,d),p+=u,{groups:h,groupsSize:p,maxGroupElementsSize:f}}elementSize(t){return{width:t.box.width(),height:t.box.height()}}createVisual(){}}M(Yv,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});const pd=Yv,rO=Cu;class qv extends we{constructor(t,e){super(e),this.content=t,this.reflow(new P)}reflow(t){const e=this.options,i=e.size=ur(this.content,{font:e.font});this.baseline=i.baseline,this.box=new P(t.x1,t.y1,t.x1+i.width,t.y1+i.height)}createVisual(){const{font:t,color:e,opacity:i,cursor:s}=this.options;this.visual=new rO(this.content,this.box.toRect().topLeft(),{font:t,fill:{color:e,opacity:i},cursor:s})}}M(qv,{font:bv,color:Ve});const aO=qv;function Ml(n){const t=n.origin,e=n.bottomRight();return new P(t.x,t.y,e.x,e.y)}const lO=/\n/m,Vt=class cO extends xs{constructor(t,e,i){super(e),this.content=t,this.data=i,this._initContainer(),!1!==this.options._autoReflow&&this.reflow(new P)}_initContainer(){const t=this.options,e=String(this.content).split(lO),i=new pd({vertical:!0,align:t.align,wrap:!1}),s=b({},t,{opacity:1,animation:null});this.container=i,this.append(i);for(let o=0;o<e.length;o++){let r=new aO(e[o].trim(),s);i.append(r)}}reflow(t){const e=this.options,i=e.visual;if(this.container.options.align=e.align,i&&!this._boxReflow){let s=t;s.hasSize()||(this._boxReflow=!0,this.reflow(s),this._boxReflow=!1,s=this.box);const o=this.visual=i(this.visualContext(s));o&&(s=Ml(o.clippedBBox()||new ue),o.options.zIndex=e.zIndex),this.box=this.contentBox=this.paddingBox=s}else if(super.reflow(t),e.rotation){const s=ke(e.margin);let o=this.box.unpad(s);this.targetBox=t,this.normalBox=o.clone(),o=this.rotate(),o.translate(s.left-s.right,s.top-s.bottom),this.rotatedBox=o.clone(),o.pad(s)}}createVisual(){const t=this.options;if(this.visual=new ge({transform:this.rotationTransform(),zIndex:t.zIndex,noclip:t.noclip}),this.hasBox()){const e=G.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(e)}}renderVisual(){if(this.options.visible)if(this.options.visual){const t=this.visual;t&&!k(t.options.noclip)&&(t.options.noclip=this.options.noclip),this.addVisual(),this.createAnimation()}else super.renderVisual()}visualContext(t){const e={text:this.content,rect:t.toRect(),sender:this.getSender(),options:this.options,createVisual:()=>(this._boxReflow=!0,this.reflow(t),this._boxReflow=!1,this.getDefaultVisual())};return this.data&&Object.assign(e,this.data),e}getDefaultVisual(){this.createVisual(),this.renderChildren();const t=this.visual;return delete this.visual,t}rotate(){const t=this.options;return this.box.rotate(t.rotation),this.align(this.targetBox,V,t.align),this.align(this.targetBox,W,t.vAlign),this.box}rotationTransform(){const t=this.options.rotation;if(!t)return null;const{x:e,y:i}=this.normalBox.center(),s=this.rotatedBox.center();return me().translate(s.x-e,s.y-i).rotate(t,[e,i])}};class Dl extends we{constructor(t){super(t),this._textBox=new Vt(this.options.text,Object.assign({},this.options,{vAlign:this.options.position})),this.append(this._textBox)}reflow(t){super.reflow(t),this.box.snapTo(t,V)}static buildTitle(t,e){let s,i=t;return"string"==typeof t&&(i={text:t}),i=Object.assign({visible:!0},e,i),i&&i.visible&&i.text&&(s=new Dl(i)),s}static orderTitles(t){const e=[].concat(t),i=e.filter(o=>o&&o.options.position!==Se),s=e.filter(o=>o&&o.options.position===Se);return Kv(i),Kv(s),s.reverse(),i.concat(s)}}function Kv(n){for(let t=1;t<n.length;t++){const e=n[t]._textBox,i=n[t-1]._textBox;i.options.margin=Object.assign(ke(i.options.margin),{bottom:0}),e.options.margin=Object.assign(ke(e.options.margin),{top:0})}}M(Dl,{color:Ve,position:_e,align:re,margin:ke(5),padding:ke(5)});const Il=Dl;class Jv extends Vt{constructor(t,e,i,s,o){super(e,o),this.text=e,this.value=t,this.index=i,this.dataItem=s,this.reflow(new P)}visualContext(t){const e=super.visualContext(t);return e.value=this.value,e.dataItem=this.dataItem,e.format=this.options.format,e.culture=this.options.culture,e}click(t,e){t.trigger("axisLabelClick",{element:vi(e),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})}rotate(){if(this.options.alignRotation!==re){const t=this.normalBox.toRect(),e=this.rotationTransform();this.box=Ml(t.bbox(e.matrix()))}else super.rotate();return this.box}rotationTransform(){const t=this.options,e=t.rotation;if(!e)return null;if(t.alignRotation===re)return super.rotationTransform();const i=me().rotate(e).matrix(),s=this.normalBox.toRect(),o=this.targetBox.toRect(),r=t.rotationOrigin||_e,a=r===_e||r===Se?V:W,c=r===_e||r===Se?W:V,h=r===_e||r===fe?o.origin:o.bottomRight(),u=s.topLeft().transformCopy(i),d=s.topRight().transformCopy(i),p=s.bottomRight().transformCopy(i),f=s.bottomLeft().transformCopy(i),g=ue.fromPoints(u,d,p,f),m={[c]:o.origin[c]-g.origin[c]},_=Math.abs(u[c]+m[c]-h[c]),v=Math.abs(d[c]+m[c]-h[c]);let x,S;N(_,10)===N(v,10)?(x=u,S=d):v<_?(x=d,S=p):(x=u,S=f);const T=x[a]+(S[a]-x[a])/2;return m[a]=o.center()[a]-T,me().translate(m.x,m.y).rotate(e)}}M(Jv,{_autoReflow:!1});const bs=Jv;class Xv extends xs{constructor(t,e,i){super(e),this.fields=t,this.chartService=i,this.render()}hide(){this.options.visible=!1}show(){this.options.visible=!0}render(){const t=this.options;if(t.visible){const{label:e,icon:i}=t,s=new P,o=()=>this;let c,h,r=i.size,a=this.fields.text;if(k(e)&&e.visible){const d=nt(e);d?a=d(this.fields):e.format&&(a=this.chartService.format.auto(e.format,a)),e.color||(e.color=e.position===id?"#fff":i.background),this.label=new Vt(a,b({},e)),this.label.aliasFor=o,e.position===id&&!k(r)&&(i.type===mi?r=Math.max(this.label.box.width(),this.label.box.height()):(c=this.label.box.width(),h=this.label.box.height()),s.wrap(this.label.box))}i.width=c||r||7,i.height=h||r||7;const u=new Fn(b({},i));u.aliasFor=o,this.marker=u,this.append(u),this.label&&this.append(this.label),u.reflow(new P),this.wrapperBox=s.wrap(u.box)}}reflow(t){const{options:e,label:i,marker:s,wrapperBox:o}=this,r=t.center(),a=e.line.length,c=e.position;if(e.visible){let h,u,d;de(c,[fe,be])?c===fe?(d=o.alignTo(t,c).translate(-a,t.center().y-o.center().y),e.line.visible&&(h=[t.x1,r.y],this.linePoints=[h,[d.x2,r.y]],u=d.clone().wrapPoint(h))):(d=o.alignTo(t,c).translate(a,t.center().y-o.center().y),e.line.visible&&(h=[t.x2,r.y],this.linePoints=[h,[d.x1,r.y]],u=d.clone().wrapPoint(h))):c===Se?(d=o.alignTo(t,c).translate(t.center().x-o.center().x,a),e.line.visible&&(h=[r.x,t.y2],this.linePoints=[h,[r.x,d.y1]],u=d.clone().wrapPoint(h))):(d=o.alignTo(t,c).translate(t.center().x-o.center().x,-a),e.line.visible&&(h=[r.x,t.y1],this.linePoints=[h,[r.x,d.y2]],u=d.clone().wrapPoint(h))),s&&s.reflow(d),i&&(i.reflow(d),s&&(e.label.position===yl&&i.box.alignTo(s.box,c),i.reflow(i.box))),this.contentBox=d,this.targetBox=t,this.box=u||d}}createVisual(){super.createVisual(),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()}renderVisual(){const t=this.options,e=t.visual;t.visible&&e?(this.visual=e(Object.assign(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:t.background,border:t.background,icon:t.icon,label:t.label,line:t.line,position:t.position,visible:t.visible},createVisual:()=>{this.createVisual(),this.renderChildren();const i=this.visual;return delete this.visual,i}})),this.addVisual()):super.renderVisual()}createLine(){const t=this.options.line;if(this.linePoints){const e=G.fromPoints(this.linePoints,{stroke:{color:t.color,width:t.width,dashType:t.dashType}});Xt(e),this.visual.append(e)}}click(t,e){const i=this.eventArgs(e);t.trigger("noteClick",i)||e.preventDefault()}over(t,e){const i=this.eventArgs(e);t.trigger("noteHover",i)||e.preventDefault()}out(t,e){const i=this.eventArgs(e);t.trigger("noteLeave",i)}eventArgs(t){const e=this.options;return Object.assign(this.fields,{element:vi(t),text:k(e.label)?e.label.text:"",visual:this.visual})}}M(Xv,{icon:{visible:!0,type:mi},label:{position:id,visible:!0,align:re,vAlign:re},line:{visible:!0},visible:!0,position:_e,zIndex:2});const ex=Xv;let tx={format:(n,t)=>t,toString:n=>n,parseDate:n=>new Date(n),firstDay:()=>0};const ix=class uO{static register(t){tx=t}static get implementation(){return tx}},dO=/\{(\d+)(:[^\}]+)?\}/g,fd=class gO{constructor(t,e={}){this._intlService=e.intlService,this.sender=e.sender||t,this.format=new class pO{constructor(t){this._intlService=t}get intl(){return this._intlService||ix.implementation}set intl(t){this._intlService=t}auto(t,...e){const i=this.intl;return Xi(t)&&t.match(wv)?i.format(t,...e):i.toString(e[0],t)}localeAuto(t,e,i){const s=this.intl;let o;return o=Xi(t)&&t.match(wv)?t.replace(dO,function(r,a,c){let h=e[parseInt(a,10)];return s.toString(h,c?c.substring(1):"",i)}):s.toString(e[0],t,i),o}}(e.intlService),this.chart=t,this.rtl=Boolean(e.rtl)}get intl(){return this._intlService||ix.implementation}set intl(t){this._intlService=t,this.format.intl=t}notify(t,e){this.chart&&this.chart.trigger(t,e)}isPannable(t){const e=((this.chart||{}).options||{}).pannable;return e&&e.lock!==t}};let gd;const nx=class mO{static register(t){gd=t}static create(t,e){if(gd)return gd.create(t,e)}};function sx(n,t){const{tickX:e,tickY:i,position:s}=n,o=new G({stroke:{width:t.width,color:t.color}});return n.vertical?o.moveTo(e,s).lineTo(e+t.size,s):o.moveTo(s,i).lineTo(s,i+t.size),Xt(o),o}function ox(n,t){const{lineStart:e,lineEnd:i,position:s}=n,o=new G({stroke:{width:t.width,color:t.color,dashType:t.dashType}});return n.vertical?o.moveTo(e,s).lineTo(i,s):o.moveTo(s,e).lineTo(s,i),Xt(o),o}class rx extends we{constructor(t,e=new fd){super(t),this.chartService=e,this.options.visible||(this.options=b({},this.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),this.options.minorTicks=b({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.minorTickType!==nd},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType}),this.options.majorTicks=b({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.majorTickType!==nd},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType}),this.initFields(),this.options._deferLabels||this.createLabels(),this.createTitle(),this.createNotes()}initFields(){}labelsRange(){return{min:this.options.labels.skip,max:this.labelsCount()}}normalizeLabelRotation(t){const e=t.rotation;_i(e)&&(t.alignRotation=e.align,t.rotation=e.angle)}createLabels(){const t=this.options,i=b({},t.labels,{align:t.vertical?be:re,zIndex:t.zIndex}),s=Math.max(1,i.step);if(this.clearLabels(),i.visible){this.normalizeLabelRotation(i),"auto"===i.rotation&&(i.rotation=0,t.autoRotateLabels=!0);const o=this.labelsRange();for(let r=o.min;r<o.max;r+=s){let c=this.createAxisLabel(r,i,{index:r,count:o.max});c&&(this.append(c),this.labels.push(c))}}}clearLabels(){this.children=Ut(this.children,t=>!(t instanceof bs)),this.labels=[]}clearTitle(){this.title&&(this.children=Ut(this.children,t=>t!==this.title),this.title=void 0)}clear(){this.clearLabels(),this.clearTitle()}lineBox(){const{options:t,box:e}=this,s=t.labels.mirror,o=s?e.x1:e.x2,r=s?e.y2:e.y1,a=t.line.width||0;return t.vertical?new P(o,e.y1,o,e.y2-a):new P(e.x1,r,e.x2-a,r)}createTitle(){const t=this.options,e=b({rotation:t.vertical?-90:0,text:"",zIndex:1,visualSize:!0},t.title);if(e.visible&&e.text){const i=new Vt(e.text,e);this.append(i),this.title=i}}createNotes(){const t=this.options,e=t.notes,i=e.data||[];this.notes=[];for(let s=0;s<i.length;s++){const o=b({},e,i[s]);o.value=this.parseNoteValue(o.value);const r=new ex({value:o.value,text:o.label.text,dataItem:o},o,this.chartService);r.options.visible&&(k(r.options.position)?t.vertical&&!de(r.options.position,[fe,be])?r.options.position=t.reverse?fe:be:!t.vertical&&!de(r.options.position,[_e,Se])&&(r.options.position=t.reverse?Se:_e):r.options.position=t.vertical?t.reverse?fe:be:t.reverse?Se:_e,this.append(r),this.notes.push(r))}}parseNoteValue(t){return t}renderVisual(){super.renderVisual(),this.createPlotBands()}createVisual(){super.createVisual(),this.createBackground(),this.createLine()}gridLinesVisual(){let t=this._gridLines;return t||(t=this._gridLines=new ge({zIndex:-2}),this.appendVisual(this._gridLines)),t}createTicks(t){const e=this.options,i=this.lineBox(),s=e.labels.mirror,o=e.majorTicks.visible?e.majorUnit:0,r={vertical:e.vertical};function a(c,h,u){const d=c.length,p=Math.max(1,h.step);if(h.visible)for(let f=h.skip;f<d;f+=p)k(u)&&f%u==0||(r.tickX=s?i.x2:i.x2-h.size,r.tickY=s?i.y1-h.size:i.y1,r.position=c[f],t.append(sx(r,h)))}a(this.getMajorTickPositions(),e.majorTicks),a(this.getMinorTickPositions(),e.minorTicks,o/e.minorUnit)}createLine(){const t=this.options,e=t.line,i=this.lineBox();if(e.width>0&&e.visible){const s=new G({stroke:{width:e.width,color:e.color,dashType:e.dashType}});s.moveTo(i.x1,i.y1).lineTo(i.x2,i.y2),t._alignLines&&Xt(s);const o=this._lineGroup=new ge;o.append(s),this.visual.append(o),this.createTicks(o)}}getActualTickSize(){const t=this.options;let e=0;return t.majorTicks.visible&&t.minorTicks.visible?e=Math.max(t.majorTicks.size,t.minorTicks.size):t.majorTicks.visible?e=t.majorTicks.size:t.minorTicks.visible&&(e=t.minorTicks.size),e}createBackground(){const{options:t,box:e}=this,i=t.background;i&&(this._backgroundPath=G.fromRect(e.toRect(),{fill:{color:i},stroke:null}),this.visual.append(this._backgroundPath))}createPlotBands(){const t=this.options,e=t.plotBands||[],i=t.vertical,s=this.plotArea;if(0===e.length)return;const o=this._plotbandGroup=new ge({zIndex:-1}),r=Ut(this.pane.axes,a=>a.options.vertical!==this.options.vertical)[0];for(let a=0;a<e.length;a++){let h,u,p,c=e[a],d=c.label;if(i?(h=(r||s.axisX).lineBox(),u=this.getSlot(c.from,c.to,!0)):(h=this.getSlot(c.from,c.to,!0),u=(r||s.axisY).lineBox()),d&&(d.vAlign=d.position||fe,p=this.createPlotBandLabel(d,c,new P(h.x1,u.y1,h.x2,u.y2))),0!==h.width()&&0!==u.height()){const f=new ue([h.x1,u.y1],[h.width(),u.height()]),g=G.fromRect(f,{fill:{color:c.color,opacity:c.opacity},stroke:null});o.append(g),p&&o.append(p)}}this.appendVisual(o)}createPlotBandLabel(t,e,i){if(!1===t.visible)return null;let o,s=t.text;if(k(t)&&t.visible){const r=nt(t);r?s=r({text:s,item:e}):t.format&&(s=this.chartService.format.auto(t.format,s)),t.color||(t.color=this.options.labels.color)}return o=new Vt(s,t),o.reflow(i),o.renderVisual(),o.visual}createGridLines(t){const e=this.options,{minorGridLines:i,majorGridLines:s,minorUnit:o,vertical:r}=e,a=t.options.line.visible,c=s.visible?e.majorUnit:0,h=t.lineBox(),u=h[r?"y1":"x1"],d={lineStart:h[r?"x1":"y1"],lineEnd:h[r?"x2":"y2"],vertical:r},p=[],f=this.gridLinesVisual();function g(m,_,v){const x=m.length,S=Math.max(1,_.step);if(_.visible)for(let T=_.skip;T<x;T+=S){let D=N(m[T]);de(D,p)||T%v!=0&&(!a||u!==D)&&(d.position=D,f.append(ox(d,_)),p.push(D))}}return g(this.getMajorTickPositions(),s),g(this.getMinorTickPositions(),i,c/o),f.children}reflow(t){const{options:e,labels:i,title:s}=this,o=e.vertical,r=i.length,a=o?Sl:bl,c=s?s.box[a]():0,h=this.getActualTickSize()+e.margin+c,d=((this.getRoot()||{}).box||t)[a]();let p=0;for(let f=0;f<r;f++){let g=i[f].box[a]();g+h<=d&&(p=Math.max(p,g))}this.box=o?new P(t.x1,t.y1,t.x1+p+h,t.y2):new P(t.x1,t.y1,t.x2,t.y1+p+h),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()}getLabelsTickPositions(){return this.getMajorTickPositions()}labelTickIndex(t){return t.index}arrangeLabels(){const{options:t,labels:e}=this,i=this.labelsBetweenTicks(),s=t.vertical,o=t.labels.mirror,r=this.getLabelsTickPositions();for(let a=0;a<e.length;a++){const c=e[a],h=this.labelTickIndex(c),u=s?c.box.height():c.box.width(),d=r[h],p=r[h+1];let f,g;s?(f=i?d+(p-d)/2-u/2:d-u/2,g=f):i?(f=d,g=p):(f=d-u/2,g=f+u),this.positionLabel(c,o,f,g)}}positionLabel(t,e,i,s=i){const o=this.options,r=o.vertical,a=this.lineBox(),c=this.getActualTickSize()+o.margin;let h;if(r){let u=a.x2;e?(u+=c,t.options.rotationOrigin=fe):(u-=c+t.box.width(),t.options.rotationOrigin=be),h=t.box.move(u,i)}else{let u=a.y1;e?(u-=c+t.box.height(),t.options.rotationOrigin=Se):(u+=c,t.options.rotationOrigin=_e),h=new P(i,u,s,u+t.box.height())}t.reflow(h)}autoRotateLabelAngle(t,e){return t.width()<e?0:t.height()>e?-90:-45}autoRotateLabels(){if(!this.options.autoRotateLabels||this.options.vertical)return!1;const t=this.getMajorTickPositions(),e=this.labels,i=Math.min(e.length,t.length-1);let s=0;for(let o=0;o<i;o++){const r=Math.abs(t[o+1]-t[o]),c=this.autoRotateLabelAngle(e[o].box,r);if(0!==c&&(s=c),-90===s)break}if(0!==s){for(let o=0;o<e.length;o++)e[o].options.rotation=s,e[o].reflow(new P);return!0}}arrangeTitle(){const{options:t,title:e}=this,i=t.labels.mirror;e&&(t.vertical?(e.options.align=i?be:fe,e.options.vAlign=e.options.position):(e.options.align=e.options.position,e.options.vAlign=i?_e:Se),e.reflow(this.box))}arrangeNotes(){for(let t=0;t<this.notes.length;t++){const e=this.notes[t],i=e.options.value;let s;k(i)?(this.shouldRenderNote(i)?e.show():e.hide(),s=this.noteSlot(i)):e.hide(),e.reflow(s||this.lineBox())}}noteSlot(t){return this.getSlot(t)}alignTo(t){const e=t.lineBox(),i=this.options.vertical,s=i?W:V;this.box.snapTo(e,s),i?this.box.shrink(0,this.lineBox().height()-e.height()):this.box.shrink(this.lineBox().width()-e.width(),0),this.box[s+1]-=this.lineBox()[s+1]-e[s+1],this.box[s+2]-=this.lineBox()[s+2]-e[s+2]}axisLabelText(t,e,i){let s;const o=nt(e),r=()=>e.format?this.chartService.format.localeAuto(e.format,[t],e.culture):t;return s=o?o(Object.assign({},i,{get text(){return r()},value:t,format:e.format,culture:e.culture})):r(),s}slot(t,e,i){const s=this.getSlot(t,e,i);if(s)return s.toRect()}contentBox(){const t=this.box.clone(),e=this.labels;if(e.length){const i=this.options.vertical?W:V;if(this.chartService.isPannable(i)){const s=this.maxLabelOffset();t[i+1]-=s.start,t[i+2]+=s.end}else{e[0].options.visible&&t.wrap(e[0].box);const s=e[e.length-1];s.options.visible&&t.wrap(s.box)}}return t}maxLabelOffset(){const{vertical:t,reverse:e}=this.options,i=this.labelsBetweenTicks(),s=this.getLabelsTickPositions(),o=t?W:V,r=this.labels,a=e?1:0,c=e?0:1;let h=0,u=0;for(let d=0;d<r.length;d++){const p=r[d],f=this.labelTickIndex(p);let g,m;i?(g=s[f+a],m=s[f+c]):g=m=s[f],h=Math.max(h,g-p.box[o+1]),u=Math.max(u,p.box[o+2]-m)}return{start:h,end:u}}limitRange(t,e,i,s,o){const r=this.options;if(t<i&&o<0&&(!k(r.min)||r.min<=i)||s<e&&o>0&&(!k(r.max)||s<=r.max))return null;if(e<i&&o>0||s<t&&o<0)return{min:t,max:e};const a=e-t;let c=t,h=e;return t<i&&o<0?(c=J(t,i,s),h=J(t+a,i+a,s)):e>s&&o>0&&(h=J(e,i,s),c=J(e-a,i,s-a)),{min:c,max:h}}valueRange(){return{min:this.seriesMin,max:this.seriesMax}}lineDir(){const{vertical:t,reverse:e}=this.options;return(t?-1:1)*(e?-1:1)}lineInfo(){const{vertical:t}=this.options,e=this.lineBox(),i=t?e.height():e.width(),s=t?W:V,o=this.lineDir(),a=s+(1===o?1:2).toString();return{axis:s,axisOrigin:a,axisDir:o,lineBox:e,lineSize:i,lineStart:e[a]}}pointOffset(t){const{axis:e,axisDir:i,axisOrigin:s,lineBox:o,lineSize:r}=this.lineInfo();return(i>0?t[e]-o[s]:o[s]-t[e])/r}scaleToDelta(t,e){const s=J(t,-.999,.999);let o;return o=s>0?e*Math.min(1,s):e-e/(1+s),o}labelsBetweenTicks(){return!this.options.justified}prepareUserOptions(){}}M(rx,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:Ve,visible:!0},title:{visible:!0,position:re},majorTicks:{align:yl,size:4,skip:0,step:1},minorTicks:{align:yl,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:yl,minorTickType:nd,majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:Ve,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});const Ir=rx,Ol="milliseconds",md="seconds",_d="minutes",Or="hours",Li="days",Rr="weeks",ys="months",nn="years",lo=6e4,Rl=60*lo,sn=24*Rl,xd=7*sn,bd=31*sn,yd=365*sn,Bi={years:yd,months:bd,weeks:xd,days:sn,hours:Rl,minutes:lo,seconds:1e3,milliseconds:1};function Sd(n,t){return n.getTime()-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*lo}function st(n,t){return new Date(n.getTime()+t)}function Te(n){let t;return n instanceof Date?t=n:n&&(t=new Date(n)),t}function Nl(n,t){return 0===t&&23===n.getHours()&&(n.setHours(n.getHours()+2),!0)}function kt(n,t,e,i){let s=n;if(n){let o=Te(n);const r=o.getHours();e===nn?(s=new Date(o.getFullYear()+t,0,1),Nl(s,0)):e===ys?(s=new Date(o.getFullYear(),o.getMonth()+t,1),Nl(s,r)):e===Rr?(s=kt(function vO(n,t=0){let e=0,i=n.getDay();if(!isNaN(i))for(;i!==t;)0===i?i=6:i--,e++;return st(n,-e*sn)}(o,i),7*t,Li),Nl(s,r)):e===Li?(s=new Date(o.getFullYear(),o.getMonth(),o.getDate()+t),Nl(s,r)):e===Or?s=function xO(n,t){const e=new Date(n);e.setMinutes(0,0,0);const i=(n.getTimezoneOffset()-e.getTimezoneOffset())*lo;return st(e,i+t*Rl)}(o,t):e===_d?(s=st(o,t*lo),s.getSeconds()>0&&s.setSeconds(0)):e===md?s=st(o,1e3*t):e===Ol&&(s=st(o,t)),e!==Ol&&s.getMilliseconds()>0&&s.setMilliseconds(0)}return s}function wd(n,t,e){return kt(Te(n),0,t,e)}function ax(n,t,e){const i=Te(n);return i&&wd(i,t,e).getTime()===i.getTime()?i:kt(i,1,t,e)}function Ss(n,t){return n&&t?n.getTime()-t.getTime():-1}function Fi(n,t){return n.getTime()-t}function Me(n){if(ut(n)){let t=[];for(let e=0;e<n.length;e++)t.push(Me(n[e]));return t}if(n)return Te(n).getTime()}function Cd(n,t){return n&&t?Me(n)===Me(t):n===t}function lx(n,t,e){return Sd(n,t)/Bi[e]}function ws(n,t,e,i){const s=Te(n),o=Te(t);let r;return r=e===ys?s.getMonth()-o.getMonth()+12*(s.getFullYear()-o.getFullYear())+lx(s,new Date(s.getFullYear(),s.getMonth()),Li)/new Date(s.getFullYear(),s.getMonth()+1,0).getDate():e===nn?s.getFullYear()-o.getFullYear()+ws(s,new Date(s.getFullYear(),0),ys,1)/12:e===Li||e===Rr?lx(s,o,e):Fi(s,t)/Bi[e],r/i}function Ed(n,t,e){let i;return i=e===nn?t.getFullYear()-n.getFullYear():e===ys?12*Ed(n,t,nn)+t.getMonth()-n.getMonth():e===Li?Math.floor(Fi(t,n)/sn):Math.floor(Fi(t,n)/Bi[e]),i}function gt(n,t){let e;return e=Xi(t)&&n.parseDate(t)||Te(t),e}function cx(n,t){if(ut(t)){const e=[];for(let i=0;i<t.length;i++)e.push(gt(n,t[i]));return e}return gt(n,t)}function hx(n,t){return he(n.weekStartDay)?n.weekStartDay:t&&t.firstDay?t.firstDay():0}class Pl extends Ir{initFields(){this._ticks={}}categoriesHash(){return""}clone(){const t=new Pl(Object.assign({},this.options,{categories:this.options.srcCategories}),this.chartService);return t.createLabels(),t}initUserOptions(t){const e=t.categories||[],i=k(t.min),s=k(t.max);if(t.srcCategories=t.categories=e,(i||s)&&e.length){const o=i?Math.floor(t.min):0;let r;r=s?t.justified?Math.floor(t.max)+1:Math.ceil(t.max):e.length,t.categories=t.categories.slice(o,r)}return t}rangeIndices(){const t=this.options,e=t.categories.length||1,i=he(t.min)?t.min%1:0;let s;return s=he(t.max)&&t.max%1!=0&&t.max<this.totalRange().max?e-(1-t.max%1):e-(t.justified?1:0),{min:i,max:s}}totalRangeIndices(t){const e=this.options;let s,i=he(e.min)?e.min:0;if(s=he(e.max)?e.max:he(e.min)?i+e.categories.length:this.totalRange().max||1,t){const o=this.totalRange();i=J(i,0,o.max),s=J(s,0,o.max)}return{min:i,max:s}}range(){const t=this.options;return{min:he(t.min)?t.min:0,max:he(t.max)?t.max:this.totalRange().max}}roundedRange(){return this.range()}totalRange(){const t=this.options;return{min:0,max:Math.max(this._seriesMax||0,t.srcCategories.length)-(t.justified?1:0)}}scaleOptions(){const{min:t,max:e}=this.rangeIndices(),i=this.lineBox();return{scale:(this.options.vertical?i.height():i.width())/(e-t||1)*(this.options.reverse?-1:1),box:i,min:t,max:e}}arrangeLabels(){super.arrangeLabels(),this.hideOutOfRangeLabels()}hideOutOfRangeLabels(){const{box:t,labels:e}=this;if(e.length>0){const i=this.options.vertical?W:V,s=t[i+1],o=t[i+2],r=e[0],a=We(e);(r.box[i+1]>o||r.box[i+2]<s)&&(r.options.visible=!1),(a.box[i+1]>o||a.box[i+2]<s)&&(a.options.visible=!1)}}getMajorTickPositions(){return this.getTicks().majorTicks}getMinorTickPositions(){return this.getTicks().minorTicks}getLabelsTickPositions(){return this.getTicks().labelTicks}tickIndices(t){const{min:e,max:i}=this.rangeIndices(),s=Math.ceil(i);let o=Math.floor(e);const r=[];for(;o<=s;)r.push(o),o+=t;return r}getTickPositions(t){const{vertical:e,reverse:i}=this.options,{scale:s,box:o,min:r}=this.scaleOptions(),a=o[(e?W:V)+(i?2:1)],c=this.tickIndices(t),h=[];for(let u=0;u<c.length;u++)h.push(a+N(s*(c[u]-r),3));return h}getTicks(){const t=this.options,e=this._ticks,i=this.rangeIndices(),s=this.lineBox(),o=s.getHash()+i.min+","+i.max+t.reverse+t.justified;if(e._hash!==o){const r=t.minorTicks.visible||t.minorGridLines.visible;e._hash=o,e.labelTicks=this.getTickPositions(1),e.majorTicks=this.filterOutOfRangePositions(e.labelTicks,s),e.minorTicks=r?this.filterOutOfRangePositions(this.getTickPositions(.5),s):[]}return e}filterOutOfRangePositions(t,e){if(!t.length)return t;const i=this.options.vertical?W:V,s=c=>e[i+1]<=c&&c<=e[i+2],o=t.length-1;let r=0;for(;!s(t[r])&&r<=o;)r++;let a=o;for(;!s(t[a])&&a>=0;)a--;return t.slice(r,a+1)}lineInfo(){const{vertical:t,reverse:e}=this.options,i=this.lineBox(),s=t?i.height():i.width(),o=t?W:V,r=e?-1:1,c=o+(1===r?1:2).toString();return{axis:o,axisOrigin:c,axisDir:r,lineBox:i,lineSize:s,lineStart:i[c]}}lineDir(){const{reverse:t}=this.options;return t?-1:1}getSlot(t,e,i){const s=this.options,{reverse:o,justified:r}=s,{scale:a,box:c,min:h}=this.scaleOptions(),{axis:u,lineStart:d}=this.lineInfo(),p=c.clone(),f=!k(e),g=ie(t,0);let m=ie(e,g);m=Math.max(m-1,g),m=Math.max(g,m);let _=d+(g-h)*a,v=d+(m+1-h)*a;return f&&r&&(v=_),i&&(_=J(_,c[u+1],c[u+2]),v=J(v,c[u+1],c[u+2])),p[u+1]=o?v:_,p[u+2]=o?_:v,p}limitSlot(t){const i=this.options.vertical?W:V,s=this.lineBox(),o=t.clone();return o[i+1]=J(t[i+1],s[i+1],s[i+2]),o[i+2]=J(t[i+2],s[i+1],s[i+2]),o}slot(t,e,i){const s=Math.floor(this.options.min||0);let o=t,r=e;return"string"==typeof o?o=this.categoryIndex(o):he(o)&&(o-=s),"string"==typeof r?r=this.categoryIndex(r):he(r)&&(r-=s),super.slot(o,r,i)}pointCategoryIndex(t){const{reverse:e,justified:i,vertical:s}=this.options,o=s?W:V,{scale:r,box:a,min:c,max:h}=this.scaleOptions(),d=a[o+1],f=t[o];if(f<d||f>a[o+2])return null;let g=(e?h:c)+(f-d)/r;const m=g%1;return i?g=Math.round(g):0===m&&g>0&&g--,Math.floor(g)}getCategory(t){const e=this.pointCategoryIndex(t);return null===e?null:this.options.categories[e]}categoryIndex(t){return this.totalIndex(t)-Math.floor(this.options.min||0)}categoryAt(t,e){const i=this.options;return(e?i.srcCategories:i.categories)[t]}categoriesCount(){return(this.options.categories||[]).length}translateRange(t){const e=this.options,i=this.lineBox(),s=e.vertical?i.height():i.width(),o=e.categories.length,a=N(t/(s/o),10);return{min:a,max:o+a}}scaleRange(t,e){const i=Math.abs(this.pointOffset(e)),s=this.totalRangeIndices(),r=this.scaleToDelta(t,s.max-s.min),h=s.min+i*r;let u=s.max-(1-i)*r;return u-h<.1&&(u=h+.1),{min:h,max:u}}zoomRange(t,e){const{min:i,max:s}=this.totalRange(),o=this.scaleRange(t,e);return{min:J(o.min,i,s),max:J(o.max,i,s)}}labelsCount(){const t=this.labelsRange();return t.max-t.min}labelsRange(){const t=this.options,{justified:e,labels:i}=t;let{min:s,max:o}=this.totalRangeIndices(!0);const r=Math.floor(s);let a;return e?(s=Math.ceil(s),o=Math.floor(o)):(s=Math.floor(s),o=Math.ceil(o)),a=s>i.skip?i.skip+i.step*Math.ceil((s-i.skip)/i.step):i.skip,{min:a-r,max:(t.categories.length?o+(e?1:0):0)-r}}createAxisLabel(t,e,i){const s=this.options,o=s.dataItems?s.dataItems[t]:null,r=ie(s.categories[t],"");i.dataItem=o;const a=this.axisLabelText(r,e,i);return new bs(r,a,t,o,e)}shouldRenderNote(t){const e=this.totalRangeIndices();return Math.floor(e.min)<=t&&t<=Math.ceil(e.max)}noteSlot(t){const i=t-Math.floor(this.options.min||0);return this.getSlot(i)}arrangeNotes(){super.arrangeNotes(),this.hideOutOfRangeNotes()}hideOutOfRangeNotes(){const{notes:t,box:e}=this;if(t&&t.length){const i=this.options.vertical?W:V,s=e[i+1],o=e[i+2];for(let r=0;r<t.length;r++){const a=t[r];a.box&&(o<a.box[i+1]||a.box[i+2]<s)&&a.hide()}}}pan(t){const e=this.totalRangeIndices(!0),{scale:i}=this.scaleOptions(),s=N(t/i,10),o=this.totalRange();return this.limitRange(e.min+s,e.max+s,0,o.max,s)}pointsRange(t,e){const{reverse:i,vertical:s}=this.options,o=s?W:V,r=this.totalRangeIndices(!0),{scale:a,box:c}=this.scaleOptions(),h=c[o+(i?2:1)],p=r.min+(t[o]-h)/a,f=r.min+(e[o]-h)/a,g=Math.min(p,f),m=Math.max(p,f);if(m-g>=.01)return{min:g,max:m}}valueRange(){return this.range()}totalIndex(t){const e=this.options;return this._categoriesMap?this._categoriesMap.get(t):function yO(n,t){if(n instanceof Date){const e=t.length;for(let i=0;i<e;i++)if(Cd(t[i],n))return i;return-1}return t.indexOf(n)}(t,e.srcCategories)}currentRangeIndices(){const t=this.options;let i,e=0;return he(t.min)&&(e=Math.floor(t.min)),i=he(t.max)?t.justified?Math.floor(t.max):Math.ceil(t.max)-1:this.totalCount()-1,{min:e,max:i}}mapCategories(){if(!this._categoriesMap){const t=this._categoriesMap=new Rv,e=this.options.srcCategories;for(let i=0;i<e.length;i++)t.set(e[i],i)}}totalCount(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)}}M(Pl,{type:"category",vertical:!1,majorGridLines:{visible:!1,width:1,color:Ve},labels:{zIndex:1},justified:!1,_deferLabels:!0});const on=Pl,px={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},rn=[Ol,md,_d,Or,Li,Rr,ys,nn],Ll="fit";function Bl(n){let t=n._range;return t||(t=n._range=ad(n),t.min=Te(t.min),t.max=Te(t.max)),t}class wO{constructor(t){this.options=t}displayIndices(){return{min:0,max:1}}displayRange(){return{}}total(){return{}}valueRange(){return{}}valueIndex(){return-1}values(){return[]}totalIndex(){return-1}valuesCount(){return 0}totalCount(){return 0}dateAt(){return null}}class kd{constructor(t,e,i){this.options=i,i.baseUnitStep=i.baseUnitStep||1;const{roundToBaseUnit:s,justified:o}=i;this.start=kt(t,0,i.baseUnit,i.weekStartDay);const r=this.roundToTotalStep(e),a=!o&&Cd(e,r)&&!i.justifyEnd;this.end=this.roundToTotalStep(e,!o,a?1:0);const c=i.min||t;this.valueStart=this.roundToTotalStep(c),this.displayStart=s?this.valueStart:c;const h=i.max;if(h){const u=!o&&Cd(h,this.roundToTotalStep(h))?-1:0;this.valueEnd=this.roundToTotalStep(h,!1,u),this.displayEnd=s?this.roundToTotalStep(h,!o):i.max}else this.valueEnd=r,this.displayEnd=s||a?this.end:e;this.valueEnd<this.valueStart&&(this.valueEnd=this.valueStart),this.displayEnd<=this.displayStart&&(this.displayEnd=this.roundToTotalStep(this.displayStart,!1,1))}displayRange(){return{min:this.displayStart,max:this.displayEnd}}displayIndices(){if(!this._indices){const t=this.options,{baseUnit:e,baseUnitStep:i}=t,s=ws(this.displayStart,this.valueStart,e,i),o=ws(this.displayEnd,this.valueStart,e,i);this._indices={min:s,max:o}}return this._indices}total(){return{min:this.start,max:this.end}}totalCount(){return this.totalIndex(this.end)+(this.options.justified?1:0)}valueRange(){return{min:this.valueStart,max:this.valueEnd}}valueIndex(t){const e=this.options;return Math.floor(ws(t,this.valueStart,e.baseUnit,e.baseUnitStep))}totalIndex(t){const e=this.options;return Math.floor(ws(t,this.start,e.baseUnit,e.baseUnitStep))}dateIndex(t){const e=this.options;return ws(t,this.valueStart,e.baseUnit,e.baseUnitStep)}valuesCount(){return this.valueIndex(this.valueEnd)+1}values(){let t=this._values;if(!t){const e=this.options,i=this.valueRange();this._values=t=[];for(let s=i.min;s<=i.max;)t.push(s),s=kt(s,e.baseUnitStep,e.baseUnit,e.weekStartDay)}return t}dateAt(t,e){const i=this.options;return kt(e?this.start:this.valueStart,i.baseUnitStep*t,i.baseUnit,i.weekStartDay)}roundToTotalStep(t,e,i){const{baseUnit:s,baseUnitStep:o,weekStartDay:r}=this.options,a=this.start,c=ws(t,a,s,o);let h=e?Math.ceil(c):Math.floor(c);return i&&(h+=i),kt(a,h*o,s,r)}}function gx(n,t,e){const i=Bl(n.categories),s=(n.max||i.max)-(n.min||i.min),{autoBaseUnitSteps:o,maxDateGroups:r}=n,a=n.baseUnit===Ll;let p,f,g,c=t?rn.indexOf(t):0,h=a?rn[c++]:n.baseUnit,u=s/Bi[h],d=u;for(;!f||u>=r;){p=p||o[h].slice(0);do{g=p.shift()}while(g&&t===h&&g<e);if(g)f=g,u=d/f;else{if(h===We(rn)){f=Math.ceil(d/r);break}if(!a){u>r&&(f=Math.ceil(d/r));break}h=rn[c++]||We(rn),d=s/Bi[h],p=null}}n.baseUnitStep=f,n.baseUnit=h}class Fl extends on{clone(){const t=new Fl(Object.assign({},this.options),this.chartService);return t.createLabels(),t}categoriesHash(){const t=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+t}initUserOptions(t){return t}initFields(){super.initFields();const t=this.chartService,e=t.intl;let i=this.options,s=i.categories||[];if(s._parsed||(s=cx(e,s),s._parsed=!0),i=b({roundToBaseUnit:!0},i,{categories:s,min:gt(e,i.min),max:gt(e,i.max),weekStartDay:hx(i,e)}),t.panning&&t.isPannable(i.vertical?W:V)&&(i.roundToBaseUnit=!1),i.userSetBaseUnit=i.userSetBaseUnit||i.baseUnit,i.userSetBaseUnitStep=i.userSetBaseUnitStep||i.baseUnitStep,this.options=i,i.srcCategories=s,s.length>0){const o=Bl(s),r=i.maxDivisions;if(this.dataRange=new kd(o.min,o.max,function EO(n){const t=(n.baseUnit||"").toLowerCase();return t!==Ll&&!de(t,rn)&&function CO(n){const t=n.categories,e=k(t)?t.length:0;let s,o,i=je;for(let r=0;r<e;r++){const a=t[r];if(a&&s){const c=Sd(a,s);c>0&&(i=Math.min(i,c),o=i>=yd?nn:i>=bd-3*sn?ys:i>=xd?Rr:i>=sn?Li:i>=Rl?Or:i>=lo?_d:md)}s=a}n.baseUnit=o||Li}(n),(t===Ll||"auto"===n.baseUnitStep)&&gx(n),n}(i)),r){const a=this.dataRange.displayRange(),c=Object.assign({},i,{justified:!0,roundToBaseUnit:!1,baseUnit:"fit",min:a.min,max:a.max,maxDateGroups:r}),h=this.dataRange.options;gx(c,h.baseUnit,h.baseUnitStep),this.divisionRange=new kd(o.min,o.max,c)}else this.divisionRange=this.dataRange}else i.baseUnit=i.baseUnit||Li,this.dataRange=this.divisionRange=new wO(i);this.rangeLabels=[]}tickIndices(t){const{dataRange:e,divisionRange:i}=this,s=i.valuesCount();if(!this.options.maxDivisions||!s)return super.tickIndices(t);const o=[];let r=i.values(),a=0;this.options.justified||(r=r.concat(i.dateAt(s)),a=.5);for(let c=0;c<r.length;c++)if(o.push(e.dateIndex(r[c])+a),1!==t&&c>=1){const h=o.length-1;o.splice(c,0,o[h-1]+(o[h]-o[h-1])*t)}return o}shouldRenderNote(t){const e=this.range(),i=this.options.categories||[];return Ss(t,e.min)>=0&&Ss(t,e.max)<=0&&i.length}parseNoteValue(t){return gt(this.chartService.intl,t)}noteSlot(t){return this.getSlot(t)}translateRange(t){const e=this.options,{baseUnit:i,weekStartDay:s,vertical:o}=e,r=this.lineBox(),a=o?r.height():r.width();let c=this.range();const u=N(t/(a/(c.max-c.min)),10);if(c.min&&c.max){const d=st(e.min||c.min,u),p=st(e.max||c.max,u);c={min:kt(d,0,i,s),max:kt(p,0,i,s)}}return c}labelsRange(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}}pan(t){if(this.isEmpty())return null;const e=this.options,i=this.lineBox(),s=e.vertical?i.height():i.width(),{min:o,max:r}=this.dataRange.displayRange(),a=this.dataRange.total(),h=N(t/(s/(r-o)),10)*(e.reverse?-1:1),u=st(o,h),d=st(r,h),p=this.limitRange(Me(u),Me(d),Me(a.min),Me(a.max),h);return p?(p.min=Te(p.min),p.max=Te(p.max),p.baseUnit=e.baseUnit,p.baseUnitStep=e.baseUnitStep||1,p.userSetBaseUnit=e.userSetBaseUnit,p.userSetBaseUnitStep=e.userSetBaseUnitStep,p):void 0}pointsRange(t,e){if(this.isEmpty())return null;const i=super.pointsRange(t,e),s=this.dataRange.displayRange(),o=this.dataRange.displayIndices(),r=Fi(s.max,s.min)/(o.max-o.min),a=this.options;return{min:st(s.min,i.min*r),max:st(s.min,i.max*r),baseUnit:a.userSetBaseUnit||a.baseUnit,baseUnitStep:a.userSetBaseUnitStep||a.baseUnitStep}}scaleRange(t,e){if(this.isEmpty())return{};const i=this.options,s=i.userSetBaseUnit===Ll,o=this.dataRange.total(),{min:r,max:a}=this.dataRange.displayRange(),c=Math.abs(this.pointOffset(e)),u=this.scaleToDelta(t,a-r),d=Math.round(c*u),p=Math.round((1-c)*u);let{baseUnit:f}=this.dataRange.options,g=new Date(r.getTime()+d),m=new Date(a.getTime()-p);if(s){const{autoBaseUnitSteps:_,maxDateGroups:v}=i,x=We(_[f])*v*Bi[f],S=Fi(a,r),T=Fi(m,g);let I,F,D=rn.indexOf(f);if(T<Bi[f]&&f!==Ol)f=rn[D-1],I=We(_[f]),F=(S-(v-1)*I*Bi[f])/2,g=st(r,F),m=st(a,-F);else if(T>x&&f!==nn){let O=0;do{D++,f=rn[D],O=0,F=2*Bi[f];do{I=_[f][O],O++}while(O<_[f].length&&F*I<S)}while(f!==nn&&F*I<S);F=(F*I-S)/2,F>0&&(g=st(r,-F),m=st(a,F),g=st(g,J(m,o.min,o.max)-m),m=st(m,J(g,o.min,o.max)-g))}}return g&&m&&Fi(m,g)>0?{min:g,max:m,baseUnit:i.userSetBaseUnit||i.baseUnit,baseUnitStep:i.userSetBaseUnitStep||i.baseUnitStep}:void 0}zoomRange(t,e){const i=this.dataRange.total(),s=this.scaleRange(t,e);return s&&(s.min<i.min&&(s.min=i.min),s.max>i.max&&(s.max=i.max)),s}range(){return this.dataRange.displayRange()}createLabels(){super.createLabels(),this.createRangeLabels()}clearLabels(){super.clearLabels(),this.rangeLabels=[]}arrangeLabels(){this.arrangeRangeLabels(),super.arrangeLabels()}arrangeRangeLabels(){const{options:t,rangeLabels:e}=this;if(0===e.length)return;const i=this.lineBox(),s=t.vertical,o=t.rangeLabels.mirror||t.labels.mirror,r=e[0];if(r){const c=s?i.y1-r.box.height()/2:i.x1;this.positionLabel(r,o,c)}const a=e[1];if(a){const c=s?i.y2-a.box.height()/2:i.x2;this.positionLabel(a,o,c)}}autoRotateLabels(){super.autoRotateLabels(),this.autoRotateRangeLabels()}hideOutOfRangeLabels(){super.hideOutOfRangeLabels(),this.hideOverlappingLabels()}hideOverlappingLabels(){const{rangeLabels:t,labels:e}=this;if(0===t.length)return;function i(r,a){return!(a.options.visible&&!a.box.overlaps(r.box)||(a.options.visible=!1,0))}const s=t[0];if(s&&s.options.visible)for(let r=0;r<e.length&&i(s,e[r]);r++);const o=t[1];if(o&&o.options.visible)for(let r=e.length-1;r>0&&i(o,e[r]);--r);}contentBox(){const t=super.contentBox(),e=this.rangeLabels;for(let i=0;i<e.length;i++){const s=e[i];s.options.visible&&t.wrap(s.box)}return t}createAxisLabel(t,e,i={}){const s=this.options,o=s.dataItems&&!s.maxDivisions?s.dataItems[t]:null,r=this.divisionRange.dateAt(t);e.format=e.format||e.dateFormats[this.divisionRange.options.baseUnit],i.dataItem=o;const c=this.axisLabelText(r,e,i);if(c)return new bs(r,c,t,o,e)}createRangeLabels(){const{displayStart:t,displayEnd:e}=this.divisionRange,i=this.options,s=Object.assign({},i.labels,i.rangeLabels,{align:re,zIndex:i.zIndex});if(!0!==s.visible)return;this.normalizeLabelRotation(s),s.alignRotation=re,"auto"===s.rotation&&(s.rotation=0,i.autoRotateRangeLabels=!0),s.format=s.format||s.dateFormats[this.divisionRange.options.baseUnit];const r=(h,u,d)=>{if(d){const p=new bs(u,d,h,null,s);this.append(p),this.rangeLabels.push(p)}};r(0,t,this.axisLabelText(t,s,{index:0,count:2})),r(1,e,this.axisLabelText(e,s,{index:1,count:2}))}autoRotateRangeLabels(){const t=this.rangeLabels;if(!this.options.autoRotateRangeLabels||this.options.vertical||2!==t.length)return;const e=(s,o,r)=>{const a=2*Math.abs(o[r+1]-o[r]),c=this.autoRotateLabelAngle(s.box,a);0!==c&&(s.options.rotation=c,s.reflow(new P))},i=this.getMajorTickPositions();e(t[0],i,0),e(t[1],i,i.length-2)}categoryIndex(t){return this.dataRange.valueIndex(t)}slot(t,e,i){const s=this.dataRange;let o=t,r=e;o instanceof Date&&(o=s.dateIndex(o)),r instanceof Date&&(r=s.dateIndex(r));const a=this.getSlot(o,r,i);if(a)return a.toRect()}getSlot(t,e,i){let s=t,o=e;return typeof s===sd&&(s=this.categoryIndex(s)),typeof o===sd&&(o=this.categoryIndex(o)),super.getSlot(s,o,i)}valueRange(){const e=Bl(this.options.srcCategories);return{min:Te(e.min),max:Te(e.max)}}categoryAt(t,e){return this.dataRange.dateAt(t,e)}categoriesCount(){return this.dataRange.valuesCount()}rangeIndices(){return this.dataRange.displayIndices()}labelsBetweenTicks(){return!this.divisionRange.options.justified}prepareUserOptions(){this.isEmpty()||(this.options.categories=this.dataRange.values())}getCategory(t){const e=this.pointCategoryIndex(t);return null===e?null:this.dataRange.dateAt(e)}totalIndex(t){return this.dataRange.totalIndex(t)}currentRangeIndices(){const t=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(t.min),max:this.dataRange.totalIndex(t.max)}}totalRange(){return this.dataRange.total()}totalCount(){return this.dataRange.totalCount()}isEmpty(){return!this.options.srcCategories.length}roundedRange(){if(!1!==this.options.roundToBaseUnit||this.isEmpty())return this.range();const t=this.options,e=Bl(t.srcCategories);return new kd(e.min,e.max,Object.assign({},t,{justified:!1,roundToBaseUnit:!0,justifyEnd:t.justified})).displayRange()}}M(Fl,{type:Ln,labels:{dateFormats:px},rangeLabels:{visible:!1},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});const zl=Fl;function mx(n,t){return N(Math.floor(n/t)*t,10)}function Gl(n,t){return N(Math.ceil(n/t)*t,10)}function Ul(n){return Math.max(Math.min(n,3e5),-3e5)}const Ad=Math.pow(10,-9);class Hl extends Ir{constructor(t,e,i,s){super(Object.assign({},i,{seriesMin:t,seriesMax:e}),s)}initUserOptions(t){const e=function TO(n,t,e){const i=e.narrowRange;let s=function kO(n,t,e){if(!n&&!t)return 0;let i;if(n>=0&&t>=0){const s=n===t?0:n;let o=(t-s)/t;if(!1===e||!e&&o>.2)return 0;i=Math.max(0,s-(t-s)/2)}else i=n;return i}(n,t,i),o=function AO(n,t,e){if(!n&&!t)return 1;let i;if(n<=0&&t<=0){const s=n===t?0:t;let o=Math.abs((s-n)/s);if(!1===e||!e&&o>.2)return 0;i=Math.min(0,s-(n-s)/2)}else i=t;return i}(n,t,i);const r=Mr(s,o),a={majorUnit:r};return!1!==e.roundToMajorUnit&&(s<0&&_x(s,r,1/3)&&(s-=r),o>0&&_x(o,r,1/3)&&(o+=r)),a.min=mx(s,r),a.max=Gl(o,r),a}(t.seriesMin,t.seriesMax,t);return this.totalOptions=function MO(n,t){return{min:k(t.min)?Math.min(n.min,t.min):n.min,max:k(t.max)?Math.max(n.max,t.max):n.max,majorUnit:n.majorUnit}}(e,t),function IO(n,t){let i,s,e=t;if(t){(function DO(n,t){for(let e=0;e<t.length;e++){const i=t[e];null===n[i]&&(n[i]=void 0)}})(t,["min","max"]),i=k(t.min),s=k(t.max);const r=i||s;r&&t.min===t.max&&(t.min>0?t.min=0:t.max=1),t.majorUnit?(n.min=mx(n.min,t.majorUnit),n.max=Gl(n.max,t.majorUnit)):r&&(e=b(n,t),n.majorUnit=Mr(e.min,e.max))}n.minorUnit=(e.majorUnit||n.majorUnit)/5;const o=b(n,e);return o.min>=o.max&&(i&&!s?o.max=o.min+o.majorUnit:!i&&s&&(o.min=o.max-o.majorUnit)),o}(e,t)}initFields(){this.totalMin=this.totalOptions.min,this.totalMax=this.totalOptions.max,this.totalMajorUnit=this.totalOptions.majorUnit,this.seriesMin=this.options.seriesMin,this.seriesMax=this.options.seriesMax}clone(){return new Hl(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}startValue(){return 0}range(){const t=this.options;return{min:t.min,max:t.max}}getDivisions(t){if(0===t)return 1;const e=this.options;return Math.floor(N((e.max-e.min)/t,3))+1}getTickPositions(t,e){const i=this.options,{axisDir:s,axisOrigin:o,lineBox:r,lineSize:a}=this.lineInfo(),u=t*(a/(i.max-i.min)),d=this.getDivisions(t),p=[];let f=r[o],g=0;e&&(g=e/t);for(let m=0;m<d;m++)m%g!=0&&p.push(N(f,3)),f+=u*s;return p}getMajorTickPositions(){return this.getTickPositions(this.options.majorUnit)}getMinorTickPositions(){return this.getTickPositions(this.options.minorUnit)}getSlot(t,e,i=!1){const s=this.options,{axis:o,axisDir:r,lineBox:a,lineSize:c,lineStart:h}=this.lineInfo(),u=r*(c/(s.max-s.min));let d=ie(t,e||0),p=ie(e,t||0);i&&(d=J(d,s.min,s.max),p=J(p,s.min,s.max));const f=Math.min(d,p)-s.min,g=Math.max(d,p)-s.min,m=new P(a.x1,a.y1,a.x1,a.y1);return m[o+1]=Ul(h+u*(r>0?f:g)),m[o+2]=Ul(h+u*(r>0?g:f)),m}getValue(t){const e=this.options,i=Number(e.max),s=Number(e.min),o=this.pointOffset(t);return o<0||o>1?null:N(s+o*(i-s),10)}translateRange(t){const e=this.options,{vertical:i,reverse:s,max:o,min:r}=e,{lineSize:a}=this.lineInfo();let u=N(t/(a/(o-r)),10);return(i||s)&&!(i&&s)&&(u=-u),{min:r+u,max:o+u,offset:u}}labelsCount(){return this.getDivisions(this.options.majorUnit)}createAxisLabel(t,e,i){const s=this.options,o=N(s.min+t*s.majorUnit,10),r=this.axisLabelText(o,e,i);return new bs(o,r,t,null,e)}shouldRenderNote(t){const e=this.range();return e.min<=t&&t<=e.max}pan(t){const e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)}pointsRange(t,e){const i=this.getValue(t),s=this.getValue(e),o=Math.min(i,s),r=Math.max(i,s);if(this.isValidRange(o,r))return{min:o,max:r}}scaleRange(t,e){const i=Math.abs(this.pointOffset(e)),o=this.scaleToDelta(t,this.options.max-this.options.min),a=(1-i)*o,c=N(this.options.min+i*o,10);let h=N(this.options.max-a,10);return h-c<Ad&&(h=c+Ad),{min:c,max:h}}zoomRange(t,e){const{totalMin:i,totalMax:s}=this,o=this.scaleRange(t,e);return{min:J(o.min,i,s),max:J(o.max,i,s),narrowRange:!1}}isValidRange(t,e){return e-t>Ad}}function _x(n,t,e){const i=N(Math.abs(n%t),10);return 0===i||i>t*(1-e)}M(Hl,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:Ve},labels:{format:"#.####################"},zIndex:1});const ii=Hl;class Vl extends Ir{constructor(t,e,i,s){const o=Te(t),r=Te(e),a=s.intl;let c=i||{};c=b(c||{},{min:gt(a,c.min),max:gt(a,c.max),axisCrossingValue:cx(a,c.axisCrossingValues||c.axisCrossingValue),weekStartDay:hx(c,a)}),c=function RO(n,t,e){const i=e.min||n,s=e.max||t,o=e.baseUnit||(s&&i?function OO(n){let t=Or;return n>=yd?t=nn:n>=bd?t=ys:n>=xd?t=Rr:n>=sn&&(t=Li),t}(Sd(s,i)):Or),r=Bi[o],a=e.weekStartDay||0,c=wd(Me(i)-1,o,a)||Te(s),h=ax(Me(s)+1,o,a),d=(e.majorUnit?e.majorUnit:void 0)||Gl(Mr(c.getTime(),h.getTime()),r)/r,p=Ed(c,h,o),g=Gl(p,d)-p,m=Math.floor(g/2),_=g-m;return e.baseUnit||delete e.baseUnit,e.baseUnit=e.baseUnit||o,e.min=e.min||kt(c,-m,o,a),e.max=e.max||kt(h,_,o,a),e.minorUnit=e.minorUnit||d/5,e.majorUnit=d,e}(o,r,c),super(c,s),this.intlService=a,this.seriesMin=o,this.seriesMax=r;const h=c.weekStartDay||0;this.totalMin=Me(wd(Me(o)-1,c.baseUnit,h)),this.totalMax=Me(ax(Me(r)+1,c.baseUnit,h))}clone(){return new Vl(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}range(){const t=this.options;return{min:t.min,max:t.max}}getDivisions(t){const e=this.options;return Math.floor(Ed(e.min,e.max,e.baseUnit)/t+1)}getTickPositions(t){const e=this.options,{axisDir:i,lineSize:s,lineStart:o}=this.lineInfo(),r=this.getDivisions(t),c=s/Fi(e.max,e.min),h=e.weekStartDay||0,u=[o];for(let d=1;d<r;d++){const f=o+Fi(kt(e.min,d*t,e.baseUnit,h),e.min)*c*i;u.push(N(f,3))}return u}getMajorTickPositions(){return this.getTickPositions(this.options.majorUnit)}getMinorTickPositions(){return this.getTickPositions(this.options.minorUnit)}getSlot(t,e,i){return ii.prototype.getSlot.call(this,gt(this.intlService,t),gt(this.intlService,e),i)}getValue(t){const e=ii.prototype.getValue.call(this,t);return null!==e?Te(e):null}labelsCount(){return this.getDivisions(this.options.majorUnit)}createAxisLabel(t,e,i){const s=this.options,o=t*s.majorUnit;let a=s.min;o>0&&(a=kt(a,o,s.baseUnit,s.weekStartDay||0)),e.format=e.format||e.dateFormats[s.baseUnit];const h=this.axisLabelText(a,e,i);return new bs(a,h,t,null,e)}translateRange(t){const e=this.options,i=this.lineBox(),{vertical:s,reverse:o}=e,r=s?i.height():i.width(),a=this.range(),c=r/Fi(a.max,a.min);let h=N(t/c,10);return(s||o)&&(!s||!o)&&(h=-h),{min:st(e.min,h),max:st(e.max,h),offset:h}}shouldRenderNote(t){const e=this.range();return Ss(t,e.min)>=0&&Ss(t,e.max)<=0}pan(t){const e=this.translateRange(t,!0),i=this.limitRange(Me(e.min),Me(e.max),this.totalMin,this.totalMax,e.offset);if(i)return{min:Te(i.min),max:Te(i.max)}}pointsRange(t,e){const i=this.getValue(t),s=this.getValue(e),o=Math.min(i,s),r=Math.max(i,s);return{min:Te(o),max:Te(r)}}scaleRange(t,e){const i=Math.abs(this.pointOffset(e)),o=this.scaleToDelta(t,this.options.max-this.options.min),r=i*o,a=(1-i)*o,c=Te(Me(this.options.min)+r);let h=Te(Me(this.options.max)-a);return h-c<1e3&&(h=Te(Me(c)+1e3)),{min:c,max:h}}zoomRange(t,e){const i=this.scaleRange(t,e);return{min:Te(J(Me(i.min),this.totalMin,this.totalMax)),max:Te(J(Me(i.max),this.totalMin,this.totalMax))}}}M(Vl,{type:Ln,majorGridLines:{visible:!0,width:1,color:Ve},labels:{dateFormats:px}});const NO=Vl;class jl extends Ir{constructor(t,e,i,s){const o=b({majorUnit:10,min:t,max:e},i),r=o.majorUnit,a=function BO(n,t){const e=N(bi(n,t),10)%1;let i;return i=n<=0?t:0!==e&&(e<.3||e>.9)?Math.pow(t,bi(n,t)+.2):Math.pow(t,Math.ceil(bi(n,t))),i}(e,r),c=function LO(n,t,e){const i=e.majorUnit;let s=n;return n<=0?s=t<=1?Math.pow(i,-2):1:e.narrowRange||(s=Math.pow(i,Math.floor(bi(n,i)))),s}(t,e,o),h=function PO(n,t,e,i){let{min:s,max:o}=e;return k(e.axisCrossingValue)&&e.axisCrossingValue<=0&&Td(),k(i.max)?i.max<=0&&Td():o=t,k(i.min)?i.min<=0&&Td():s=n,{min:s,max:o}}(c,a,o,i);o.max=h.max,o.min=h.min,o.minorUnit=i.minorUnit||N(r-1,10),super(o,s),this.totalMin=k(i.min)?Math.min(c,i.min):c,this.totalMax=k(i.max)?Math.max(a,i.max):a,this.logMin=N(bi(h.min,r),10),this.logMax=N(bi(h.max,r),10),this.seriesMin=t,this.seriesMax=e,this.createLabels()}clone(){return new jl(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}startValue(){return this.options.min}getSlot(t,e,i){const{options:s,logMin:o,logMax:r}=this,{majorUnit:a,min:c,max:h}=s,{axis:u,axisDir:d,lineBox:p,lineSize:f,lineStart:g}=this.lineInfo(),m=d*(f/(r-o));let _=ie(t,e||1),v=ie(e,t||1);if(_<=0||v<=0)return null;i&&(_=J(_,c,h),v=J(v,c,h)),_=bi(_,a),v=bi(v,a);const x=Math.min(_,v)-o,S=Math.max(_,v)-o,T=new P(p.x1,p.y1,p.x1,p.y1);return T[u+1]=Ul(g+m*(d>0?x:S)),T[u+2]=Ul(g+m*(d>0?S:x)),T}getValue(t){const{options:e,logMin:i,logMax:s}=this,{majorUnit:o}=e,{axis:r,axisDir:a,lineStart:c,lineSize:h}=this.lineInfo(),d=a*(t[r]-c);return d<0||d>h?null:N(Math.pow(o,i+d*((s-i)/h)),10)}range(){const t=this.options;return{min:t.min,max:t.max}}translateRange(t){const{options:e,logMin:i,logMax:s}=this,{reverse:o,vertical:r,majorUnit:a}=e,c=this.lineBox(),u=(r?c.height():c.width())/(s-i);let d=N(t/u,10);return(r||o)&&!(r&&o)&&(d=-d),{min:Math.pow(a,i+d),max:Math.pow(a,s+d),offset:d}}labelsCount(){const t=Math.floor(this.logMax);return Math.floor(t-this.logMin)+1}getMajorTickPositions(){const t=[];return this.traverseMajorTicksPositions(e=>{t.push(e)},{step:1,skip:0}),t}createTicks(t){const e=this.options,{majorTicks:i,minorTicks:s,vertical:o}=e,r=e.labels.mirror,a=this.lineBox(),h={vertical:o};function u(d,p){h.tickX=r?a.x2:a.x2-p.size,h.tickY=r?a.y1-p.size:a.y1,h.position=d,t.append(sx(h,p))}return i.visible&&this.traverseMajorTicksPositions(u,i),s.visible&&this.traverseMinorTicksPositions(u,s),[]}createGridLines(t){const e=this.options,{minorGridLines:i,majorGridLines:s,vertical:o}=e,r=t.lineBox(),a={lineStart:r[o?"x1":"y1"],lineEnd:r[o?"x2":"y2"],vertical:o},c=[],h=this.gridLinesVisual();function u(d,p){de(d,c)||(a.position=d,h.append(ox(a,p)),c.push(d))}return s.visible&&this.traverseMajorTicksPositions(u,s),i.visible&&this.traverseMinorTicksPositions(u,i),h.children}traverseMajorTicksPositions(t,e){const{lineStart:i,step:s}=this.lineInfo(),{logMin:o,logMax:r}=this;for(let a=Math.ceil(o)+e.skip;a<=r;a+=e.step)t(N(i+s*(a-o),10),e)}traverseMinorTicksPositions(t,e){const{min:i,max:s,minorUnit:o,majorUnit:r}=this.options,{lineStart:a,step:c}=this.lineInfo(),{logMin:h,logMax:u}=this;for(let p=Math.floor(h);p<u;p++){const f=this._minorIntervalOptions(p);for(let g=e.skip;g<o;g+=e.step){const m=f.value+g*f.minorStep;if(m>s)break;m>=i&&t(N(a+c*(bi(m,r)-h),10),e)}}}createAxisLabel(t,e,i){const s=Math.ceil(this.logMin+t),o=Math.pow(this.options.majorUnit,s),r=this.axisLabelText(o,e,i);return new bs(o,r,t,null,e)}shouldRenderNote(t){const e=this.range();return e.min<=t&&t<=e.max}pan(t){const e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)}pointsRange(t,e){const i=this.getValue(t),s=this.getValue(e);return{min:Math.min(i,s),max:Math.max(i,s)}}scaleRange(t,e){const{majorUnit:i}=this.options,s=bi(this.options.min,i),o=bi(this.options.max,i),r=Math.abs(this.pointOffset(e)),c=this.scaleToDelta(t,o-s),h=Math.pow(i,s+r*c);let u=Math.pow(i,o-(1-r)*c);return u-h<1e-6&&(u=h+1e-6),{min:h,max:u}}zoomRange(t,e){const i=this.scaleRange(t,e),{totalMin:s,totalMax:o}=this;return{min:J(i.min,s,o),max:J(i.max,s,o)}}_minorIntervalOptions(t){const{minorUnit:e,majorUnit:i}=this.options,s=Math.pow(i,t);return{value:s,minorStep:(Math.pow(i,t+1)-s)/e}}lineInfo(){const t=super.lineInfo();return t.step=t.axisDir*(t.lineSize/(this.logMax-this.logMin)),t}}function Td(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function bi(n,t){return Math.log(n)/Math.log(t)}M(jl,{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:Ve},zIndex:1,_deferLabels:!0});const Wl=jl,yx={createGridLines:function(n){const t=this.options,e=Math.abs(this.box.center().y-n.lineBox().y1);let o,r,i=[],s=!1;return t.majorGridLines.visible&&(o=this.majorGridLineAngles(n),s=!0,i=this.renderMajorGridLines(o,e,t.majorGridLines)),t.minorGridLines.visible&&(r=this.minorGridLineAngles(n,s),vs(i,this.renderMinorGridLines(r,e,t.minorGridLines,n,s))),i},renderMajorGridLines:function(n,t,e){return this.renderGridLines(n,t,e)},renderMinorGridLines:function(n,t,e,i,s){const o=this.radiusCallback&&this.radiusCallback(t,i,s);return this.renderGridLines(n,t,e,o)},renderGridLines:function(n,t,e,i){const s={stroke:{width:e.width,color:e.color,dashType:e.dashType}},o=this.box.center(),r=new wt([o.x,o.y],t),a=this.gridLinesVisual();for(let c=0;c<n.length;c++){const h=new G(s);i&&(r.radius=i(n[c])),h.moveTo(r.center).lineTo(r.pointAt(n[c]+180)),a.append(h)}return a.children},gridLineAngles:function(n,t,e,i,s){const o=this.intervals(t,e,i,s),r=n.options,a=r.visible&&!1!==(r.line||{}).visible;return Lv(o,c=>{const h=this.intervalAngle(c);if(!a||90!==h)return h})}};class Md extends on{range(){return{min:0,max:this.options.categories.length}}reflow(t){this.box=t,this.reflowLabels()}lineBox(){return this.box}reflowLabels(){const{labels:t,options:{labels:e}}=this,i=e.skip||0,s=e.step||1,o=new P;for(let r=0;r<t.length;r++){t[r].reflow(o);const a=t[r].box;t[r].reflow(this.getSlot(i+r*s).adjacentBox(0,a.width(),a.height()))}}intervals(t,e,i,s=!1){const o=this.options,a=o.categories.length/t||1,c=360/a,u=i||1,d=[];let p=0;for(let f=e||0;f<a;f+=u)p=o.reverse?360-f*c:f*c,p=N(p,3)%360,s&&de(p,s)||d.push(p);return d}majorIntervals(){return this.intervals(1)}minorIntervals(){return this.intervals(.5)}intervalAngle(t){return(360+t+this.options.startAngle)%360}majorAngles(){return Lv(this.majorIntervals(),t=>this.intervalAngle(t))}createLine(){return[]}majorGridLineAngles(t){const e=this.options.majorGridLines;return this.gridLineAngles(t,1,e.skip,e.step)}minorGridLineAngles(t,e){const{minorGridLines:i,majorGridLines:s}=this.options,o=e?this.intervals(1,s.skip,s.step):null;return this.gridLineAngles(t,.5,i.skip,i.step,o)}radiusCallback(t,e,i){if(e.options.type!==Pn){const s=Xe(360/(2*this.options.categories.length)),o=Math.cos(s)*t,r=this.majorAngles();return function(c){return!i&&de(c,r)?t:o}}}createPlotBands(){const t=this.options.plotBands||[],e=this._plotbandGroup=new ge({zIndex:-1});for(let i=0;i<t.length;i++){const s=t[i],o=this.plotBandSlot(s),r=this.getSlot(s.from),a=s.from-Math.floor(s.from);o.startAngle+=a*r.angle;const c=Math.ceil(s.to)-s.to;o.angle-=(c+a)*r.angle;const h=Tl.current.createRing(o,{fill:{color:s.color,opacity:s.opacity},stroke:{opacity:s.opacity}});e.append(h)}this.appendVisual(e)}plotBandSlot(t){return this.getSlot(t.from,t.to-1)}getSlot(t,e){const i=this.options,s=i.justified,o=this.box,r=this.majorAngles(),a=r.length,c=360/a;let h=t;i.reverse&&!s&&(h=(h+1)%a),h=J(Math.floor(h),0,a-1);let u=r[h];s&&(u-=c/2,u<0&&(u+=360));const f=c*(J(Math.ceil(e||h),h,a-1)-h+1);return new Al(o.center(),0,o.height()/2,u,f)}slot(t,e){const i=this.getSlot(t,e),s=i.startAngle+180;return new Ii([i.center.x,i.center.y],{startAngle:s,endAngle:s+i.angle,radiusX:i.radius,radiusY:i.radius})}pointCategoryIndex(t){const e=this.options.categories.length;let i=null;for(let s=0;s<e;s++)if(this.getSlot(s).containsPoint(t)){i=s;break}return i}}M(Md,{startAngle:90,labels:{margin:ke(10)},majorGridLines:{visible:!0},justified:!0}),b(Md.prototype,yx);const Dd=Md;class Id extends Ir{constructor(t,e){super(t,e);const i=this.options;i.minorUnit=i.minorUnit||i.majorUnit/2}getDivisions(t){return ii.prototype.getDivisions.call(this,t)-1}reflow(t){this.box=t,this.reflowLabels()}reflowLabels(){const{options:t,labels:e,options:{labels:i}}=this,s=i.skip||0,o=i.step||1,r=new P,a=this.intervals(t.majorUnit,s,o);for(let c=0;c<e.length;c++){e[c].reflow(r);const h=e[c].box;e[c].reflow(this.getSlot(a[c]).adjacentBox(0,h.width(),h.height()))}}lineBox(){return this.box}intervals(t,e,i,s=!1){const o=this.options.min,r=this.getDivisions(t),a=[],h=i||1;for(let u=e||0;u<r;u+=h){const d=(360+o+u*t)%360;s&&de(d,s)||a.push(d)}return a}majorIntervals(){return this.intervals(this.options.majorUnit)}minorIntervals(){return this.intervals(this.options.minorUnit)}intervalAngle(t){return(540-t-this.options.startAngle)%360}createLine(){return[]}majorGridLineAngles(t){const e=this.options.majorGridLines;return this.gridLineAngles(t,this.options.majorUnit,e.skip,e.step)}minorGridLineAngles(t,e){const i=this.options,{minorGridLines:s,majorGridLines:o}=i,r=e?this.intervals(i.majorUnit,o.skip,o.step):null;return this.gridLineAngles(t,i.minorUnit,s.skip,s.step,r)}plotBandSlot(t){return this.getSlot(t.from,t.to)}getSlot(t,e){const{options:i,box:s}=this,o=i.startAngle;let r=J(t,i.min,i.max),a=J(e||r,r,i.max);if(i.reverse&&(r*=-1,a*=-1),r=(540-r-o)%360,a=(540-a-o)%360,a<r){const c=r;r=a,a=c}return new Al(s.center(),0,s.height()/2,r,a-r)}slot(t,e=t){const i=this.options,s=360-i.startAngle,o=this.getSlot(t,e),r=Math.min(t,e),a=Math.max(t,e);let c,h;return i.reverse?(c=r,h=a):(c=360-a,h=360-r),c=(c+s)%360,h=(h+s)%360,new Ii([o.center.x,o.center.y],{startAngle:c,endAngle:h,radiusX:o.radius,radiusY:o.radius})}getValue(t){const e=this.options,i=this.box.center();let r=Math.round(Bn(Math.atan2(t.y-i.y,t.x-i.x))),a=e.startAngle;return e.reverse||(r*=-1,a*=-1),(r+a+360)%360}valueRange(){return{min:0,max:2*Math.PI}}}M(Id,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:ke(10)},majorGridLines:{color:Ve,visible:!0,width:1},minorGridLines:{color:"#aaa"}}),b(Id.prototype,yx,{createPlotBands:Dd.prototype.createPlotBands,majorAngles:Dd.prototype.majorAngles,range:ii.prototype.range,labelsCount:ii.prototype.labelsCount,createAxisLabel:ii.prototype.createAxisLabel});const FO=Id,zO={options:{majorGridLines:{visible:!0}},createPlotBands:function(){const{majorGridLines:{type:n},plotBands:t=[]}=this.options,e=this.plotArea.polarAxis,i=e.majorAngles(),s=e.box.center(),o=this._plotbandGroup=new ge({zIndex:-1});for(let r=0;r<t.length;r++){const a=t[r],c={fill:{color:a.color,opacity:a.opacity},stroke:{opacity:a.opacity}},h=this.getSlot(a.from,a.to,!0),u=new Al(s,s.y-h.y2,s.y-h.y1,0,360);let d;d=n===Pn?Tl.current.createRing(u,c):G.fromPoints(this.plotBandPoints(u,i),c).close(),o.append(d)}this.appendVisual(o)},plotBandPoints:function(n,t){const e=[],i=[],s=[n.center.x,n.center.y],o=new wt(s,n.innerRadius),r=new wt(s,n.radius);for(let a=0;a<t.length;a++)e.push(o.pointAt(t[a]+180)),i.push(r.pointAt(t[a]+180));return e.reverse(),e.push(e[0]),i.push(i[0]),i.concat(e)},createGridLines:function(n){const t=this.options,e=this.radarMajorGridLinePositions(),i=n.majorAngles(),s=n.box.center();let o=[];if(t.majorGridLines.visible&&(o=this.renderGridLines(s,e,i,t.majorGridLines)),t.minorGridLines.visible){const r=this.radarMinorGridLinePositions();vs(o,this.renderGridLines(s,r,i,t.minorGridLines))}return o},renderGridLines:function(n,t,e,i){const s={stroke:{width:i.width,color:i.color,dashType:i.dashType}},{skip:o=0,step:r=0}=i,a=this.gridLinesVisual();for(let c=o;c<t.length;c+=r){const h=n.y-t[c];if(h>0){const u=new wt([n.x,n.y],h);if(i.type===Pn)a.append(new fi(u,s));else{const d=new G(s);for(let p=0;p<e.length;p++)d.lineTo(u.pointAt(e[p]+180));d.close(),a.append(d)}}}return a.children},getValue:function(n){const t=this.lineBox(),e=this.plotArea.polarAxis,i=e.majorAngles(),s=e.box.center(),o=n.distanceTo(s);let r=o;if(this.options.majorGridLines.type!==Pn&&i.length>1){const h=(Bn(Math.atan2(n.y-s.y,n.x-s.x))+540)%360;i.sort(function(g,m){return Zl(g,h)-Zl(m,h)});const u=Zl(i[0],i[1])/2,d=Zl(h,i[0]),p=90-u;r=o*(Math.sin(Xe(180-d-p))/Math.sin(Xe(p)))}return this.axisType().prototype.getValue.call(this,new te(t.x1,t.y2-r))}};function Zl(n,t){return 180-Math.abs(Math.abs(n-t)-180)}const Sx=zO;class wx extends ii{radarMajorGridLinePositions(){return this.getTickPositions(this.options.majorUnit)}radarMinorGridLinePositions(){const t=this.options;let e=0;return t.majorGridLines.visible&&(e=t.majorUnit),this.getTickPositions(t.minorUnit,e)}axisType(){return ii}}b(wx.prototype,Sx);const GO=wx;class Cx extends Wl{radarMajorGridLinePositions(){const t=[];return this.traverseMajorTicksPositions(function(e){t.push(e)},this.options.majorGridLines),t}radarMinorGridLinePositions(){const t=[];return this.traverseMinorTicksPositions(function(e){t.push(e)},this.options.minorGridLines),t}axisType(){return Wl}}b(Cx.prototype,Sx);const UO=Cx;function kx(n){return n<=0?-1:1}const $l=class VO extends U{constructor(t){super(),this.closed=t}process(t){const e=t.slice(0),i=[];let s=this.closed,o=e.length;if(o>2&&(this.removeDuplicates(0,e),o=e.length),o<2||2===o&&e[0].equals(e[1]))return i;let h,u,r=e[0],a=e[1],c=e[2];for(i.push(new at(r));r.equals(e[o-1]);)s=!0,e.pop(),o--;if(2===o){const p=this.tangent(r,a,V,W);return We(i).controlOut(this.firstControlPoint(p,r,a,V,W)),i.push(new at(a,this.secondControlPoint(p,r,a,V,W))),i}if(s){r=e[o-1],a=e[0],c=e[1];const p=this.controlPoints(r,a,c);h=p[1],u=p[0]}else{const p=this.tangent(r,a,V,W);h=this.firstControlPoint(p,r,a,V,W)}let d=h;for(let p=0;p<=o-3;p++)if(this.removeDuplicates(p,e),o=e.length,p+3<=o){r=e[p],a=e[p+1],c=e[p+2];const f=this.controlPoints(r,a,c);We(i).controlOut(d),d=f[1],i.push(new at(a,f[0]))}if(s){r=e[o-2],a=e[o-1],c=e[0];const p=this.controlPoints(r,a,c);We(i).controlOut(d),i.push(new at(a,p[0])),We(i).controlOut(p[1]),i.push(new at(c,u))}else{const p=this.tangent(a,c,V,W);We(i).controlOut(d),i.push(new at(c,this.secondControlPoint(p,a,c,V,W)))}return i}removeDuplicates(t,e){for(;e[t+1]&&(e[t].equals(e[t+1])||e[t+1].equals(e[t+2]));)e.splice(t+1,1)}invertAxis(t,e,i){let s=!1;if(t.x===e.x)s=!0;else if(e.x===i.x)(e.y<i.y&&t.y<=e.y||i.y<e.y&&e.y<=t.y)&&(s=!0);else{const o=this.lineFunction(t,e),r=this.calculateFunction(o,i.x);t.y<=e.y&&i.y<=r||e.y<=t.y&&i.y>=r||(s=!0)}return s}isLine(t,e,i){const s=this.lineFunction(t,e),o=this.calculateFunction(s,i.x);return t.x===e.x&&e.x===i.x||N(o,1)===N(i.y,1)}lineFunction(t,e){const i=(e.y-t.y)/(e.x-t.x);return[t.y-i*t.x,i]}controlPoints(t,e,i){let c,s=V,o=W,r=!1,a=!1;if(this.isLine(t,e,i))c=this.tangent(t,e,V,W);else{const d={x:this.isMonotonicByField(t,e,i,V),y:this.isMonotonicByField(t,e,i,W)};if(d.x&&d.y)c=this.tangent(t,i,V,W),r=!0;else if(this.invertAxis(t,e,i)&&(s=W,o=V),d[s])c=0;else{let p;p=i[o]<t[o]&&t[o]<=e[o]||t[o]<i[o]&&e[o]<=t[o]?kx((i[o]-t[o])*(e[s]-t[s])):-kx((i[s]-t[s])*(e[o]-t[o])),c=.01*p,a=!0}}const h=this.secondControlPoint(c,t,e,s,o);if(a){const d=s;s=o,o=d}const u=this.firstControlPoint(c,e,i,s,o);return r&&(this.restrictControlPoint(t,e,h,c),this.restrictControlPoint(e,i,u,c)),[h,u]}restrictControlPoint(t,e,i,s){t.y<e.y?e.y<i.y?(i.x=t.x+(e.y-t.y)/s,i.y=e.y):i.y<t.y&&(i.x=e.x-(e.y-t.y)/s,i.y=t.y):i.y<e.y?(i.x=t.x-(t.y-e.y)/s,i.y=e.y):t.y<i.y&&(i.x=e.x+(t.y-e.y)/s,i.y=t.y)}tangent(t,e,i,s){const o=e[i]-t[i];let a;return a=0===o?0:(e[s]-t[s])/o,a}isMonotonicByField(t,e,i,s){return i[s]>e[s]&&e[s]>t[s]||i[s]<e[s]&&e[s]<t[s]}firstControlPoint(t,e,i,s,o){const r=e[s],c=.333*(i[s]-r);return this.point(r+c,e[o]+c*t,s,o)}secondControlPoint(t,e,i,s,o){const a=i[s],c=.333*(a-e[s]);return this.point(a-c,i[o]-c*t,s,o)}point(t,e,i,s){const o=new A;return o[i]=t,o[s]=e,o}calculateFunction(t,e){const i=t.length;let s=0;for(let o=0;o<i;o++)s+=Math.pow(e,o)*t[o];return s}},WO=class jO extends U{constructor(t){super(),this._axis=t,this.options=t.options}value(t){const e=this._axis;return e.getCategory?e.getCategory(t):e.getValue(t)}slot(t,e,i=!0){return this._axis.slot(t,e,i)}range(){return this._axis.range()}valueRange(){return this._axis.valueRange()}};function Ax(n,t){for(let e=0;e<t.length;e++)if(t[e].options.name===n)return t[e].prepareUserOptions(),new WO(t[e])}const Od=class ZO{constructor(t){this.visual=t.visual,this.chartsVisual=t.chartContainer.visual,this._pane=t}findAxisByName(t){return Ax(t,this._pane.axes)}},YO=class $O extends U{constructor(t){super(),this._plotArea=t,this.visual=t.visual,this.backgroundVisual=t._bgVisual}};function Rd(n){const t=n.length;let e=0;for(let i=0;i<t;i++)he(n[i])&&e++;return e}const Nd={min:function(n){const t=n.length;let e=je;for(let i=0;i<t;i++){const s=n[i];he(s)&&(e=Math.min(e,s))}return e===je?n[0]:e},max:function(n){const t=n.length;let e=Qe;for(let i=0;i<t;i++){const s=n[i];he(s)&&(e=Math.max(e,s))}return e===Qe?n[0]:e},sum:function(n){const t=n.length;let e=0;for(let i=0;i<t;i++){const s=n[i];he(s)&&(e+=s)}return e},sumOrNull:function(n){let t=null;return Rd(n)&&(t=Nd.sum(n)),t},count:function(n){const t=n.length;let e=0;for(let i=0;i<t;i++){const s=n[i];null!==s&&k(s)&&e++}return e},avg:function(n){const t=Rd(n);let e=n[0];return t>0&&(e=Nd.sum(n)/t),e},first:function(n){const t=n.length;for(let e=0;e<t;e++){const i=n[e];if(null!==i&&k(i))return i}return n[0]}},qO=Nd;function Yl(n,t){return null===t?t:en(n)(t)}class Pd extends U{constructor(){super(),this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}}register(t,e=[Gt],i={}){for(let s=0;s<t.length;s++){const o=t[s];this._valueFields[o]=e,this._otherFields[o]=i,this._nullValue[o]=this._makeValue(e,null),this._undefinedValue[o]=this._makeValue(e,void 0)}}canonicalFields(t){return this.valueFields(t).concat(this.otherFields(t))}valueFields(t){return this._valueFields[t.type]||[Gt]}otherFields(t){return this._otherFields[t.type]||[Gt]}bindPoint(t,e,i){const s=t.data,o=k(i)?i:s[e],r={valueFields:{value:o}},a=this.valueFields(t),c=this._otherFields[t.type];let h,u;if(null===o)u=this._nullValue[t.type];else if(k(o)){if(Array.isArray(o)){const d=o.slice(a.length);u=this._bindFromArray(o,a),h=this._bindFromArray(d,c)}else if("object"==typeof o){const d=this.sourceFields(t,a),p=this.sourceFields(t,c);u=this._bindFromObject(o,a,d),h=this._bindFromObject(o,c,p)}}else u=this._undefinedValue[t.type];return k(u)&&(1===a.length?r.valueFields.value=u[a[0]]:r.valueFields=u),r.fields=h||{},r}_makeValue(t,e){const i={},s=t.length;for(let o=0;o<s;o++)i[t[o]]=e;return i}_bindFromArray(t,e){const i={};if(e){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++)i[e[o]]=t[o]}return i}_bindFromObject(t,e,i=e){const s={};if(e){const o=e.length;for(let r=0;r<o;r++){const a=e[r],c=i[r];null!==c&&(s[a]=Yl(c,t))}}return s}sourceFields(t,e){const i=[];if(e){const s=e.length;for(let o=0;o<s;o++){const r=e[o],a=r===Gt?"field":r+"Field";i.push(null!==t[a]?t[a]||r:null)}}return i}}Pd.current=new Pd;const Ze=Pd,QO=/percent(?:\w*)\((\d+)\)/,XO=new RegExp("^stddev(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),Tx=class eR extends U{constructor(t,e,i){super(),this.initGlobalRanges(t,e,i)}initGlobalRanges(t,e,i){const s=e.data,o=XO.exec(t);if(o){this.valueGetter=this.createValueGetter(e,i);const r=this.getAverage(s),a=this.getStandardDeviation(s,r,!1),c=o[1]?parseFloat(o[1]):1,h={low:r.value-a*c,high:r.value+a*c};this.globalRange=function(){return h}}else if(t.indexOf&&t.indexOf("stderr")>=0){this.valueGetter=this.createValueGetter(e,i);const r=this.getStandardError(s,this.getAverage(s));this.globalRange=function(a){return{low:a-r,high:a+r}}}}createValueGetter(t,e){const i=t.data,s=Ze.current,o=s.valueFields(t),r=k(i[0])?i[0]:{};let a;return ut(r)?a=en("["+(e?o.indexOf(e):0)+"]"):he(r)?a=en():typeof r===sd&&(a=en(s.sourceFields(t,o)[o.indexOf(e)])),a}getErrorRange(t,e){let i,s,o;if(!k(e))return null;if(this.globalRange)return this.globalRange(t);if(ut(e))i=t-e[0],s=t+e[1];else if(he(o=parseFloat(e)))i=t-o,s=t+o;else{if(!(o=QO.exec(e)))throw new Error("Invalid ErrorBar value: "+e);{const r=t*(parseFloat(o[1])/100);i=t-Math.abs(r),s=t+Math.abs(r)}}return{low:i,high:s}}getStandardError(t,e){return this.getStandardDeviation(t,e,!0)/Math.sqrt(e.count)}getStandardDeviation(t,e,i){const s=t.length,o=i?e.count-1:e.count;let r=0;for(let a=0;a<s;a++){const c=this.valueGetter(t[a]);he(c)&&(r+=Math.pow(c-e.value,2))}return Math.sqrt(r/o)}getAverage(t){const e=t.length;let i=0,s=0;for(let o=0;o<e;o++){const r=this.valueGetter(t[o]);he(r)&&(i+=r,s++)}return{value:i/s,count:s}}},ni=600,zn="fadeIn",Nr=(ui.browser||{}).msie?.001:0,Mx="errorLow",Dx="errorHigh",an="zero",co="interpolate",Jl="above",Ld="below",ho="smooth",Pr="step",Lr="area",Si="bar",Br="boxPlot",uo="bubble",Gn="bullet",po="candlestick",ln="column",Ql="donut",Xl="funnel",Bd="heatmap",fo="horizontalWaterfall",Fr="line",zr="ohlc",Un="pie",Fd="polarArea",zd="polarLine",Gd="polarScatter",ec="radarArea",tc="radarColumn",ic="radarLine",Gr="rangeArea",go="rangeBar",Ur="rangeColumn",Ud="scatter",Hd="scatterLine",mo="verticalArea",_o="verticalBoxPlot",Hr="verticalBullet",vo="verticalLine",xo="verticalRangeArea",Vr="waterfall",Ox=[Si,ln,zr,po,Br,_o,Gn,Ur,go,Vr,fo],Rx="seriesHover",Nx="plotAreaHover",Vd="plotAreaLeave",jr="drag",Wr="dragEnd",jd="dragStart",Zr="zoomStart",bo="zoom",yo="zoomEnd",Wd="selectStart",$r="select",Zd="selectEnd",Px="showTooltip",Lx="hideTooltip",nc="log",zi="category",sc="insideEnd",Cs="outsideEnd",oc="DOMMouseScroll mousewheel";class Fx extends we{constructor(t,e,i,s,o,r){super(r),this.low=t,this.high=e,this.isVertical=i,this.chart=s,this.series=o}reflow(t){const e=this.options.endCaps,i=this.isVertical,o=this.getAxis().getSlot(this.low,this.high),r=t.center(),a=this.getCapsWidth(t,i),c=i?r.x:r.y,h=c-a,u=c+a;let d;i?(d=[new te(r.x,o.y1),new te(r.x,o.y2)],e&&d.push(new te(h,o.y1),new te(u,o.y1),new te(h,o.y2),new te(u,o.y2)),this.box=new P(h,o.y1,u,o.y2)):(d=[new te(o.x1,r.y),new te(o.x2,r.y)],e&&d.push(new te(o.x1,h),new te(o.x1,u),new te(o.x2,h),new te(o.x2,u)),this.box=new P(o.x1,h,o.x2,u)),this.linePoints=d}getCapsWidth(t,e){const i=e?t.width():t.height();return Math.min(Math.floor(i/2),4)||4}createVisual(){const t=this.options,e=t.visual;e?this.visual=e({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:t.endCaps,color:t.color,line:t.line},createVisual:()=>{this.createDefaultVisual();const i=this.visual;return delete this.visual,i}}):this.createDefaultVisual()}createDefaultVisual(){const{options:t,linePoints:e}=this,i={stroke:{color:t.color,width:t.line.width,dashType:t.line.dashType}};super.createVisual();for(let s=0;s<e.length;s+=2){const o=new G(i).moveTo(e[s].x,e[s].y).lineTo(e[s+1].x,e[s+1].y);Xt(o),this.visual.append(o)}}}M(Fx,{animation:{type:zn,delay:ni},endCaps:!0,line:{width:2},zIndex:1});const zx=Fx,vR=class _R extends zx{getAxis(){return this.chart.seriesValueAxis(this.series)}};function cn(n,t,e={},i=!1){const s=e.defaults=e.defaults||{},o=e.depth=e.depth||0;let r=!1;if(e.excluded=e.excluded||[],o>5)return null;for(let a in n)if(!de(a,e.excluded)&&n.hasOwnProperty(a)){const c=n[a];Pe(c)?(r=!0,i||(n[a]=ie(c(t),s[a]))):_i(c)&&(i||(e.defaults=s[a]),e.depth++,r=cn(c,t,e,i)||r,e.depth--)}return r}function Yd(n){const t=n.length;let e=0;for(let i=0;i<t;i++)e=Math.max(e,n[i].data.length);return e}class Gx extends we{constructor(t,e){super(e),this.plotArea=t,this.chartService=t.chartService,this.categoryAxis=t.seriesCategoryAxis(e.series[0]),this.valueAxisRanges={},this.points=[],this.categoryPoints=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[],this.render()}render(){this.traverseDataPoints(this.addValue.bind(this))}pointOptions(t,e){let i=this.seriesOptions[e];if(!i){const s=this.pointType().prototype.defaults;this.seriesOptions[e]=i=b({},s,{vertical:!this.options.invertAxes},t)}return i}plotValue(t){if(!t)return 0;if(this.options.isStacked100&&he(t.value)){const i=this.categoryPoints[t.categoryIx],s=[];let o=0;for(let r=0;r<i.length;r++){const a=i[r];if(a){const c=t.series.stack,h=a.series.stack;if(c&&h&&c.group!==h.group)continue;he(a.value)&&(o+=Math.abs(a.value),s.push(Math.abs(a.value)))}}if(o>0)return t.value/o}return t.value}plotRange(t,e=0){const i=this.categoryPoints[t.categoryIx];if(this.options.isStacked){let a=this.plotValue(t);const c=a>=0;let h=e,u=!1;for(let d=0;d<i.length;d++){const p=i[d];if(t===p)break;const f=t.series.stack,g=p.series.stack;if(f&&g&&(typeof f===od&&f!==g||f.group&&f.group!==g.group))continue;const m=this.plotValue(p);(m>=0&&c||m<0&&!c)&&(h+=m,a+=m,u=!0,this.options.isStacked100&&(a=Math.min(a,1)))}return u&&(h-=e),[h,a]}const o=this.seriesValueAxis(t.series),r=this.categoryAxisCrossingValue(o);return[r,Tv(t.value)?t.value:r]}stackLimits(t,e){let i=je,s=Qe;for(let o=0;o<this.categoryPoints.length;o++){const r=this.categoryPoints[o];if(r)for(let a=0;a<r.length;a++){const c=r[a];if(c&&(c.series.stack===e||c.series.axis===t)){const h=this.plotRange(c,0)[1];k(h)&&isFinite(h)&&(s=Math.max(s,h),i=Math.min(i,h))}}}return{min:i,max:s}}updateStackRange(){const{isStacked:t,series:e}=this.options,i={};if(t)for(let s=0;s<e.length;s++){const o=e[s],r=o.axis,a=r+o.stack;let c=i[a];if(!c){c=this.stackLimits(r,o.stack);const h=this.errorTotals;h&&(h.negative.length&&(c.min=Math.min(c.min,ad(h.negative).min)),h.positive.length&&(c.max=Math.max(c.max,ad(h.positive).max))),c.min!==je||c.max!==Qe?i[a]=c:c=null}c&&(this.valueAxisRanges[r]=c)}}addErrorBar(t,e,i){const{value:s,series:o,seriesIx:r}=t,a=t.options.errorBars,c=e.fields[Mx],h=e.fields[Dx];let u;he(c)&&he(h)?u={low:c,high:h}:a&&k(a.value)&&(this.seriesErrorRanges=this.seriesErrorRanges||[],this.seriesErrorRanges[r]=this.seriesErrorRanges[r]||new Tx(a.value,o,Gt),u=this.seriesErrorRanges[r].getErrorRange(s,a.value)),u&&(t.low=u.low,t.high=u.high,this.addPointErrorBar(t,i))}addPointErrorBar(t,e){const i=!this.options.invertAxes,s=t.options.errorBars;let{series:o,low:r,high:a}=t;if(this.options.isStacked){const h=this.stackedErrorRange(t,e);r=h.low,a=h.high}else{const h={categoryIx:e,series:o};this.updateRange({value:r},h),this.updateRange({value:a},h)}const c=new vR(r,a,i,this,o,s);t.errorBars=[c],t.append(c)}stackedErrorRange(t,e){const i=this.plotRange(t,0)[1]-t.value,s=t.low+i,o=t.high+i;return this.errorTotals=this.errorTotals||{positive:[],negative:[]},s<0&&(this.errorTotals.negative[e]=Math.min(this.errorTotals.negative[e]||0,s)),o>0&&(this.errorTotals.positive[e]=Math.max(this.errorTotals.positive[e]||0,o)),{low:s,high:o}}addValue(t,e){const{categoryIx:i,series:s,seriesIx:o}=e;let r=this.categoryPoints[i];r||(this.categoryPoints[i]=r=[]);let a=this.seriesPoints[o];a||(this.seriesPoints[o]=a=[]);const c=this.createPoint(t,e);c&&(Object.assign(c,e),c.owner=this,c.noteText=t.fields.noteText,k(c.dataItem)||(c.dataItem=s.data[i]),this.addErrorBar(c,t,i)),this.points.push(c),a.push(c),r.push(c),this.updateRange(t.valueFields,e)}evalPointOptions(t,e,i,s,o,r){const a={defaults:o._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]};let c=this._evalSeries[r];k(c)||(this._evalSeries[r]=c=cn(t,{},a,!0));let h=t;return c&&(h=b({},h),cn(h,{value:e,category:i,index:s,series:o,dataItem:o.data[s]},a)),h}updateRange(t,e){const i=e.series.axis,s=t.value;let o=this.valueAxisRanges[i];isFinite(s)&&null!==s&&(o=this.valueAxisRanges[i]=o||{min:je,max:Qe},o.min=Math.min(o.min,s),o.max=Math.max(o.max,s))}seriesValueAxis(t){const e=this.plotArea,i=t.axis,s=i?e.namedValueAxes[i]:e.valueAxis;if(!s)throw new Error("Unable to locate value axis with name "+i);return s}reflow(t){const e=this.categorySlots=[],i=this.points,s=this.categoryAxis;let o=0;this.traverseDataPoints((r,a)=>{const{categoryIx:c,series:h}=a,u=this.seriesValueAxis(h),d=i[o++];let p=e[c];if(p||(e[c]=p=this.categorySlot(s,c,u)),d){const f=this.plotRange(d,u.startValue()),g=this.valueSlot(u,f);if(g){const m=this.pointSlot(p,g);d.aboveAxis=this.aboveAxis(d,u),d.stackValue=f[1],this.options.isStacked100&&(d.percentage=this.plotValue(d)),this.reflowPoint(d,m)}else d.visible=!1}}),this.reflowCategories(e),!this.options.clip&&this.options.limitPoints&&this.points.length&&this.limitPoints(),this.box=t}valueSlot(t,e){return t.getSlot(e[0],e[1],!this.options.clip)}limitPoints(){const t=this.categoryPoints,e=t[0].concat(We(t));for(let i=0;i<e.length;i++)e[i]&&this.limitPoint(e[i])}limitPoint(t){const e=this.categoryAxis.limitSlot(t.box);e.equals(t.box)||t.reflow(e)}aboveAxis(t,e){const i=this.categoryAxisCrossingValue(e),s=t.value;return e.options.reverse?s<i:s>=i}categoryAxisCrossingValue(t){const e=this.categoryAxis,i=t.options;return[].concat(i.axisCrossingValues||i.axisCrossingValue)[e.axisIndex||0]||0}reflowPoint(t,e){t.reflow(e)}reflowCategories(){}pointSlot(t,e){const s=this.options.invertAxes,o=s?e:t,r=s?t:e;return new P(o.x1,r.y1,o.x2,r.y2)}categorySlot(t,e){return t.getSlot(e)}traverseDataPoints(t){const e=this.options.series,i=Yd(e),s=e.length;for(let o=0;o<s;o++)this._outOfRangeCallback(e[o],"_outOfRangeMinPoint",o,t);for(let o=0;o<i;o++)for(let r=0;r<s;r++){const a=e[r],c=this.categoryAxis.categoryAt(o);t(this._bindPoint(a,r,o),{category:c,categoryIx:o,categoriesCount:i,series:a,seriesIx:r})}for(let o=0;o<s;o++)this._outOfRangeCallback(e[o],"_outOfRangeMaxPoint",o,t)}_outOfRangeCallback(t,e,i,s){const o=t[e];if(o){const r=o.categoryIx;s(this._bindPoint(t,i,r,o.item),{category:o.category,categoryIx:r,series:t,seriesIx:i,dataItem:o.item})}}_bindPoint(t,e,i,s){this._bindCache||(this._bindCache=[]);let o=this._bindCache[e];o||(o=this._bindCache[e]=[]);let r=o[i];return r||(r=o[i]=Ze.current.bindPoint(t,i,s)),r}formatPointValue(t,e){return null===t.value?"":this.chartService.format.auto(e,t.value)}pointValue(t){return t.valueFields.value}}M(Gx,{series:[],invertAxes:!1,isStacked:!1,clip:!0,limitPoints:!0});const hn=Gx,wi={click:function(n,t){return n.trigger("seriesClick",this.eventArgs(t))},hover:function(n,t){return n.trigger(Rx,this.eventArgs(t))},over:function(n,t){return n.trigger("seriesOver",this.eventArgs(t))},out:function(n,t){return n.trigger("seriesLeave",this.eventArgs(t))},eventArgs:function(n){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:vi(n),originalEvent:n,point:this}}},So={createNote:function(){const n=this.options.notes,t=this.noteText||n.label.text;!1!==n.visible&&k(t)&&null!==t&&(this.note=new ex({value:this.value,text:t,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService),this.append(this.note))}};class rc extends we{constructor(t,e){super(),this.value=t,this.options=e,this.aboveAxis=ie(this.options.aboveAxis,!0),this.tooltipTracking=!0}render(){const{markers:t,labels:e}=this.options;if(!this._rendered){if(this._rendered=!0,t.visible&&t.size&&(this.marker=this.createMarker(),this.append(this.marker)),e.visible){const i=nt(e),s=this.pointData();let o=this.value;i?o=i(s):e.format&&(o=this.formatValue(e.format)),this.label=new Vt(o,b({align:re,vAlign:re,margin:{left:5,right:5},zIndex:ie(e.zIndex,this.series.zIndex)},e),s),this.append(this.label)}this.createNote(),this.errorBar&&this.append(this.errorBar)}}markerBorder(){const t=this.options.markers,e=t.background,i=b({color:this.color},t.border);return k(i.color)||(i.color=new ti(e).brightness(.8).toHex()),i}createVisual(){}createMarker(){const t=this.options.markers;return new Fn({type:t.type,width:t.size,height:t.size,rotation:t.rotation,background:t.background,border:this.markerBorder(),opacity:this.series.opacity||t.opacity,zIndex:ie(t.zIndex,this.series.zIndex),animation:t.animation,visual:t.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category})}markerBox(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box}reflow(t){const{options:e,aboveAxis:i}=this,s=e.vertical;this.render(),this.box=t;const o=t.clone();if(s?i?o.y1-=o.height():o.y2+=o.height():i?o.x1+=o.width():o.x2-=o.width(),this._childBox=o,this.marker&&this.marker.reflow(o),this.reflowLabel(o),this.errorBars)for(let r=0;r<this.errorBars.length;r++)this.errorBars[r].reflow(o);if(this.note){let r=this.markerBox();if(!e.markers.visible||!e.markers.size){const a=r.center();r=new P(a.x,a.y,a.x,a.y)}this.note.reflow(r)}}reflowLabel(t){const{options:e,label:i}=this;let s=e.labels.position;i&&(s=s===Jl?_e:s,s=s===Ld?Se:s,i.reflow(t),i.box.alignTo(this.markerBox(),s),i.reflow(i.box))}createHighlight(){const t=this.options.highlight.markers,e=this.markerBorder().color,i=this.options.markers,s=i.size+(i.border.width||0)+(t.border.width||0),o=new Fn({type:i.type,width:s,height:s,rotation:i.rotation,background:t.color||e,border:{color:t.border.color,width:t.border.width,opacity:ie(t.border.opacity,1)},opacity:ie(t.opacity,1)});return o.reflow(this._childBox),o.getElement()}highlightVisual(){return(this.marker||{}).visual}highlightVisualArgs(){const t=this.marker;let e,i;if(t)i=t.paddingBox.toRect(),e=t.visual;else{const s=this.options.markers.size,o=s/2,r=this.box.center();i=new ue([r.x-o,r.y-o],[s,s])}return{options:this.options,rect:i,visual:e}}tooltipAnchor(){const t=this.markerBox(),e=this.owner.pane.clipBox();if(!e||e.overlaps(t)){const o=fe;let r,a;return this.aboveAxis?(r=t.y1,a=Se):(r=t.y2,a=_e),{point:new te(t.x2+5,r),align:{horizontal:o,vertical:a}}}}formatValue(t){return this.owner.formatPointValue(this,t)}overlapsBox(t){return this.markerBox().overlaps(t)}unclipElements(){this.label&&(this.label.options.noclip=!0),this.note&&(this.note.options.noclip=!0)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}}}rc.prototype.defaults={vertical:!0,markers:{visible:!0,background:ve,size:8,type:mi,border:{width:2},opacity:1},labels:{visible:!1,position:Jl,margin:ke(3),padding:ke(4),animation:{type:zn,delay:ni}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:100},errorBars:{line:{width:1}}},b(rc.prototype,wi),b(rc.prototype,So);const Es=rc;class Ux extends we{constructor(t,e,i){super(),this.linePoints=t,this.series=e,this.seriesIx=i}points(){return this.toGeometryPoints(this.linePoints)}toGeometryPoints(t){const e=[];for(let i=0,s=t.length;i<s;i++)t[i]&&!1!==t[i].visible&&e.push(t[i]._childBox.toRect().center());return e}createVisual(){const t=this.series.visual;t?(this.visual=t({points:this.toGeometryPoints(this.linePoints),series:this.series,sender:this.getSender(),createVisual:()=>(this.segmentVisual(),this.visual)}),this.visual&&!k(this.visual.options.zIndex)&&(this.visual.options.zIndex=this.series.zIndex)):this.segmentVisual()}segmentVisual(){const{options:t,series:e}=this;let{color:i,_defaults:s}=e;Pe(i)&&s&&(i=s.color);const o=G.fromPoints(this.points(),{stroke:{color:i,width:e.width,opacity:e.opacity,dashType:e.dashType},zIndex:e.zIndex});t.closed&&o.close(),this.visual=o}aliasFor(t,e){return this.parent.getNearestPoint(e.x,e.y,this.seriesIx)}}M(Ux,{closed:!1});const wo=Ux,bR={calculateStepPoints:function(n){const t=this.parent.plotArea.seriesCategoryAxis(this.series),{justified:e,vertical:i,reverse:s}=t.options,o=i?V:W,r=i?W:V,a=s?2:1,c=a;let h=qd(n[0],o,a,r,c);const u=[h];for(let d=1;d<n.length;d++){const p=qd(n[d],o,a,r,c);if(h[o]!==p[o]){const f=new A;f[o]=h[o],f[r]=p[r],u.push(f,p)}h=p}return e?h!==We(u)&&u.push(h):u.push(qd(We(n),o,a,r,s?1:2)),u}};function qd(n,t,e,i,s){const o=n.box,r=new A;return r[t]=o[t+e],r[i]=o[i+s],r}const Kd=bR;class Hx extends wo{points(){return this.calculateStepPoints(this.linePoints)}}b(Hx.prototype,Kd);const yR=Hx,Jd=class SR extends wo{segmentVisual(){const t=this.series,e=t._defaults;let i=t.color;Pe(i)&&e&&(i=e.color);const o=new $l(this.options.closed).process(this.points()),r=new G({stroke:{color:i,width:t.width,opacity:t.opacity,dashType:t.dashType},zIndex:t.zIndex});r.segments.push.apply(r.segments,o),this.visual=r}},Qd={renderSegments:function(){const{options:n,seriesPoints:t}=this,e=n.series,i=t.length;let s;this._segments=[];for(let o=0;o<i;o++){const r=e[o],a=this.sortPoints(t[o]),c=a.length;let h=[];for(let u=0;u<c;u++){const d=a[u];d?h.push(d):this.seriesMissingValues(r)!==co&&(h.length>1&&(s=this.createSegment(h,r,o,s),this._addSegment(s)),h=[])}h.length>1&&(s=this.createSegment(h,r,o,s),this._addSegment(s))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(n){this._segments.push(n),n.parent=this},sortPoints:function(n){return n},seriesMissingValues:function(n){const t=n.missingValues;return!t&&this.options.isStacked?an:t||co},getNearestPoint:function(n,t,e){const i=new te(n,t),s=this.seriesPoints[e];let r,o=je;for(let a=0;a<s.length;a++){const c=s[a];if(c&&k(c.value)&&null!==c.value&&!1!==c.visible){const u=c.box.center().distanceTo(i);u<o&&(r=c,o=u)}}return r}};class Xd extends Ht{setup(){this._setEnd(this.options.box.x1)}step(t){const e=this.options.box;this._setEnd(ei(e.x1,e.x2,t))}_setEnd(t){const e=this.element,i=e.segments,s=i[1].anchor(),o=i[2].anchor();e.suspend(),s.setX(t),e.resume(),o.setX(t)}}M(Xd,{duration:ni}),xi.current.register("clip",Xd);const wR=Xd;function Vx(n){for(let t=0;t<n.length;t++)if(k(n[t].zIndex))return!0}const ac={createAnimation:function(){const n=this.getRoot();if(n&&!1!==(n.options||{}).transitions){const t=n.size(),e=G.fromRect(t.toRect());this.visual.clip(e),this.animation=new wR(e,{box:t}),Vx(this.options.series)&&this._setChildrenAnimation(e)}},_setChildrenAnimation:function(n){const t=this.animationPoints();for(let e=0;e<t.length;e++){const i=t[e];i&&i.visual&&k(i.visual.options.zIndex)&&i.visual.clip(n)}}};class jx extends hn{render(){super.render(),this.updateStackRange(),this.renderSegments()}pointType(){return Es}createPoint(t,e){const{categoryIx:i,category:s,series:o,seriesIx:r}=e,a=this.seriesMissingValues(o);let c=t.valueFields.value;if(!k(c)||null===c){if(a!==an)return null;c=0}let h=this.pointOptions(o,r);h=this.evalPointOptions(h,c,s,i,o,r);let u=t.fields.color||o.color;Pe(o.color)&&(u=h.color);const d=new Es(c,h);return d.color=u,this.append(d),d}plotRange(t){let e=this.plotValue(t);if(this.options.isStacked){const s=this.categoryPoints[t.categoryIx];for(let o=0;o<s.length;o++){const r=s[o];if(t===r)break;e+=this.plotValue(r),this.options.isStacked100&&(e=Math.min(e,1))}}return[e,e]}createSegment(t,e,i){const s=e.style;let o;return o=s===Pr?yR:s===ho?Jd:wo,new o(t,e,i)}animationPoints(){const t=this.points,e=[];for(let i=0;i<t.length;i++)e.push((t[i]||{}).marker);return e.concat(this._segments)}supportsPointInactiveOpacity(){return!1}}b(jx.prototype,Qd,ac);const ep=jx,Co=class CR extends wo{constructor(t,e,i,s,o){super(t,e,i),this.prevSegment=s,this.stackPoints=o}createVisual(){const t=this.series,e=t._defaults,i=t.line||{};let s=t.color;Pe(s)&&e&&(s=e.color),this.visual=new ge({zIndex:t.zIndex}),this.createFill({fill:{color:s,opacity:t.opacity},stroke:null}),i.width>0&&!1!==i.visible&&this.createStroke({stroke:b({color:s,opacity:t.opacity,lineCap:"butt"},i)})}strokeSegments(){let t=this._strokeSegments;return t||(t=this._strokeSegments=this.createStrokeSegments()),t}createStrokeSegments(){return this.segmentsFromPoints(this.points())}stackSegments(){return this.prevSegment?this.prevSegment.createStackSegments(this.stackPoints):this.createStackSegments(this.stackPoints)}createStackSegments(t){return this.segmentsFromPoints(this.toGeometryPoints(t)).reverse()}segmentsFromPoints(t){return t.map(e=>new at(e))}createStroke(t){const e=new G(t);e.segments.push.apply(e.segments,this.strokeSegments()),this.visual.append(e)}hasStackSegment(){return this.prevSegment||this.stackPoints&&this.stackPoints.length}createFill(t){const e=this.strokeSegments(),i=e.slice(0),s=this.hasStackSegment();if(s){const r=this.stackSegments();vs(i,r)}const o=new G(t);o.segments.push.apply(o.segments,i),!s&&e.length>1&&this.fillToAxes(o),this.visual.append(o)}fillToAxes(t){const e=this.parent,i=e.options.invertAxes,s=e.seriesValueAxis(this.series),o=e.categoryAxisCrossingValue(s),r=s.getSlot(o,o,!0),a=this.strokeSegments(),c=a[0].anchor(),h=We(a).anchor();let u=i?r.x1:r.y1;i?t.lineTo(u,h.y).lineTo(u,c.y):t.lineTo(h.x,u).lineTo(c.x,u)}};class Wx extends Co{createStrokeSegments(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))}createStackSegments(t){return this.segmentsFromPoints(this.calculateStepPoints(t)).reverse()}}b(Wx.prototype,Kd);const ER=Wx,tp=class kR extends Co{createStrokeSegments(){const t=new $l(this.options.closed),e=this.points();return t.process(e)}createStackSegments(){const t=this.strokeSegments(),e=[];for(let i=t.length-1;i>=0;i--){const s=t[i];e.push(new at(s.anchor(),s.controlOut(),s.controlIn()))}return e}},TR=class AR extends ep{createSegment(t,e,i,s){const r=(e.line||{}).style;let a,c,h;return this.options.isStacked&&i>0&&s&&("gap"!==this.seriesMissingValues(e)?(c=s.linePoints,a=s):c=this._gapStackPoints(t,i,r)),h=r===Pr?ER:r===ho?tp:Co,new h(t,e,i,a,c)}reflow(t){super.reflow(t);const e=this._stackPoints;if(e)for(let i=0;i<e.length;i++){const s=e[i],o=this.categoryAxis.getSlot(s.categoryIx);s.reflow(o)}}_gapStackPoints(t,e,i){const s=this.seriesPoints;let o=t[0].categoryIx,r=t.length;o<0&&(o=0,r--);const a=o+r,c=this.seriesOptions[0]._outOfRangeMinPoint?1:0,h=[];this._stackPoints=this._stackPoints||[];for(let u=o;u<a;u++){const d=u+c;let f,p=e;do{p--,f=s[p][d]}while(p>0&&!f);if(f)i!==Pr&&u>o&&!s[p][d-1]&&h.push(this._previousSegmentPoint(u,d,d-1,p)),h.push(f),i!==Pr&&u+1<a&&!s[p][d+1]&&h.push(this._previousSegmentPoint(u,d,d+1,p));else{const g=this._createGapStackPoint(u);this._stackPoints.push(g),h.push(g)}}return h}_previousSegmentPoint(t,e,i,s){const o=this.seriesPoints;let a,r=s;for(;r>0&&!a;)r--,a=o[r][i];return a?a=o[r][e]:(a=this._createGapStackPoint(t),this._stackPoints.push(a)),a}_createGapStackPoint(t){const e=this.pointOptions({},0),i=new Es(0,e);return i.categoryIx=t,i.series={},i}seriesMissingValues(t){return t.missingValues||an}supportsPointInactiveOpacity(){return!1}},lc=class MR extends U{constructor(){super(),this.axisRanges={}}update(t){const e=this.axisRanges;for(let i in t){const s=t[i];let o=e[i];e[i]=o=o||{min:je,max:Qe},o.min=Math.min(o.min,s.min),o.max=Math.max(o.max,s.max)}}reset(t){this.axisRanges[t]=void 0}query(t){return this.axisRanges[t]}};class Zx extends we{constructor(t,e,i){super(e),this.textBox=new Vt(t,this.options,i),this.append(this.textBox)}createVisual(){this.textBox.options.noclip=this.options.noclip}reflow(t){const e=this.options,{vertical:i,aboveAxis:s}=e,o=this.children[0],r=o.options,a=o.box,c=o.options.padding;let h=t;r.align=i?re:fe,r.vAlign=i?_e:re,e.position===sc?i?(r.vAlign=_e,!s&&a.height()<t.height()&&(r.vAlign=Se)):r.align=s?be:fe:e.position===re?(r.vAlign=re,r.align=re):"insideBase"===e.position?i?r.vAlign=s?Se:_e:r.align=s?fe:be:e.position===Cs&&(i?h=s?new P(t.x1,t.y1-a.height(),t.x2,t.y1):new P(t.x1,t.y2,t.x2,t.y2+a.height()):(r.align=re,h=s?new P(t.x2,t.y1,t.x2+a.width(),t.y2):new P(t.x1-a.width(),t.y1,t.x1,t.y2))),e.rotation||(i?c.left=c.right=(h.width()-o.contentBox.width())/2:c.top=c.bottom=(h.height()-o.contentBox.height())/2),o.reflow(h)}alignToClipBox(t){const i=this.options.vertical?W:V,s=i+"1",o=i+"2",a=this.parent.box;if(a[s]<t[s]||t[o]<a[o]){const c=this.children[0].paddingBox.clone();c[s]=Math.max(a[s],t[s]),c[o]=Math.min(a[o],t[o]),this.reflow(c)}}}M(Zx,{position:Cs,margin:ke(3),padding:ke(4),color:Ve,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:zn,delay:ni},zIndex:2});const ip=Zx;function np(n){const t=n.overlay;return t&&t.gradient&&"none"!==t.gradient}class cc extends we{constructor(t,e){super(),this.options=e,this.color=e.color||ve,this.aboveAxis=ie(this.options.aboveAxis,!0),this.value=t}render(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))}createLabel(){const t=this.options,e=t.labels;if(e.visible){const i=this.pointData();let o,s=nt(e);o=s?s(i):this.formatValue(e.format),this.label=new ip(o,b({vertical:t.vertical},e),i),this.append(this.label)}}formatValue(t){return this.owner.formatPointValue(this,t)}reflow(t){this.render();const e=this.label;if(this.box=t,e&&(e.options.aboveAxis=this.aboveAxis,e.reflow(t)),this.note&&this.note.reflow(t),this.errorBars)for(let i=0;i<this.errorBars.length;i++)this.errorBars[i].reflow(t)}createVisual(){const{box:t,options:e}=this,i=e.visual;if(!1!==this.visible)if(super.createVisual(),i){const s=this.rectVisual=i({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:t.toRect(),createVisual:()=>{const o=new ge;return this.createRect(o),o},options:e});s&&this.visual.append(s)}else t.width()>0&&t.height()>0&&this.createRect(this.visual)}createRect(t){const e=this.options,i=e.border,s=k(i.opacity)?i.opacity:e.opacity,o=this.box.toRect();o.size.width=Math.round(o.size.width);const r=this.rectVisual=G.fromRect(o,{fill:{color:this.color,opacity:e.opacity},stroke:{color:this.getBorderColor(),width:i.width,opacity:s,dashType:i.dashType}}),a=this.box.width(),c=this.box.height();if((e.vertical?a:c)>6&&(Xt(r),(a<1||c<1)&&(r.options.stroke.lineJoin="round")),t.append(r),np(e)){const u=this.createGradientOverlay(r,{baseColor:this.color},b({end:e.vertical?void 0:[0,1]},e.overlay));t.append(u)}}createHighlight(t){return Xt(G.fromRect(this.box.toRect(),t))}highlightVisual(){return this.rectVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}}getBorderColor(){const t=this.color,e=this.options.border,i=e._brightness||.8;let s=e.color;return k(s)||(s=new ti(t).brightness(i).toHex()),s}tooltipAnchor(){const{options:t,box:e,aboveAxis:i}=this,s=this.owner.pane.clipBox()||e;let a,c,o=fe,r=_e;if(t.vertical)a=Math.min(e.x2,s.x2)+5,i?c=Math.max(e.y1,s.y1):(c=Math.min(e.y2,s.y2),r=Se);else{const h=Math.max(e.x1,s.x1),u=Math.min(e.x2,s.x2);t.isStacked?(r=Se,i?(o=be,a=u):a=h,c=Math.max(e.y1,s.y1)-5):(i?a=u+5:(a=h-5,o=be),c=Math.max(e.y1,s.y1))}return{point:new te(a,c),align:{horizontal:o,vertical:r}}}overlapsBox(t){return this.box.overlaps(t)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}}}b(cc.prototype,wi),b(cc.prototype,So),cc.prototype.defaults={border:{width:1},vertical:!0,overlay:{gradient:"glass"},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}}};const sp=cc;function $x(n,t){n.forEach(t)}function Yx(n,t){const e=n.length;for(let i=e-1;i>=0;i--)t(n[i],i-e-1)}class qx extends we{constructor(t){super(t),this.forEach=t.rtl?Yx:$x}reflow(t){const{vertical:e,gap:i,spacing:s}=this.options,o=this.children,r=o.length,a=e?W:V,c=r+i+s*(r-1),h=(e?t.height():t.width())/c;let u=t[a+1]+h*(i/2);this.forEach(o,(d,p)=>{const f=(d.box||t).clone();f[a+1]=u,f[a+2]=u+h,d.reflow(f),p<r-1&&(u+=h*s),u+=h})}}M(qx,{vertical:!1,gap:0,spacing:0});const hc=qx;class Kx extends we{reflow(t){const e=this.options.vertical?V:W,i=this.children,s=i.length;let o=this.box=new P;for(let r=0;r<s;r++){const a=i[r];if(!1!==a.visible){const c=a.box.clone();c.snapTo(t,e),0===r&&(o=this.box=c.clone()),a.reflow(c),o.wrap(c)}}}}M(Kx,{vertical:!0});const IR=Kx;class Jx extends hn{render(){super.render(),this.updateStackRange()}pointType(){return sp}clusterType(){return hc}stackType(){return IR}stackLimits(t,e){return super.stackLimits(t,e)}createPoint(t,e){const{categoryIx:i,category:s,series:o,seriesIx:r}=e,{options:a,children:c}=this,h=a.isStacked,u=this.pointValue(t);let d=this.pointOptions(o,r);const p=d.labels;h&&p.position===Cs&&(p.position=sc),d.isStacked=h;let f=t.fields.color||o.color;u<0&&d.negativeColor&&(f=d.negativeColor),d=this.evalPointOptions(d,u,s,i,o,r),Pe(o.color)&&(f=d.color);const m=new(this.pointType())(u,d);m.color=f;let _=c[i];return _||(_=new(this.clusterType())({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(_)),h?this.getStackWrap(o,_).append(m):_.append(m),m}getStackWrap(t,e){const i=t.stack,s=i&&(i.group||i),o=e.children;let r;if(typeof s===od){for(let a=0;a<o.length;a++)if(o[a]._stackGroup===s){r=o[a];break}}else r=o[0];return r||(r=new(this.stackType())({vertical:!this.options.invertAxes}),r._stackGroup=s,e.append(r)),r}categorySlot(t,e,i){const s=this.options,o=t.getSlot(e),r=i.startValue();if(s.isStacked){const a=i.getSlot(r,r,!0),c=s.invertAxes?V:W;o[c+1]=o[c+2]=a[c+1]}return o}reflowCategories(t){const e=this.children,i=e.length;for(let s=0;s<i;s++)e[s].reflow(t[s])}createAnimation(){this._setAnimationOptions(),super.createAnimation(),Vx(this.options.series)&&this._setChildrenAnimation()}_setChildrenAnimation(){const t=this.points;for(let e=0;e<t.length;e++){const i=t[e],s=i.visual;s&&k(s.options.zIndex)&&(i.options.animation=this.options.animation,i.createAnimation())}}_setAnimationOptions(){const t=this.options,e=t.animation||{};let i;if(t.isStacked){const s=this.seriesValueAxis(t.series[0]);i=s.getSlot(s.startValue())}else i=this.categoryAxis.getSlot(0);e.origin=new A(i.x1,i.y1),e.vertical=!t.invertAxes}}M(Jx,{animation:{type:Si}});const Yr=Jx;class uc extends we{constructor(t,e){super(e),this.value=t}reflow(t){const{options:e,value:i,owner:s}=this,o=s.seriesValueAxis(e),r=o.getSlot(i.open,i.close),a=o.getSlot(i.low,i.high);r.x1=a.x1=t.x1,r.x2=a.x2=t.x2,this.realBody=r;const c=a.center().x,h=[];h.push([[c,a.y1],[c,r.y1]]),h.push([[c,r.y2],[c,a.y2]]),this.lines=h,this.box=a.clone().wrap(r),this._rendered||(this._rendered=!0,this.createNote()),this.reflowNote()}reflowNote(){this.note&&this.note.reflow(this.box)}createVisual(){super.createVisual(),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()}mainVisual(t){const e=new ge;return this.createBody(e,t),this.createLines(e,t),e}createBody(t,e){const i=G.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&i.options.set("stroke",{color:this.getBorderColor(),width:e.border.width,dashType:e.border.dashType,opacity:ie(e.border.opacity,e.opacity)}),Xt(i),t.append(i),np(e)&&t.append(this.createGradientOverlay(i,{baseColor:this.color},b({end:e.vertical?void 0:[0,1]},e.overlay)))}createLines(t,e){this.drawLines(t,e,this.lines,e.line)}drawLines(t,e,i,s){if(!i)return;const o={stroke:{color:s.color||this.color,opacity:ie(s.opacity,e.opacity),width:s.width,dashType:s.dashType,lineCap:"butt"}};for(let r=0;r<i.length;r++){const a=G.fromPoints(i[r],o);Xt(a),t.append(a)}}getBorderColor(){const t=this.options.border;let e=t.color;return k(e)||(e=new ti(this.color).brightness(t._brightness).toHex()),e}createOverlay(){const t=G.fromRect(this.box.toRect(),{fill:{color:ve,opacity:0},stroke:null});this.visual.append(t)}createHighlight(){const t=this.options.highlight,e=this.color;this.color=t.color||this.color;const i=this.mainVisual(b({},this.options,{line:{color:this.getBorderColor()}},t));return this.color=e,i}highlightVisual(){return this._mainVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}}tooltipAnchor(){const t=this.box,e=this.owner.pane.clipBox()||t;return{point:new te(t.x2+5,Math.max(t.y1,e.y1)+5),align:{horizontal:fe,vertical:_e}}}formatValue(t){return this.owner.formatPointValue(this,t)}overlapsBox(t){return this.box.overlaps(t)}}M(uc,{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}}}),b(uc.prototype,wi),b(uc.prototype,So);const op=uc;function Qx(n){return Rd(n)===n.length}class Xx extends hn{reflowCategories(t){const e=this.children,i=e.length;for(let s=0;s<i;s++)e[s].reflow(t[s])}addValue(t,e){const{categoryIx:i,category:s,series:o,seriesIx:r}=e,{children:a,options:c}=this,h=t.valueFields,d=Qx(this.splitValue(h)),p=o.data[i];let g,f=this.categoryPoints[i];f||(this.categoryPoints[i]=f=[]),d&&(g=this.createPoint(t,e));let m=a[i];m||(m=new hc({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing,rtl:!c.invertAxes&&(this.chartService||{}).rtl}),this.append(m)),g&&(this.updateRange(h,e),m.append(g),g.categoryIx=i,g.category=s,g.series=o,g.seriesIx=r,g.owner=this,g.dataItem=p,g.noteText=t.fields.noteText),this.points.push(g),f.push(g)}pointType(){return op}createPoint(t,e){const{categoryIx:i,category:s,series:o,seriesIx:r}=e,a=this.pointType(),c=t.valueFields;let h=b({},o),u=t.fields.color||o.color;h=this.evalPointOptions(h,c,s,i,o,r),o.type===po&&c.open>c.close&&(u=t.fields.downColor||o.downColor||o.color),Pe(o.color)&&(u=h.color),h.vertical=!this.options.invertAxes;const d=new a(c,h);return d.color=u,d}splitValue(t){return[t.low,t.open,t.close,t.high]}updateRange(t,e){const i=e.series.axis,s=this.splitValue(t);let o=this.valueAxisRanges[i];o=this.valueAxisRanges[i]=o||{min:je,max:Qe},o=this.valueAxisRanges[i]={min:Math.min.apply(Math,s.concat([o.min])),max:Math.max.apply(Math,s.concat([o.max]))}}formatPointValue(t,e){const i=t.value;return this.chartService.format.auto(e,i.open,i.high,i.low,i.close,t.category)}animationPoints(){return this.points}}b(Xx.prototype,ac);const rp=Xx;class ap extends op{constructor(t,e){super(t,e),this.createNote()}reflow(t){const{options:e,value:i,owner:s}=this,o=s.seriesValueAxis(e);let r,a;this.boxSlot=a=o.getSlot(i.q1,i.q3),this.realBody=a,this.reflowBoxSlot(t),this.whiskerSlot=r=o.getSlot(i.lower,i.upper),this.reflowWhiskerSlot(t);const c=o.getSlot(i.median);if(i.mean){const h=o.getSlot(i.mean);this.meanPoints=this.calcMeanPoints(t,h)}this.whiskerPoints=this.calcWhiskerPoints(a,r),this.medianPoints=this.calcMedianPoints(t,c),this.box=r.clone().wrap(a),this.reflowNote()}reflowBoxSlot(t){this.boxSlot.x1=t.x1,this.boxSlot.x2=t.x2}reflowWhiskerSlot(t){this.whiskerSlot.x1=t.x1,this.whiskerSlot.x2=t.x2}calcMeanPoints(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]}calcWhiskerPoints(t,e){const i=e.center().x;return[[[i-5,e.y1],[i+5,e.y1],[i,e.y1],[i,t.y1]],[[i-5,e.y2],[i+5,e.y2],[i,e.y2],[i,t.y2]]]}calcMedianPoints(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]}renderOutliers(t){const e=this.value,i=e.outliers||[],s=3*Math.abs(e.q3-e.q1),o=[];let r=t.markers||{};for(let a=0;a<i.length;a++){const c=i[a];r=c<e.q3+s&&c>e.q1-s?t.outliers:t.extremes;let h=b({},r.border);k(h.color)||(h.color=k(this.color)?this.color:new ti(r.background).brightness(.8).toHex());const u=new Fn({type:r.type,width:r.size,height:r.size,rotation:r.rotation,background:r.background,border:h,opacity:r.opacity});u.value=c,o.push(u)}return this.reflowOutliers(o),o}reflowOutliers(t){const e=this.owner.seriesValueAxis(this.options),i=this.box.center();for(let s=0;s<t.length;s++){const r=e.getSlot(t[s].value);this.options.vertical?r.move(i.x):r.move(void 0,i.y),this.box=this.box.wrap(r),t[s].reflow(r)}}mainVisual(t){const e=super.mainVisual(t),i=this.renderOutliers(t);for(let s=0;s<i.length;s++){const o=i[s].getElement();o&&e.append(o)}return e}createLines(t,e){this.drawLines(t,e,this.whiskerPoints,e.whiskers),this.drawLines(t,e,this.medianPoints,e.median),this.drawLines(t,e,this.meanPoints,e.mean)}getBorderColor(){return(this.options.border||{}).color?this.options.border.color:this.color?this.color:super.getBorderColor()}}M(ap,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:8,type:"cross",background:ve,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:8,type:mi,background:ve,border:{width:2,opacity:1},opacity:0}}),b(ap.prototype,wi);const eb=ap,RR=class OR extends eb{reflowBoxSlot(t){this.boxSlot.y1=t.y1,this.boxSlot.y2=t.y2}reflowWhiskerSlot(t){this.whiskerSlot.y1=t.y1,this.whiskerSlot.y2=t.y2}calcMeanPoints(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]}calcWhiskerPoints(t,e){const i=e.center().y;return[[[e.x1,i-5],[e.x1,i+5],[e.x1,i],[t.x1,i]],[[e.x2,i-5],[e.x2,i+5],[e.x2,i],[t.x2,i]]]}calcMedianPoints(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]}},PR=class NR extends rp{addValue(t,e){const{categoryIx:i,category:s,series:o,seriesIx:r}=e,{children:a,options:c}=this,h=t.valueFields,d=Qx(this.splitValue(h)),p=o.data[i];let g,f=this.categoryPoints[i];f||(this.categoryPoints[i]=f=[]),d&&(g=this.createPoint(t,e));let m=a[i];m||(m=new hc({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing,rtl:!c.invertAxes&&(this.chartService||{}).rtl}),this.append(m)),g&&(this.updateRange(h,e),m.append(g),g.categoryIx=i,g.category=s,g.series=o,g.seriesIx=r,g.owner=this,g.dataItem=p),this.points.push(g),f.push(g)}pointType(){return this.options.invertAxes?RR:eb}splitValue(t){return[t.lower,t.q1,t.median,t.q3,t.upper]}updateRange(t,e){const i=e.series.axis;let s=this.valueAxisRanges[i],o=this.splitValue(t).concat(this.filterOutliers(t.outliers));k(t.mean)&&(o=o.concat(t.mean)),s=this.valueAxisRanges[i]=s||{min:je,max:Qe},s=this.valueAxisRanges[i]={min:Math.min.apply(Math,o.concat([s.min])),max:Math.max.apply(Math,o.concat([s.max]))}}formatPointValue(t,e){const i=t.value;return this.chartService.format.auto(e,i.lower,i.q1,i.median,i.q3,i.upper,i.mean,t.category)}filterOutliers(t){const e=(t||[]).length,i=[];for(let s=0;s<e;s++){const o=t[s];k(o)&&null!==o&&i.push(o)}return i}supportsPointInactiveOpacity(){return!1}},BR=class LR extends zx{getAxis(){const t=this.chart.seriesAxes(this.series);return this.isVertical?t.y:t.x}};function jt(n){return k(n)&&null!==n}class lp extends we{constructor(t,e){super(e),this.plotArea=t,this.chartService=t.chartService,this._initFields(),this.render()}_initFields(){this.xAxisRanges={},this.yAxisRanges={},this.points=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[]}render(){this.traverseDataPoints(this.addValue.bind(this))}addErrorBar(t,e,i){const s=t.value[e],o=e+"Value",r=e+"ErrorLow",a=e+"ErrorHigh",{seriesIx:c,series:h}=i,u=t.options.errorBars,d=i[r],p=i[a];if(he(s)){let f;he(d)&&he(p)&&(f={low:d,high:p}),u&&k(u[o])&&(this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]},this.seriesErrorRanges[e][c]=this.seriesErrorRanges[e][c]||new Tx(u[o],h,e),f=this.seriesErrorRanges[e][c].getErrorRange(s,u[o])),f&&this.addPointErrorBar(f,t,e)}}addPointErrorBar(t,e,i){const{low:s,high:o}=t,{series:r,options:{errorBars:a}}=e,c=i===W,h={};e[i+"Low"]=s,e[i+"High"]=o,e.errorBars=e.errorBars||[];const u=new BR(s,o,c,this,r,a);e.errorBars.push(u),e.append(u),h[i]=s,this.updateRange(h,r),h[i]=o,this.updateRange(h,r)}addValue(t,e){const{x:i,y:s}=t,o=e.seriesIx,a=this.seriesMissingValues(this.options.series[o]),c=this.seriesPoints[o];let u,h=t;jt(i)&&jt(s)||(h=this.createMissingValue(h,a)),h&&(u=this.createPoint(h,e),u&&(Object.assign(u,e),this.addErrorBar(u,V,e),this.addErrorBar(u,W,e)),this.updateRange(h,e.series)),this.points.push(u),c.push(u)}seriesMissingValues(t){return t.missingValues}createMissingValue(){}updateRange(t,e){const i=this.chartService.intl,{xAxis:s,yAxis:o}=e;let{x:r,y:a}=t,c=this.xAxisRanges[s],h=this.yAxisRanges[o];jt(r)&&(c=this.xAxisRanges[s]=c||{min:je,max:Qe},Xi(r)&&(r=gt(i,r)),c.min=Math.min(c.min,r),c.max=Math.max(c.max,r)),jt(a)&&(h=this.yAxisRanges[o]=h||{min:je,max:Qe},Xi(a)&&(a=gt(i,a)),h.min=Math.min(h.min,a),h.max=Math.max(h.max,a))}evalPointOptions(t,e,i){const{series:s,seriesIx:o}=i,r={defaults:s._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]};let a=this._evalSeries[o];k(a)||(this._evalSeries[o]=a=cn(t,{},r,!0));let c=t;return a&&(c=b({},t),cn(c,{value:e,series:s,dataItem:i.dataItem},r)),c}pointType(){return Es}pointOptions(t,e){let i=this.seriesOptions[e];if(!i){const s=this.pointType().prototype.defaults;this.seriesOptions[e]=i=b({},s,{markers:{opacity:t.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},t)}return i}createPoint(t,e){const i=e.series;let s=this.pointOptions(i,e.seriesIx),o=e.color||i.color;s=this.evalPointOptions(s,t,e),Pe(i.color)&&(o=s.color);const r=new Es(t,s);return r.color=o,this.append(r),r}seriesAxes(t){const{xAxis:e,yAxis:i}=t,s=this.plotArea,o=e?s.namedXAxes[e]:s.axisX,r=i?s.namedYAxes[i]:s.axisY;if(!o)throw new Error("Unable to locate X axis with name "+e);if(!r)throw new Error("Unable to locate Y axis with name "+i);return{x:o,y:r}}reflow(t){const e=this.points,i=!this.options.clip;let s=0;this.traverseDataPoints((o,r)=>{const a=e[s++],c=this.seriesAxes(r.series),h=c.x.getSlot(o.x,o.x,i),u=c.y.getSlot(o.y,o.y,i);if(a)if(h&&u){const d=this.pointSlot(h,u);a.reflow(d)}else a.visible=!1}),this.box=t}pointSlot(t,e){return new P(t.x1,e.y1,t.x2,e.y2)}traverseDataPoints(t){const{options:{series:e},seriesPoints:i}=this;for(let s=0;s<e.length;s++){const o=e[s];i[s]||(i[s]=[]);for(let a=0;a<o.data.length;a++){const{valueFields:c,fields:h}=this._bindPoint(o,s,a);t(c,b({pointIx:a,series:o,seriesIx:s,dataItem:o.data[a],owner:this},h))}}}formatPointValue(t,e){const i=t.value;return this.chartService.format.auto(e,i.x,i.y)}animationPoints(){const t=this.points,e=[];for(let i=0;i<t.length;i++)e.push((t[i]||{}).marker);return e}}M(lp,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0}),b(lp.prototype,ac,{_bindPoint:hn.prototype._bindPoint});const dc=lp;class pc extends Es{constructor(t,e){super(t,e),this.category=t.category}createHighlight(){const t=this.options.highlight,e=t.border,i=this.options.markers,s=this.box.center(),o=(i.size+i.border.width+e.width)/2,r=new ge,a=new fi(new wt([s.x,s.y+o/5+e.width/2],o+e.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:i.background,stops:[{offset:0,color:i.background,opacity:.3},{offset:1,color:i.background,opacity:0}]})}),c=new fi(new wt([s.x,s.y],o),{stroke:{color:e.color||new ti(i.background).brightness(.8).toHex(),width:e.width,opacity:e.opacity},fill:{color:i.background,opacity:t.opacity}});return r.append(a,c),r}}pc.prototype.defaults=b({},pc.prototype.defaults,{labels:{position:re},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}}),pc.prototype.defaults.highlight.zIndex=void 0;const tb=pc;class ib extends dc{_initFields(){this._maxSize=Qe,super._initFields()}addValue(t,e){null!==t.size&&(t.size>0||t.size<0&&e.series.negativeValues.visible)?(this._maxSize=Math.max(this._maxSize,Math.abs(t.size)),super.addValue(t,e)):(this.points.push(null),this.seriesPoints[e.seriesIx].push(null))}reflow(t){this.updateBubblesSize(t),super.reflow(t)}pointType(){return tb}createPoint(t,e){const i=e.series,o=e.pointIx*(ni/i.data.length),r={delay:o,duration:ni-o,type:uo};let a=e.color||i.color;t.size<0&&i.negativeValues.visible&&(a=ie(i.negativeValues.color,a));let c=b({labels:{animation:{delay:o,duration:ni-o}}},this.pointOptions(i,e.seriesIx),{markers:{type:mi,border:i.border,opacity:i.opacity,animation:r}});c=this.evalPointOptions(c,t,e),Pe(i.color)&&(a=c.color),c.markers.background=a;const h=new tb(t,c);return h.color=a,this.append(h),h}updateBubblesSize(t){const{options:{series:e}}=this,i=Math.min(t.width(),t.height());for(let s=0;s<e.length;s++){const o=e[s],r=this.seriesPoints[s],h=(o.minSize||Math.max(.02*i,10))/2,u=(o.maxSize||.2*i)/2,d=Math.PI*h*h,g=(Math.PI*u*u-d)/this._maxSize;for(let m=0;m<r.length;m++){const _=r[m];if(_){const v=Math.abs(_.value.size)*g,x=Math.sqrt((d+v)/Math.PI),T=ie(_.options.zIndex,0)+(1-x/u);b(_.options,{zIndex:T,markers:{size:2*x,zIndex:T},labels:{zIndex:T+1}})}}}}formatPointValue(t,e){const i=t.value;return this.chartService.format.auto(e,i.x,i.y,i.size,t.category)}createAnimation(){}createVisual(){}}M(ib,{tooltip:{format:"{3}"},labels:{format:"{3}"}});const FR=ib;class nb extends Fn{}b(nb.prototype,wi);const zR=nb;class qr extends we{constructor(t,e){super(e),this.aboveAxis=this.options.aboveAxis,this.color=e.color||ve,this.value=t}render(){const t=this.options;this._rendered||(this._rendered=!0,k(this.value.target)&&(this.target=new zR({type:t.target.shape,background:t.target.color||this.color,opacity:t.opacity,zIndex:t.zIndex,border:t.target.border,vAlign:_e,align:be}),this.target.value=this.value,this.target.dataItem=this.dataItem,this.target.series=this.series,this.append(this.target)),this.createLabel(),this.createNote())}createLabel(){const e=this.options.labels;if(e.visible){const i=this.pointData();let o,s=nt(e);o=s?s(i):this.formatValue(e.format),this.label=new ip(o,e,i),this.append(this.label)}}reflow(t){this.render();const{options:e,target:i,owner:s}=this,o=e.invertAxes,r=s.seriesValueAxis(this.options),a=s.categorySlot(s.categoryAxis,e.categoryIx,r),c=r.getSlot(this.value.target),h=o?c:a,u=o?a:c;if(i){const p=new P(h.x1,u.y1,h.x2,u.y2);i.options.height=o?p.height():e.target.line.width,i.options.width=o?e.target.line.width:p.width(),i.reflow(p)}const d=this.label;d&&(d.options.aboveAxis=this.aboveAxis,d.reflow(t)),this.note&&this.note.reflow(t),this.box=t}createVisual(){super.createVisual();const t=this.options,e=G.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:t.opacity},stroke:null});t.border.width>0&&e.options.set("stroke",{color:t.border.color||this.color,width:t.border.width,dashType:t.border.dashType,opacity:ie(t.border.opacity,t.opacity)}),this.bodyVisual=e,Xt(e),this.visual.append(e)}createAnimation(){this.bodyVisual&&(this.animation=Ht.create(this.bodyVisual,this.options.animation))}createHighlight(t){return G.fromRect(this.box.toRect(),t)}highlightVisual(){return this.bodyVisual}highlightVisualArgs(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}}formatValue(t){return this.owner.formatPointValue(this,t)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series}}overlapsBox(t){return this.box.overlaps(t)}}qr.prototype.tooltipAnchor=sp.prototype.tooltipAnchor,M(qr,{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},labels:{visible:!1},tooltip:{format:"Current: {0}<br />Target: {1}"},notes:{label:{}}}),b(qr.prototype,wi),b(qr.prototype,So);const GR=qr;class cp extends hn{constructor(t,e){(function UR(n){const t=n.series;for(let e=0;e<t.length;e++){const i=t[e],s=i.data;s&&!ut(s[0])&&!_i(s[0])&&(i.data=[s])}})(e),super(t,e)}reflowCategories(t){const e=this.children,i=e.length;for(let s=0;s<i;s++)e[s].reflow(t[s])}plotRange(t){const i=this.seriesValueAxis(t.series),s=this.categoryAxisCrossingValue(i);return[s,t.value.current||s]}createPoint(t,e){const{categoryIx:i,category:s,series:o,seriesIx:r}=e,{options:a,children:c}=this,h=t.valueFields;let u=b({vertical:!a.invertAxes,overlay:o.overlay,categoryIx:i,invertAxes:a.invertAxes},o),d=t.fields.color||o.color;u=this.evalPointOptions(u,h,s,i,o,r),Pe(o.color)&&(d=u.color);const p=new GR(h,u);p.color=d;let f=c[i];return f||(f=new hc({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(f)),f.append(p),p}updateRange(t,e){const{current:i,target:s}=t,o=e.series.axis;let r=this.valueAxisRanges[o];k(i)&&!isNaN(i)&&k(s&&!isNaN(s))&&(r=this.valueAxisRanges[o]=r||{min:je,max:Qe},r.min=Math.min(r.min,i,s),r.max=Math.max(r.max,i,s))}formatPointValue(t,e){return this.chartService.format.auto(e,t.value.current,t.value.target)}pointValue(t){return t.valueFields.current}aboveAxis(t){return t.value.current>0}createAnimation(){const t=this.points;this._setAnimationOptions();for(let e=0;e<t.length;e++){const i=t[e];i.options.animation=this.options.animation,i.createAnimation()}}}cp.prototype._setAnimationOptions=Yr.prototype._setAnimationOptions,M(cp,{animation:{type:Si}});const HR=cp;class sb extends U{constructor(t,e){super(),this.chartService=t,this.options=b({},this.options,e)}getStyle(t,e){let{background:i,border:{color:s}}=t;if(e){const r=e.color||e.options.color;i=ie(i,r),s=ie(s,r)}const o=ke(t.padding||{},"auto");return{backgroundColor:i,borderColor:s,font:t.font,color:t.color,opacity:t.opacity,borderWidth:oo(t.border.width),paddingTop:oo(o.top),paddingBottom:oo(o.bottom),paddingLeft:oo(o.left),paddingRight:oo(o.right)}}show(t,e,i){t.format=e.format;const s=this.getStyle(e,i);t.style=s;const o=new ti(s.backgroundColor);!k(e.color)&&!o.isDark()&&(t.className="k-chart-tooltip-inverse"),this.chartService.notify(Px,t),this.visible=!0}hide(){this.chartService&&this.chartService.notify(Lx),this.visible=!1}destroy(){delete this.chartService}}M(sb,{border:{width:1},opacity:1});const hp=sb;class ob extends hp{constructor(t,e,i){super(t,i),this.crosshair=e,this.formatService=t.format,this.initAxisName()}initAxisName(){const t=this.crosshair.axis;let i;i=t.plotArea.categoryAxis?t.getCategory?"categoryAxis":"valueAxis":t.options.vertical?"yAxis":"xAxis",this.axisName=i}showAt(t){const{crosshair:{axis:e},options:i}=this;let s=e[i.stickyMode?"getCategory":"getValue"](t),o=s;i.format?o=this.formatService.auto(i.format,s):e.options.type===Ln&&(o=this.formatService.auto(e.options.labels.dateFormats[e.options.baseUnit],s)),this.show({point:t,anchor:this.getAnchor(),crosshair:this.crosshair,value:o,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)}hide(){this.chartService.notify(Lx,{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})}getAnchor(){const{crosshair:t,options:{position:e,padding:i}}=this,s=!t.axis.options.vertical,o=t.line.bbox();let r,a,c;return s?(r=re,e===Se?(a=_e,c=o.bottomLeft().translate(0,i)):(a=Se,c=o.topLeft().translate(0,-i))):(a=re,e===fe?(r=be,c=o.topLeft().translate(-i,0)):(r=fe,c=o.topRight().translate(i,0))),{point:c,align:{horizontal:r,vertical:a}}}}M(ob,{padding:10});const VR=ob;class rb extends we{constructor(t,e,i){super(i),this.axis=e,this.stickyMode=e instanceof on;const s=this.options.tooltip;s.visible&&(this.tooltip=new VR(t,this,b({},s,{stickyMode:this.stickyMode})))}showAt(t){this.point=t,this.moveLine(),this.line.visible(!0),this.tooltip&&this.tooltip.showAt(t)}hide(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()}moveLine(){const{axis:t,point:e}=this,i=t.options.vertical,s=this.getBox(),o=i?W:V,r=new A(s.x1,s.y1);let a;if(a=i?new A(s.x2,s.y1):new A(s.x1,s.y2),e)if(this.stickyMode){const c=t.getSlot(t.pointCategoryIndex(e));r[o]=a[o]=c.center()[o]}else r[o]=a[o]=e[o];this.box=s,this.line.moveTo(r).lineTo(a)}getBox(){const t=this.axis,e=t.pane.axes,i=e.length,s=t.options.vertical,o=t.lineBox().clone(),r=s?V:W;let a;for(let c=0;c<i;c++){const h=e[c];h.options.vertical!==s&&(a?a.wrap(h.lineBox()):a=h.lineBox().clone())}return o[r+1]=a[r+1],o[r+2]=a[r+2],o}createVisual(){super.createVisual();const t=this.options;this.line=new G({stroke:{color:t.color,width:t.width,opacity:t.opacity,dashType:t.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)}destroy(){this.tooltip&&this.tooltip.destroy(),super.destroy()}}M(rb,{color:Ve,width:2,zIndex:-1,tooltip:{visible:!1}});const jR=rb;class ab extends we{constructor(t,e){super(t),this.pane=e}shouldClip(){const t=this.children,e=t.length;for(let i=0;i<e;i++)if(!0===t[i].options.clip)return!0;return!1}_clipBox(){return this.pane.chartsBox()}createVisual(){if(this.visual=new ge({zIndex:0}),this.shouldClip()){const e=(this.clipBox=this._clipBox()).toRect(),i=G.fromRect(e);Xt(i),this.visual.clip(i),this.unclipLabels()}}stackRoot(){return this}unclipLabels(){const{children:t,clipBox:e}=this;for(let i=0;i<t.length;i++){const s=t[i].points||{},o=s.length;for(let r=0;r<o;r++){const a=s[r];if(a&&!1!==a.visible&&a.overlapsBox&&a.overlapsBox(e))if(a.unclipElements)a.unclipElements();else{const{label:c,note:h}=a;c&&c.options.visible&&(c.alignToClipBox&&c.alignToClipBox(e),c.options.noclip=!0),h&&h.options.visible&&(h.options.noclip=!0)}}}}destroy(){super.destroy(),delete this.parent}}ab.prototype.isStackRoot=!0;const WR=ab;class Kr extends xs{constructor(t){super(t),this.id=function $R(){return"pane"+ZR++}(),this.createTitle(),this.content=new we,this.chartContainer=new WR({},this),this.append(this.content),this.axes=[],this.charts=[]}createTitle(){let t=this.options.title;_i(t)&&(t=b({},t,{align:t.position,position:_e})),this.title=Il.buildTitle(t,Kr.prototype.options.title),this.title&&this.append(this.title)}appendAxis(t){this.content.append(t),this.axes.push(t),t.pane=this}appendAxisAt(t,e){this.content.append(t),this.axes.splice(e,0,t),t.pane=this}appendChart(t){this.chartContainer.parent!==this.content&&this.content.append(this.chartContainer),this.charts.push(t),this.chartContainer.append(t),t.pane=this}empty(){const t=this.parent;if(t){for(let e=0;e<this.axes.length;e++)t.removeAxis(this.axes[e]);for(let e=0;e<this.charts.length;e++)t.removeChart(this.charts[e])}this.axes=[],this.charts=[],this.content.destroy(),this.content.children=[],this.chartContainer.children=[]}reflow(t){let e;We(this.children)===this.content&&(e=this.children.pop()),super.reflow(t),e&&this.children.push(e),this.title&&(this.contentBox.y1+=this.title.box.height())}visualStyle(){const t=super.visualStyle();return t.zIndex=-10,t}renderComplete(){this.options.visible&&this.createGridLines()}stackRoot(){return this}clipRoot(){return this}createGridLines(){const t=this.axes,e=t.concat(this.parent.axes),i=[],s=[];for(let o=0;o<t.length;o++){const r=t[o],a=r.options.vertical,c=a?i:s;for(let h=0;h<e.length;h++)if(0===c.length){const u=e[h];a!==u.options.vertical&&vs(c,r.createGridLines(u))}}}refresh(){this.visual.clear(),this.content.parent=null,this.content.createGradient=this.createGradient.bind(this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete(),this.notifyRender()}chartsBox(){const t=this.axes,e=t.length,i=new P;for(let s=0;s<e;s++){const o=t[s],r=o.options.vertical?W:V,a=o.lineBox();i[r+1]=a[r+1],i[r+2]=a[r+2]}if(0===i.x2){const s=this.parent.axes,o=s.length;for(let r=0;r<o;r++){const a=s[r];if(!a.options.vertical){const c=a.lineBox();i.x1=c.x1,i.x2=c.x2}}}return i}clipBox(){return this.chartContainer.clipBox}notifyRender(){const t=this.getService();t&&t.notify("paneRender",{pane:new Od(this),index:this.paneIndex,name:this.options.name})}}let ZR=1;Kr.prototype.isStackRoot=!0,M(Kr,{zIndex:-1,shrinkToFit:!0,title:{align:fe},visible:!0});const YR=Kr;function fc(n,t){null!==t&&n.push(t)}function qR(n,t,e){const i=t.visible;if(k(i))return i;const s=n.pointVisibility;return s?s[e]:void 0}function lb(n){const t=n.data,e=[];let i=0,s=0;for(let o=0;o<t.length;o++){const r=Ze.current.bindPoint(n,o);let a=r.valueFields.value;Xi(a)&&(a=parseFloat(a)),he(a)?(r.visible=!1!==qR(n,r.fields,o),r.value=Math.abs(a),e.push(r),r.visible&&(i+=r.value),0!==a&&s++):e.push(null)}return{total:i,points:e,count:s}}function Hn(n,t){return n&&t?n.toLowerCase()===t.toLowerCase():n===t}function $e(n,t){const e=[],i=[].concat(t);for(let s=0;s<n.length;s++){const o=n[s];de(o.type,i)&&e.push(o)}return e}function cb(n,t,e){if(null===t)return t;const i="_date_"+n;let s=t[i];return s||(s=gt(e,en(n)(t)),t[i]=s),s}function hb(n,t){const e=n.type,i=t instanceof Date;return!e&&i||Hn(e,Ln)}function Eo(n){return 1===n.length?n[0]:n}const KR=/area/i;function up(n,t){const i=Ze.current.bindPoint(n,null,t).valueFields;for(let s in i)if(Tv(i[s]))return!0}function ub({start:n,dir:t,min:e,max:i,getter:s,hasItem:o,series:r}){let a,c,h=n;do{h+=t,o(h)&&(c=s(h),a=up(r,c.item))}while(e<=h&&h<=i&&!a);if(a)return c}function db(n,t,e,i,s){const{min:o,max:r}=t,a=o>0&&o<e,c=r+1<e;if(a||c){const h=function JR(n){return n.missingValues?n.missingValues:KR.test(n.type)||n.stack?an:co}(n);let u,d;if(h!==co)a&&(u=i(o-1)),c&&(d=i(r+1));else{let p,f;a&&(p=i(o-1),f=up(n,p.item),u=f?p:ub({start:o,dir:-1,min:0,max:e-1,getter:i,hasItem:s,series:n})),c&&(p=i(r+1),f=up(n,p.item),d=f?p:ub({start:r,dir:1,min:0,max:e-1,getter:i,hasItem:s,series:n}))}u&&(n._outOfRangeMinPoint=u),d&&(n._outOfRangeMaxPoint=d)}}class pb extends we{constructor(t,e,i){super(e),this.initFields(t,e),this.series=t,this.initSeries(),this.charts=[],this.options.legend=this.options.legend||{},this.options.legend.items=[],this.axes=[],this.crosshairs=[],this.chartService=i,this.originalOptions=e,this.createPanes(),this.render(),this.createCrosshairs()}initFields(){}initSeries(){const t=this.series;for(let e=0;e<t.length;e++)t[e].index=e}createPanes(){const t=this.options.title||{},e=this.options.paneDefaults,i=this.options.panes||[],s=Math.max(i.length,1),o=[],r=b({title:{color:t.color}},e);for(let a=0;a<s;a++){const c=b({},r,i[a]);Xi(c.title)&&(c.title=b({text:c.title},r.title));const h=new YR(c);h.paneIndex=a,o.push(h),this.append(h)}this.panes=o}crosshairOptions(t){return t.options.crosshair}createCrosshairs(t=this.panes){for(let e=0;e<t.length;e++){const i=t[e];for(let s=0;s<i.axes.length;s++){const o=i.axes[s],r=this.crosshairOptions(o);if(r&&r.visible){const a=new jR(this.chartService,o,r);this.crosshairs.push(a),i.content.append(a)}}}}removeCrosshairs(t){const e=this.crosshairs,i=t.axes;for(let s=e.length-1;s>=0;s--)for(let o=0;o<i.length;o++)if(e[s].axis===i[o]){e.splice(s,1);break}}hideCrosshairs(){const t=this.crosshairs;for(let e=0;e<t.length;e++)t[e].hide()}findPane(t){const e=this.panes;let i;for(let s=0;s<e.length;s++)if(e[s].options.name===t){i=e[s];break}return i||e[0]}findPointPane(t){const e=this.panes;let i;for(let s=0;s<e.length;s++)if(e[s].box.containsPoint(t)){i=e[s];break}return i}appendAxis(t){this.findPane(t.options.pane).appendAxis(t),this.axes.push(t),t.plotArea=this}removeAxis(t){const e=[];for(let i=0;i<this.axes.length;i++){const s=this.axes[i];t!==s?e.push(s):s.destroy()}this.axes=e}appendChart(t,e){this.charts.push(t),e?e.appendChart(t):this.append(t)}removeChart(t){const e=[];for(let i=0;i<this.charts.length;i++){const s=this.charts[i];s!==t?e.push(s):s.destroy()}this.charts=e}addToLegend(t){const e=t.length,i=this.options.legend,s=i.labels||{},o=i.inactiveItems||{},r=o.labels||{},a=[];for(let c=0;c<e;c++){const h=t[c],u=!1!==h.visible;if(!1===h.visibleInLegend)continue;let d=h.name;const p=u?nt(s):nt(r)||nt(s);p&&(d=p({text:jt(d)?d:"",series:h}));const f=h._defaults;let m,_,g=h.color;Pe(g)&&f&&(g=f.color),u?(m={},_=g):(m={color:r.color,font:r.font},_=o.markers.color),jt(d)&&""!==d&&a.push({text:d,labels:m,markerColor:_,series:h,active:u})}vs(i.items,a)}groupAxes(t){const e=[],i=[];for(let s=0;s<t.length;s++){const o=t[s].axes;for(let r=0;r<o.length;r++){const a=o[r];a.options.vertical?i.push(a):e.push(a)}}return{x:e,y:i,any:e.concat(i)}}groupSeriesByPane(){const t=this.series,e={};for(let i=0;i<t.length;i++){const s=t[i],o=this.seriesPaneName(s);e[o]?e[o].push(s):e[o]=[s]}return e}filterVisibleSeries(t){const e=[];for(let i=0;i<t.length;i++){const s=t[i];!1!==s.visible&&e.push(s)}return e}reflow(t){const i=this.panes,s=ke(this.options.plotArea.margin);this.box=t.clone().unpad(s),this.reflowPanes(),this.detachLabels(),this.reflowAxes(i),this.reflowCharts(i)}redraw(t){const e=[].concat(t);this.initSeries();const i=this.getRoot();i&&i.cleanGradients();for(let s=0;s<e.length;s++)this.removeCrosshairs(e[s]),e[s].empty();this.render(e),this.detachLabels(),this.reflowAxes(this.panes),this.reflowCharts(e),this.createCrosshairs(e);for(let s=0;s<e.length;s++)e[s].refresh()}axisCrossingValues(t,e){const i=t.options,s=[].concat(i.axisCrossingValues||i.axisCrossingValue),o=e.length-s.length,r=s[0]||0;for(let a=0;a<o;a++)s.push(r);return s}alignAxisTo(t,e,i,s){const o=t.getSlot(i,i,!0),r=t.options.reverse?2:1,a=e.getSlot(s,s,!0),c=e.options.reverse?2:1,h=t.box.translate(a[V+c]-o[V+r],a[W+c]-o[W+r]);t.pane!==e.pane&&h.translate(0,t.pane.box.y1-e.pane.box.y1),t.reflow(h)}alignAxes(t,e){const i=t[0],s=e[0],o=this.axisCrossingValues(i,e),r=this.axisCrossingValues(s,t),a={},c={},h={},u={};for(let d=0;d<e.length;d++){const p=e[d],f=p.pane,g=f.id,m=!1!==p.options.visible,_=pp(t,f)||i;let v=o;_!==i&&(v=this.axisCrossingValues(_,e)),this.alignAxisTo(p,_,r[d],v[d]),!p.options._overlap&&(N(p.lineBox().x1)===N(_.lineBox().x1)&&(a[g]&&p.reflow(p.box.alignTo(a[g].box,fe).translate(-p.options.margin,0)),m&&(a[g]=p)),N(p.lineBox().x2)===N(_.lineBox().x2)&&(p._mirrored||(p.options.labels.mirror=!p.options.labels.mirror,p._mirrored=!0),this.alignAxisTo(p,_,r[d],v[d]),c[g]&&p.reflow(p.box.alignTo(c[g].box,be).translate(p.options.margin,0)),m&&(c[g]=p)),0!==d&&s.pane===p.pane&&(p.alignTo(s),p.reflow(p.box)))}for(let d=0;d<t.length;d++){const p=t[d],f=p.pane,g=f.id,m=!1!==p.options.visible,_=pp(e,f)||s;let v=r;_!==s&&(v=this.axisCrossingValues(_,t)),this.alignAxisTo(p,_,o[d],v[d]),!p.options._overlap&&(N(p.lineBox().y1)===N(_.lineBox().y1)&&(p._mirrored||(p.options.labels.mirror=!p.options.labels.mirror,p._mirrored=!0),this.alignAxisTo(p,_,o[d],v[d]),h[g]&&p.reflow(p.box.alignTo(h[g].box,_e).translate(0,-p.options.margin)),m&&(h[g]=p)),N(p.lineBox().y2,3)===N(_.lineBox().y2,3)&&(u[g]&&p.reflow(p.box.alignTo(u[g].box,Se).translate(0,p.options.margin)),m&&(u[g]=p)),0!==d&&(p.alignTo(i),p.reflow(p.box)))}}shrinkAxisWidth(t){const e=this.groupAxes(t).any,i=dp(e);let s=0;for(let o=0;o<t.length;o++){const r=t[o];r.axes.length>0&&(s=Math.max(s,i.width()-r.contentBox.width()))}if(0!==s)for(let o=0;o<e.length;o++){const r=e[o];r.options.vertical||r.reflow(r.box.shrink(s,0))}}shrinkAxisHeight(t){let e;for(let i=0;i<t.length;i++){const s=t[i],o=s.axes,r=Math.max(0,dp(o).height()-s.contentBox.height());if(0!==r){for(let a=0;a<o.length;a++){const c=o[a];c.options.vertical&&c.reflow(c.box.shrink(0,r))}e=!0}}return e}fitAxes(t){const e=this.groupAxes(t).any;let i=0;for(let s=0;s<t.length;s++){const o=t[s],r=o.axes,a=o.contentBox;if(r.length>0){const c=dp(r),h=Math.max(a.y1-c.y1,a.y2-c.y2);i=Math.max(i,a.x1-c.x1);for(let u=0;u<r.length;u++){const d=r[u];d.reflow(d.box.translate(0,h))}}}for(let s=0;s<e.length;s++){const o=e[s];o.reflow(o.box.translate(i,0))}}reflowAxes(t){const e=this.groupAxes(t);for(let i=0;i<t.length;i++)this.reflowPaneAxes(t[i]);e.x.length>0&&e.y.length>0&&(this.alignAxes(e.x,e.y),this.shrinkAxisWidth(t),this.autoRotateAxisLabels(e),this.alignAxes(e.x,e.y),this.shrinkAxisWidth(t)&&this.alignAxes(e.x,e.y),this.shrinkAxisHeight(t),this.alignAxes(e.x,e.y),this.shrinkAxisHeight(t)&&this.alignAxes(e.x,e.y),this.fitAxes(t))}autoRotateAxisLabels(t){const{panes:e}=this,i=e2(e);let s;for(let o=0;o<i.length;o++)i[o].autoRotateLabels()&&(s=!0);if(s){for(let o=0;o<e.length;o++)this.reflowPaneAxes(e[o]);t.x.length>0&&t.y.length>0&&(this.alignAxes(t.x,t.y),this.shrinkAxisWidth(e))}}reflowPaneAxes(t){const e=t.axes,i=e.length;if(i>0)for(let s=0;s<i;s++)e[s].reflow(t.contentBox)}reflowCharts(t){const e=this.charts,i=e.length,s=this.box;for(let o=0;o<i;o++){const r=e[o].pane;(!r||de(r,t))&&e[o].reflow(s)}}reflowPanes(){const{box:t,panes:e}=this,i=e.length;let s=t.height(),r=0,a=t.y1;for(let c=0;c<i;c++){const h=e[c],u=h.options.height;if(h.options.width=t.width(),h.options.height){if(u.indexOf&&u.indexOf("%")){const d=parseInt(u,10)/100;h.options.height=d*t.height()}h.reflow(t.clone()),s-=h.options.height}else r++}for(let c=0;c<i;c++){const h=e[c];h.options.height||(h.options.height=s/r)}for(let c=0;c<i;c++){const h=e[c],u=t.clone().move(t.x1,a);h.reflow(u),a+=h.options.height}}backgroundBox(){const t=this.axes,e=t.length;let i;for(let s=0;s<e;s++){const o=t[s];for(let r=0;r<e;r++){const a=t[r];if(o.options.vertical!==a.options.vertical){const c=o.lineBox().clone().wrap(a.lineBox());i=i?i.wrap(c):c}}}return i||this.box}chartsBoxes(){const t=this.panes,e=[];for(let i=0;i<t.length;i++)e.push(t[i].chartsBox());return e}addBackgroundPaths(t){const e=this.chartsBoxes();for(let i=0;i<e.length;i++)t.paths.push(G.fromRect(e[i].toRect()))}backgroundContainsPoint(t){const e=this.chartsBoxes();for(let i=0;i<e.length;i++)if(e[i].containsPoint(t))return!0}createVisual(){super.createVisual();const t=this.options.plotArea;let{opacity:e,background:i,border:s={}}=t;(function XR(n){return""===n||null===n||"none"===n||"transparent"===n||!k(n)})(i)&&(i=ve,e=0);const o=this._bgVisual=new Oi({fill:{color:i,opacity:e},stroke:{color:s.width?s.color:"",width:s.width,dashType:s.dashType},zIndex:-1});this.addBackgroundPaths(o),this.appendVisual(o)}pointsByCategoryIndex(t){const e=this.charts,i=[];if(null!==t)for(let s=0;s<e.length;s++){if("_navigator"===e[s].pane.options.name)continue;const r=e[s].categoryPoints[t];if(r&&r.length)for(let a=0;a<r.length;a++){const c=r[a];c&&k(c.value)&&null!==c.value&&i.push(c)}}return i}pointsBySeriesIndex(t){return this.filterPoints(function(e){return e.series.index===t})}pointsBySeriesName(t){return this.filterPoints(function(e){return e.series.name===t})}filterPoints(t){const e=this.charts,i=[];for(let s=0;s<e.length;s++){const r=e[s].points;for(let a=0;a<r.length;a++){const c=r[a];c&&!1!==c.visible&&t(c)&&i.push(c)}}return i}findPoint(t){const e=this.charts;for(let i=0;i<e.length;i++){const o=e[i].points;for(let r=0;r<o.length;r++){const a=o[r];if(a&&!1!==a.visible&&t(a))return a}}}paneByPoint(t){const e=this.panes;for(let i=0;i<e.length;i++){const s=e[i];if(s.box.containsPoint(t))return s}}detachLabels(){const t=this.groupAxes(this.panes),e=t.x,i=t.y;this.detachAxisGroupLabels(i,e),this.detachAxisGroupLabels(e,i)}detachAxisGroupLabels(t,e){let i=0;for(let s=0;s<t.length;s++){const o=t[s],r=o.pane,a=pp(e,r)||e[0],h=this.createLabelAxis(o,s+i,a);if(h){i++;const u=r.axes.indexOf(o)+i;r.appendAxisAt(h,u)}}}createLabelAxis(t,e,i){const s=t.options.labels,o=s.position;if("end"!==o&&"start"!==o||!1===s.visible)return null;const c=this.groupAxes(this.panes),u=this.axisCrossingValues(i,i.options.vertical?c.x:c.y),d="end"===o,p=i.range(),f=d?p.max:p.min;if(J(u[e],p.min,p.max)-f==0)return null;u.splice(e+1,0,f),i.options.axisCrossingValues=u;const m=t.clone();return t.clear(),m.options.name=void 0,m.options.line.visible=!1,m.options.crosshair=void 0,m.options.notes=void 0,m.options.plotBands=void 0,m}}function QR(n){return!n.pane.axes.some(t=>t.options.vertical===n.options.vertical&&t!==n&&!1!==t.options.visible)}function dp(n){const t=n.length;let e;for(let i=0;i<t;i++){const s=n[i],o=!1!==s.options.visible;if(o||QR(s)){const r=o?s.contentBox():s.lineBox();e?e.wrap(r):e=r.clone()}}return e||new P}function pp(n,t){for(let e=0;e<n.length;e++){const i=n[e];if(i&&i.pane===t)return i}}const e2=n=>n.reduce((t,e)=>t.concat(e.axes),[]);M(pb,{series:[],plotArea:{margin:{}},background:"",border:{color:Ve,width:0},paneDefaults:{title:{}},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});const Vn=pb,Jr={hover:function(n,t){this._dispatchEvent(n,t,Nx)},click:function(n,t){this._dispatchEvent(n,t,"plotAreaClick")}};function n2(n,t,e){let i=t,s=n;if(n.indexOf(".")>-1){const o=n.split(".");for(;o.length>1;)s=o.shift(),k(i[s])||(i[s]={}),i=i[s];s=o.shift()}i[s]=e}const s2=class t2 extends U{constructor(t,e,i){super();const s=e.canonicalFields(t),o=e.valueFields(t),r=e.sourceFields(t,s),a=this._seriesFields=[],c=i.query(t.type),h=t.aggregate||c;this._series=t,this._binder=e;for(let u=0;u<s.length;u++){const d=s[u];let p;if(_i(h))p=h[d];else{if(0!==u&&!de(d,o))break;p=h}p&&a.push({canonicalName:d,name:r[u],transform:Pe(p)?p:qO[p]})}}aggregatePoints(t,e){const{_series:i,_seriesFields:s}=this,o=this._bindPoints(t||[]),r=o.dataItems[0];let a={};if(r&&!he(r)&&!ut(r)){const c=function(){};c.prototype=r,a=new c}for(let c=0;c<s.length;c++){const h=s[c],u=this._bindField(o.values,h.canonicalName),d=h.transform(u,i,o.dataItems,e);if(!(null===d||!_i(d)||k(d.length)||d instanceof Date)){a=d;break}k(d)&&n2(h.name,a,d)}return a}_bindPoints(t){const{_binder:e,_series:i}=this,s=[],o=[];for(let r=0;r<t.length;r++){const a=t[r];s.push(e.bindPoint(i,a)),o.push(i.data[a])}return{values:s,dataItems:o}}_bindField(t,e){const i=[],s=t.length;for(let o=0;o<s;o++){const r=t[o],a=r.valueFields;let c;c=k(a[e])?a[e]:r.fields[e],i.push(c)}return i}};class fp extends U{constructor(){super(),this._defaults={}}register(t,e){for(let i=0;i<t.length;i++)this._defaults[t[i]]=e}query(t){return this._defaults[t]}}fp.current=new fp;const ks=fp;class gp extends sp{createLabel(){const t=this.options.labels,e=b({},t,t.from),i=b({},t,t.to);e.visible&&(this.labelFrom=this._createLabel(e),this.append(this.labelFrom)),i.visible&&(this.labelTo=this._createLabel(i),this.append(this.labelTo))}_createLabel(t){const e=nt(t),i=this.pointData();let s;return s=e?e(i):this.formatValue(t.format),new ip(s,b({vertical:this.options.vertical},t),i)}reflow(t){this.render();const{labelFrom:e,labelTo:i,value:s}=this;this.box=t,e&&(e.options.aboveAxis=s.from>s.to,e.reflow(t)),i&&(i.options.aboveAxis=s.to>s.from,i.reflow(t)),this.note&&this.note.reflow(t)}}gp.prototype.defaults=b({},gp.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});const o2=gp;class fb extends Yr{pointType(){return o2}pointValue(t){return t.valueFields}formatPointValue(t,e){return null===t.value.from&&null===t.value.to?"":this.chartService.format.auto(e,t.value.from,t.value.to)}plotRange(t){return t?[t.value.from,t.value.to]:0}updateRange(t,e){const i=e.series.axis,{from:s,to:o}=t;let r=this.valueAxisRanges[i];null!==t&&he(s)&&he(o)&&(r=this.valueAxisRanges[i]=r||{min:je,max:Qe},r.min=Math.min(r.min,s),r.max=Math.max(r.max,s),r.min=Math.min(r.min,o),r.max=Math.max(r.max,o))}aboveAxis(t){const e=t.value;return e.from<e.to}}fb.prototype.plotLimits=hn.prototype.plotLimits;const r2=fb,gb=class a2 extends Es{aliasFor(){return this.parent}};class gc extends we{constructor(t,e){super(),this.value=t,this.options=e,this.aboveAxis=ie(this.options.aboveAxis,!0),this.tooltipTracking=!0,this.initLabelsFormat()}render(){if(this._rendered)return;this._rendered=!0;const{markers:t,labels:e}=this.options,i=this.value,s=this.fromPoint=new gb(i,b({},this.options,{labels:e.from,markers:t.from})),o=this.toPoint=new gb(i,b({},this.options,{labels:e.to,markers:t.to}));this.copyFields(s),this.copyFields(o),this.append(s),this.append(o)}reflow(t){this.render();const{from:e,to:i}=t;this.positionLabels(e,i),this.fromPoint.reflow(e),this.toPoint.reflow(i),this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())}createHighlight(){const t=new ge;return t.append(this.fromPoint.createHighlight()),t.append(this.toPoint.createHighlight()),t}highlightVisual(){return this.visual}highlightVisualArgs(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}}tooltipAnchor(){const t=this.owner.pane.clipBox();if(!t||t.overlaps(this.box)){const i=this.box,s=i.center(),o=fe;let r,a,c;return this.options.vertical?(r=s.x,a=i.y1-5,c=Se):(r=i.x2+5,a=s.y,c=re),{point:new te(r,a),align:{horizontal:o,vertical:c}}}}formatValue(t){return this.owner.formatPointValue(this,t)}overlapsBox(t){return this.box.overlaps(t)}unclipElements(){this.fromPoint.unclipElements(),this.toPoint.unclipElements()}initLabelsFormat(){const t=this.options.labels;t.format||((!t.from||!t.from.format)&&(t.from=Object.assign({},t.from,{format:"{0}"})),(!t.to||!t.to.format)&&(t.to=Object.assign({},t.to,{format:"{1}"})))}positionLabels(t,e){const{labels:i,vertical:s}=this.options;if("auto"===i.position){let o,r;s?e.y1<=t.y1?(r=Jl,o=Ld):(r=Ld,o=Jl):e.x1<=t.x1?(r=fe,o=be):(r=be,o=fe),(!i.from||!i.from.position)&&(this.fromPoint.options.labels.position=o),(!i.to||!i.to.position)&&(this.toPoint.options.labels.position=r)}}copyFields(t){t.dataItem=this.dataItem,t.category=this.category,t.series=this.series,t.color=this.color,t.owner=this.owner}}b(gc.prototype,wi),b(gc.prototype,So),gc.prototype.defaults={markers:{visible:!1,background:ve,size:8,type:mi,border:{width:2},opacity:1},labels:{visible:!1,margin:ke(3),padding:ke(4),animation:{type:zn,delay:ni},position:"auto"},notes:{label:{}},highlight:{markers:{border:{color:ve,width:2}},zIndex:100},tooltip:{format:"{0} - {1}"}};const _b=gc,mp=class h2 extends Co{createStrokeSegments(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))}stackSegments(){let t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))),t}createStroke(t){const e=new G(t),i=new G(t);e.segments.push.apply(e.segments,this.strokeSegments()),i.segments.push.apply(i.segments,this.stackSegments()),this.visual.append(e),this.visual.append(i)}hasStackSegment(){return!0}fromPoints(){return this.linePoints.map(t=>t.fromPoint)}toPoints(){return this.linePoints.map(t=>t.toPoint)}},d2=class u2 extends mp{createStrokeSegments(){return this.createCurveSegments(this.toPoints())}stackSegments(){let t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())),t}createCurveSegments(t){return(new $l).process(this.toGeometryPoints(t))}};class vb extends mp{createStrokeSegments(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))}stackSegments(){let t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints())),t.reverse()),t}}b(vb.prototype,Kd);const p2=vb;class xb extends hn{render(){super.render(),this.renderSegments()}pointType(){return _b}createPoint(t,e){const{categoryIx:i,category:s,series:o,seriesIx:r}=e;let a=t.valueFields;if(!jt(a.from)&&!jt(a.to)){if(this.seriesMissingValues(o)!==an)return null;a={from:0,to:0}}let c=this.pointOptions(o,r);c=this.evalPointOptions(c,a,s,i,o,r);let h=t.fields.color||o.color;Pe(o.color)&&(h=c.color);const u=new _b(a,c);return u.color=h,this.append(u),u}createSegment(t,e,i){const s=(e.line||{}).style;let o;return o="smooth"===s?d2:"step"===s?p2:mp,new o(t,e,i)}plotRange(t,e){return t?[t.value.from,t.value.to]:[e,e]}valueSlot(t,e){const i=t.getSlot(e[0],e[0],!this.options.clip),s=t.getSlot(e[1],e[1],!this.options.clip);if(i&&s)return{from:i,to:s}}pointSlot(t,e){const{from:i,to:s}=e;let o,r;return this.options.invertAxes?(o=new P(i.x1,t.y1,i.x2,t.y2),r=new P(s.x1,t.y1,s.x2,t.y2)):(o=new P(t.x1,i.y1,t.x2,i.y2),r=new P(t.x1,s.y1,t.x2,s.y2)),{from:o,to:r}}addValue(t,e){const i=t.valueFields;he(i.from)||(i.from=i.to),he(i.to)||(i.to=i.from),super.addValue(t,e)}updateRange(t,e){if(null!==t&&he(t.from)&&he(t.to)){const i=e.series.axis,s=this.valueAxisRanges[i]=this.valueAxisRanges[i]||{min:je,max:Qe},{from:o,to:r}=t;s.min=Math.min(s.min,o,r),s.max=Math.max(s.max,o,r)}}formatPointValue(t,e){const i=t.value;return this.chartService.format.auto(e,i.from,i.to)}animationPoints(){const t=this.points,e=[];for(let i=0;i<t.length;i++){const s=t[i];s&&(e.push((s.fromPoint||{}).marker),e.push((s.toPoint||{}).marker))}return e.concat(this._segments)}}b(xb.prototype,Qd,ac);const f2=xb,m2=class g2 extends op{reflow(t){const{options:e,value:i,owner:s}=this,o=s.seriesValueAxis(e),r=[],a=[],c=[],h=o.getSlot(i.low,i.high),u=o.getSlot(i.open,i.open),d=o.getSlot(i.close,i.close);u.x1=d.x1=h.x1=t.x1,u.x2=d.x2=h.x2=t.x2;const p=h.center().x;r.push([u.x1,u.y1]),r.push([p,u.y1]),a.push([p,d.y1]),a.push([d.x2,d.y1]),c.push([p,h.y1]),c.push([p,h.y2]),this.lines=[r,a,c],this.box=h.clone().wrap(u.clone().wrap(d)),this.reflowNote()}createBody(){}},v2=class _2 extends rp{pointType(){return m2}};class bb extends we{constructor(t,e,i){super(),this.from=t,this.to=e,this.series=i}linePoints(){const t=this.from,{from:{box:e},to:{box:i}}=this,s=[];if(t.isVertical){const o=t.aboveAxis?e.y1:e.y2;s.push([e.x1,o],[i.x2,o])}else{const o=t.aboveAxis?e.x2:e.x1;s.push([o,e.y1],[o,i.y2])}return s}createVisual(){super.createVisual();const t=this.series.line||{},e=G.fromPoints(this.linePoints(),{stroke:{color:t.color,width:t.width,opacity:t.opacity,dashType:t.dashType}});Xt(e),this.visual.append(e)}}M(bb,{animation:{type:zn,delay:ni}});const x2=bb,y2=class b2 extends Yr{render(){super.render(),this.createSegments()}traverseDataPoints(t){const e=this.options.series,i=Yd(e),s=!this.options.invertAxes;for(let o=0;o<e.length;o++){const r=e[o];let a=0,c=0;for(let h=0;h<i;h++){const u=Ze.current.bindPoint(r,h),d=u.valueFields.value,p=u.fields.summary;let g,f=a;p?"total"===p.toLowerCase()?(u.valueFields.value=a,f=0,g=a):(u.valueFields.value=c,g=f-c,c=0):he(d)&&(c+=d,a+=d,g=a),t(u,{category:this.categoryAxis.categoryAt(h),categoryIx:h,series:r,seriesIx:o,total:a,runningTotal:c,from:f,to:g,isVertical:s})}}}updateRange(t,e){super.updateRange({value:e.to},e)}aboveAxis(t){return t.value>=0}plotRange(t){return[t.from,t.to]}createSegments(){const t=this.options.series,e=this.seriesPoints,i=this.segments=[];for(let s=0;s<t.length;s++){const o=t[s],r=e[s];if(r){let a;for(let c=0;c<r.length;c++){const h=r[c];if(h&&a){const u=new x2(a,h,o);i.push(u),this.append(u)}a=h}}}}},_p=[Lr,mo,Gr,xo],yb=[Fr,vo].concat(_p);class vp extends Vn{initFields(t){if(this.namedCategoryAxes={},this.namedValueAxes={},this.valueAxisRangeTracker=new lc,t.length>0){this.invertAxes=de(t[0].type,[Si,Gn,vo,mo,xo,go,fo,_o]);for(let e=0;e<t.length;e++){const i=t[e].stack;if(i&&"100%"===i.type){this.stack100=!0;break}}}}render(t=this.panes){this.createCategoryAxes(t),this.aggregateCategories(t),this.createCategoryAxesLabels(t),this.createCharts(t),this.createValueAxes(t)}removeAxis(t){const e=t.options.name;super.removeAxis(t),t instanceof on?delete this.namedCategoryAxes[e]:(this.valueAxisRangeTracker.reset(e),delete this.namedValueAxes[e]),t===this.categoryAxis&&delete this.categoryAxis,t===this.valueAxis&&delete this.valueAxis}createCharts(t){const e=this.groupSeriesByPane();for(let i=0;i<t.length;i++){const s=t[i],o=e[s.options.name||"default"]||[];this.addToLegend(o);const r=this.filterVisibleSeries(o);if(!r)continue;const a=this.groupSeriesByCategoryAxis(r);for(let c=0;c<a.length;c++)this.createChartGroup(a[c],s)}}createChartGroup(t,e){this.createAreaChart($e(t,[Lr,mo]),e),this.createRangeAreaChart($e(t,[Gr,xo]),e),this.createBarChart($e(t,[ln,Si]),e),this.createRangeBarChart($e(t,[Ur,go]),e),this.createBulletChart($e(t,[Gn,Hr]),e),this.createCandlestickChart($e(t,po),e),this.createBoxPlotChart($e(t,[Br,_o]),e),this.createOHLCChart($e(t,zr),e),this.createWaterfallChart($e(t,[Vr,fo]),e),this.createLineChart($e(t,[Fr,vo]),e)}aggregateCategories(t){const e=this.srcSeries||this.series,i=[];this._currentPointsCache={},this._seriesPointsCache=this._seriesPointsCache||{};for(let s=0;s<e.length;s++){let o=e[s];const r=this.seriesCategoryAxis(o),a=this.findPane(r.options.pane);o=(Hn(r.options.type,Ln)||o.categoryField)&&de(a,t)?this.aggregateSeries(o,r):this.filterSeries(o,r),i.push(o)}this._seriesPointsCache=this._currentPointsCache,this._currentPointsCache=null,this.srcSeries=e,this.series=i}filterSeries(t,e){const i=(t.data||{}).length;if(e._seriesMax=Math.max(e._seriesMax||0,i),!he(e.options.min)&&!he(e.options.max))return t;const s=e.currentRangeIndices(),o=de(t.type,yb),r=b({},t);return r.data=(r.data||[]).slice(s.min,s.max+1),o&&db(r,s,i,a=>({item:t.data[a],category:e.categoryAt(a,!0),categoryIx:a-s.min}),a=>k(t.data[a])),r}clearSeriesPointsCache(){this._seriesPointsCache={}}seriesSourcePoints(t,e){const i=`${t.index};${e.categoriesHash()}`;if(this._seriesPointsCache[i])return this._currentPointsCache[i]=this._seriesPointsCache[i],this._seriesPointsCache[i];const s=e.options,o=s.srcCategories,r=Hn(s.type,Ln),a=t.data,c=r?cb:Yl,h=[];r||e.mapCategories();for(let u=0;u<a.length;u++){let d;if(d=t.categoryField?c(t.categoryField,a[u],this.chartService.intl):o[u],k(d)&&null!==d){const p=e.totalIndex(d);h[p]=h[p]||{items:[],category:d},h[p].items.push(u)}}return this._currentPointsCache[i]=h,h}aggregateSeries(t,e){if(!t.data.length)return t;const s=this.seriesSourcePoints(t,e),o=b({},t),r=new s2(b({},t),Ze.current,ks.current),a=o.data=[],c=e.options.dataItems||[],h=e.currentRangeIndices(),u=d=>{const p=d-h.min;let f=s[d];if(f||(f=s[d]={}),f.categoryIx=p,!f.item){const g=e.categoryAt(d,!0);f.category=g,f.item=r.aggregatePoints(f.items,g)}return f};for(let d=h.min;d<=h.max;d++){const p=u(d);a[p.categoryIx]=p.item,p.items&&p.items.length&&(c[p.categoryIx]=p.item)}return de(o.type,yb)&&db(o,h,e.totalCount(),u,d=>s[d]),e.options.dataItems=c,o}appendChart(t,e){const i=t.options.series,s=this.seriesCategoryAxis(i[0]);let o=s.options.categories,r=Math.max(0,Yd(i)-o.length);if(r>0)for(o=s.options.categories=s.options.categories.slice(0);r--;)o.push("");this.valueAxisRangeTracker.update(t.valueAxisRanges),super.appendChart(t,e)}seriesPaneName(t){const e=this.options,i=t.axis;return(Ut([].concat(e.valueAxis),function(h){return h.name===i})[0]||{}).pane||((e.panes||[{}])[0]||{}).name||"default"}seriesCategoryAxis(t){const e=t.categoryAxis,i=e?this.namedCategoryAxes[e]:this.categoryAxis;if(!i)throw new Error("Unable to locate category axis with name "+e);return i}stackableChartOptions(t,e){const i=t.stack;return{isStacked:i,isStacked100:i&&"100%"===i.type,clip:e.options.clip}}groupSeriesByCategoryAxis(t){const e=[],i={};for(let o=0;o<t.length;o++){const r=t[o].categoryAxis||"$$default$$";i.hasOwnProperty(r)||(i[r]=!0,e.push(r))}const s=[];for(let o=0;o<e.length;o++){const a=S2(t,e[o],o);0!==a.length&&s.push(a)}return s}createBarChart(t,e){if(0===t.length)return;const i=t[0],s=new Yr(this,Object.assign({series:t,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing},this.stackableChartOptions(i,e)));this.appendChart(s,e)}createRangeBarChart(t,e){if(0===t.length)return;const i=t[0],s=new r2(this,{series:t,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing});this.appendChart(s,e)}createBulletChart(t,e){if(0===t.length)return;const i=t[0],s=new HR(this,{series:t,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing,clip:e.options.clip});this.appendChart(s,e)}createLineChart(t,e){if(0===t.length)return;const s=new ep(this,Object.assign({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(t[0],e)));this.appendChart(s,e)}createAreaChart(t,e){if(0===t.length)return;const s=new TR(this,Object.assign({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(t[0],e)));this.appendChart(s,e)}createRangeAreaChart(t,e){if(0===t.length)return;const i=new f2(this,{invertAxes:this.invertAxes,series:t,clip:e.options.clip});this.appendChart(i,e)}createOHLCChart(t,e){if(0===t.length)return;const i=t[0],s=new v2(this,{invertAxes:this.invertAxes,gap:i.gap,series:t,spacing:i.spacing,clip:e.options.clip});this.appendChart(s,e)}createCandlestickChart(t,e){if(0===t.length)return;const i=t[0],s=new rp(this,{invertAxes:this.invertAxes,gap:i.gap,series:t,spacing:i.spacing,clip:e.options.clip});this.appendChart(s,e)}createBoxPlotChart(t,e){if(0===t.length)return;const i=t[0],s=new PR(this,{invertAxes:this.invertAxes,gap:i.gap,series:t,spacing:i.spacing,clip:e.options.clip});this.appendChart(s,e)}createWaterfallChart(t,e){if(0===t.length)return;const i=t[0],s=new y2(this,{series:t,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing});this.appendChart(s,e)}axisRequiresRounding(t,e){const i=$e(this.series,Ox);for(let s=0;s<this.series.length;s++){const o=this.series[s];if(de(o.type,_p)){const r=o.line;r&&r.style===Pr&&i.push(o)}}for(let s=0;s<i.length;s++){const o=i[s].categoryAxis||"";if(o===t||!o&&0===e)return!0}}aggregatedAxis(t,e){const i=this.series;for(let s=0;s<i.length;s++){const o=i[s].categoryAxis||"";if((o===t||!o&&0===e)&&i[s].categoryField)return!0}}createCategoryAxesLabels(){const t=this.axes;for(let e=0;e<t.length;e++)t[e]instanceof on&&t[e].createLabels()}createCategoryAxes(t){const e=this.invertAxes,i=[].concat(this.options.categoryAxis),s=[];for(let r=0;r<i.length;r++){let a=i[r];if(de(this.findPane(a.pane),t)){const{name:h,categories:u=[]}=a;let d;if(a=b({vertical:e,reverse:!e&&this.chartService.rtl,axisCrossingValue:e?je:0},a),k(a.justified)||(a.justified=this.isJustified()),this.axisRequiresRounding(h,r)&&(a.justified=!1),d=hb(a,u[0])?new zl(a,this.chartService):new on(a,this.chartService),i[r].categories=d.options.srcCategories,h){if(this.namedCategoryAxes[h])throw new Error(`Category axis with name ${h} is already defined`);this.namedCategoryAxes[h]=d}d.axisIndex=r,s.push(d),this.appendAxis(d)}}const o=this.categoryAxis||s[0];this.categoryAxis=o,e?this.axisY=o:this.axisX=o}isJustified(){const t=this.series;for(let e=0;e<t.length;e++)if(!de(t[e].type,_p))return!1;return!0}createValueAxes(t){const e=this.valueAxisRangeTracker,i=e.query(),s=[].concat(this.options.valueAxis),o=this.invertAxes,r={vertical:!o,reverse:o&&this.chartService.rtl},a=[];this.stack100&&(r.roundToMajorUnit=!1,r.labels={format:"P0"});for(let h=0;h<s.length;h++){const u=s[h];if(de(this.findPane(u.pane),t)){const p=u.name,f=Hn(u.type,nc)?{min:.1,max:1}:{min:0,max:1},g=e.query(p)||i||f;let m;0===h&&g&&i&&(g.min=Math.min(g.min,i.min),g.max=Math.max(g.max,i.max)),m=Hn(u.type,nc)?Wl:ii;const _=new m(g.min,g.max,b({},r,u),this.chartService);if(p){if(this.namedValueAxes[p])throw new Error(`Value axis with name ${p} is already defined`);this.namedValueAxes[p]=_}_.axisIndex=h,a.push(_),this.appendAxis(_)}}const c=this.valueAxis||a[0];this.valueAxis=c,o?this.axisX=c:this.axisY=c}_dispatchEvent(t,e,i){const s=t._eventCoordinates(e),o=new te(s.x,s.y),r=this.pointPane(o),a=[],c=[];if(!r)return;const h=r.axes;for(let u=0;u<h.length;u++){const d=h[u];d.getValue?fc(c,d.getValue(o)):fc(a,d.getCategory(o))}0===a.length&&fc(a,this.categoryAxis.getCategory(o)),a.length>0&&c.length>0&&t.trigger(i,{element:vi(e),originalEvent:e,category:Eo(a),value:Eo(c)})}pointPane(t){const e=this.panes;for(let i=0;i<e.length;i++){const s=e[i];if(s.contentBox.containsPoint(t))return s}}updateAxisOptions(t,e){Sb(this.options,t,e),Sb(this.originalOptions,t,e)}}function Sb(n,t,e){b([].concat(t instanceof on?n.categoryAxis:n.valueAxis)[t.axisIndex],e)}function S2(n,t,e){return Ut(n,function(i){return 0===e&&!i.categoryAxis||i.categoryAxis===t})}M(vp,{categoryAxis:{},valueAxis:{}}),b(vp.prototype,Jr);const As=vp,w2={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},jn=class C2 extends In{geometryChange(){this.attr("d",this.renderData()),this.invalidate()}optionsChange(t){switch(t.field){case"fill":t.value?this.allAttr(this.mapFill(t.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:t.value}));break;case"stroke":t.value?this.allAttr(this.mapStroke(t.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(t.value);break;default:const e=w2[t.field];e&&this.attr(e,t.value)}super.optionsChange(t)}content(){this.element&&(this.element.textContent=this.srcElement.content())}renderData(){return this.srcElement.toString(3)||void 0}mapStroke(t){const e=[];return t&&!ls(t.color)?(e.push(["stroke",t.color]),e.push(["stroke-width",t.width]),e.push(["stroke-linecap",this.renderLinecap(t)]),e.push(["stroke-linejoin",t.lineJoin]),ee(t.opacity)&&e.push(["stroke-opacity",t.opacity]),ee(t.dashType)&&e.push(["stroke-dasharray",this.renderDashType(t)])):e.push(["stroke",tl]),e}renderStroke(){return hs(this.mapStroke(this.srcElement.options.stroke))}renderDashType(t){const{dashType:e,width:i=1}=t;if(e&&e!==tu){const s=Xg[e.toLowerCase()],o=[];for(let r=0;r<s.length;r++)o.push(s[r]*i);return o.join(" ")}}renderLinecap(t){const{dashType:e,lineCap:i}=t;return e&&"solid"!==e?"butt":i}mapFill(t){const e=[];return t&&"Gradient"===t.nodeType||(t&&!ls(t.color)?(e.push(["fill",t.color]),ee(t.opacity)&&e.push(["fill-opacity",t.opacity])):e.push(["fill",tl])),e}renderFill(){return hs(this.mapFill(this.srcElement.options.fill))}template(){return`<path ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()} ${cs("d",this.renderData())}${this.renderStroke()}${this.renderFill()}${this.renderDefinitions()}${this.renderTransform()}></path>`}},wb=class E2 extends jn{renderData(){return this.srcElement.toPath().toString(3)}},Cb=class k2 extends jn{geometryChange(){const t=this.center();this.attr("cx",t.x),this.attr("cy",t.y),this.attr("r",this.radius()),this.invalidate()}center(){return this.srcElement.geometry().center}radius(){return this.srcElement.geometry().radius}template(){return`<circle ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()}cx='${this.center().x}' cy='${this.center().y}' r='${this.radius()}'${this.renderStroke()} ${this.renderFill()} ${this.renderDefinitions()}${this.renderTransform()} ></circle>`}},Eb=class A2 extends In{template(){return`<g${this.renderId()+this.renderTransform()+this.renderStyle()+this.renderOpacity()+this.renderDefinitions()}>${this.renderChildren()}</g>`}optionsChange(t){"transform"===t.field&&this.transformChange(t.value),super.optionsChange(t)}},T2=/&/g,M2=/</g,D2=/"/g,I2=/'/g,O2=/>/g;function xp(n){return String(n).replace(T2,"&amp;").replace(M2,"&lt;").replace(O2,"&gt;").replace(D2,"&quot;").replace(I2,"&#39;")}const kb=class R2 extends jn{geometryChange(){this.allAttr(this.mapPosition()),this.invalidate()}optionsChange(t){"src"===t.field&&this.allAttr(this.mapSource()),super.optionsChange(t)}mapPosition(){const t=this.srcElement.rect(),e=t.topLeft();return[["x",e.x],["y",e.y],["width",t.width()+"px"],["height",t.height()+"px"]]}renderPosition(){return hs(this.mapPosition())}mapSource(t){let e=this.srcElement.src();return t&&(e=xp(e)),[["xlink:href",e]]}renderSource(){return hs(this.mapSource(!0))}template(){return`<image preserveAspectRatio='none' ${this.renderId()} ${this.renderStyle()} ${this.renderTransform()} ${this.renderOpacity()}${this.renderPosition()} ${this.renderSource()} ${this.renderDefinitions()}></image>`}},Ab=class N2 extends jn{renderData(){return this.srcElement.toString(3)||"undefined"}},Tb=class P2 extends jn{geometryChange(){const t=this.srcElement.geometry();this.attr("x",t.origin.x),this.attr("y",t.origin.y),this.attr("width",t.size.width),this.attr("height",t.size.height),this.attr("rx",t.cornerRadius[0]),this.attr("ry",t.cornerRadius[1]),this.invalidate()}size(){return this.srcElement.geometry().size}origin(){return this.srcElement.geometry().origin}rx(){return this.srcElement.geometry().cornerRadius[0]}ry(){return this.srcElement.geometry().cornerRadius[1]}template(){return`<rect ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()} x='${this.origin().x}' y='${this.origin().y}' rx='${this.rx()}' ry='${this.ry()}' width='${this.size().width}' height='${this.size().height}' ${this.renderStroke()} ${this.renderFill()} ${this.renderDefinitions()} ${this.renderTransform()} />`}},bp=/&(?:[a-zA-Z]+|#\d+);/g;function yp(n){if(!n||"string"!=typeof n||!bp.test(n))return n;const t=yp._element;return bp.lastIndex=0,n.replace(bp,e=>(t.innerHTML=e,t.textContent||t.innerText))}typeof document<"u"&&(yp._element=document.createElement("span"));const Mb=class L2 extends jn{geometryChange(){const t=this.pos();this.attr("x",t.x),this.attr("y",t.y),this.invalidate()}optionsChange(t){"font"===t.field?(this.attr("style",Nm(this.mapStyle())),this.geometryChange()):"content"===t.field&&super.content(this.srcElement.content()),super.optionsChange(t)}mapStyle(t){const e=super.mapStyle(t);let i=this.srcElement.options.font;return t&&(i=xp(i)),e.push(["font",i],["white-space","pre"]),e}pos(){const t=this.srcElement.position(),e=this.srcElement.measure();return t.clone().setY(t.y+e.baseline)}renderContent(){let t=this.srcElement.content();return t=yp(t),t=xp(t),yu(t)}renderTextAnchor(){let t;return(this.options||{}).rtl&&!(ui.browser.msie||ui.browser.edge)&&(t="end"),cs("text-anchor",t)}template(){return`<text ${this.renderId()} ${this.renderTextAnchor()} ${this.renderStyle()} ${this.renderOpacity()}x='${this.pos().x}' y='${this.pos().y}' ${this.renderStroke()} ${this.renderTransform()} ${this.renderDefinitions()}${this.renderFill()}>${this.renderContent()}</text>`}};$i.Arc=wb,$i.Circle=Cb,$i.Group=Eb,$i.Image=kb,$i.MultiPath=Ab,$i.Path=jn,$i.Rect=Tb,$i.Text=Mb;const Db=class z2 extends Vh{get type(){return"svg"}constructor(t,e){super(t,e),this._root=new uu(Object.assign({rtl:"rtl"===Ua(t,"direction").direction},this.options)),Lm(this.element,this._template("")),this._rootElement=this.element.firstElementChild,this._rootElement.style.width="100%",this._rootElement.style.height="100%",this._rootElement.style.overflow="hidden",function F2(n){let t;try{t=n.getScreenCTM?n.getScreenCTM():null}catch{}if(t){const e=-t.e%1,i=-t.f%1,s=n.style;(0!==e||0!==i)&&(s.left=e+"px",s.top=i+"px")}}(this._rootElement),this._root.attachTo(this._rootElement),jh(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove}),this.resize()}destroy(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,Wh(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),super.destroy()}translate(t){const e=`${Math.round(t.x)} ${Math.round(t.y)} ${this._size.width} ${this._size.height}`;this._offset=t,this._rootElement.setAttribute("viewBox",e)}draw(t){super.draw(t),this._root.load([t])}clear(){super.clear(),this._root.clear()}svg(){return"<?xml version='1.0' ?>"+this._template()}exportVisual(){let{_visual:t,_offset:e}=this;if(e){const i=new ge;i.children.push(t),i.transform(me().translate(-e.x,-e.y)),t=i}return t}_resize(){this._offset&&this.translate(this._offset)}_template(t){return`<svg ${"string"==typeof t?t:"style='width: 100%; height: 100%; overflow: hidden;' "}xmlns='${lr}' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>${this._root.render()}</svg>`}};let Sp,wp;const Ib=()=>typeof document<"u";class Cp extends U{static get support(){return wp||(wp={canvas:Ib()&&document.createElement("canvas").getContext,svg:Ib()&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}),wp}static get current(){return Sp||(Sp=new Cp),Sp}constructor(){super(),this._items=[{name:"svg",type:Db},{name:"canvas",type:au}]}create(t,e){const i=this._items;let s=i[0];if(e&&e.type){const o=e.type.toLowerCase();for(let r=0;r<i.length;r++)if(i[r].name===o){s=i[r];break}}if(s)return new s.type(t,e);Bv(`Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG and Canvas. User agent: ${navigator.userAgent}`)}}const Ep=Cp,Qr=class H2 extends Vh{static get support(){return Ep.support}static create(t,e){return Ep.current.create(t,e)}};function j2(){this._defaultPrevented=!0}const W2=class V2 extends U{constructor(){super(),this._points=[]}destroy(){this._points=[]}show(t,e){const i=[].concat(t);this.hide();for(let s=0;s<i.length;s++){const o=i[s];o&&o.toggleHighlight&&o.hasHighlight()&&(this.togglePointHighlight(o,!0,e),this._points.push(o))}}togglePointHighlight(t,e,i){const s=(t.options.highlight||{}).toggle;if(s){const o={category:t.category,series:t.series,dataItem:t.dataItem,value:t.value,stackValue:t.stackValue,preventDefault:j2,visual:t.highlightVisual(),show:e};s(o),o._defaultPrevented||t.toggleHighlight(e,i)}else t.toggleHighlight(e,i)}hide(){const t=this._points;for(;t.length;)this.togglePointHighlight(t.pop(),!1)}isHighlighted(t){const e=this._points;for(let i=0;i<e.length;i++)if(t===e[i])return!0;return!1}};function Ob(n,t){const e=(t||"").toLowerCase(),i=n.event;return"none"===e&&!(i.ctrlKey||i.shiftKey||i.altKey)||i[e+"Key"]}function kp(n){const t={};for(let e=0;e<n.length;e++){const i=n[e];i.axis.options.name&&(t[i.axis.options.name]={min:i.range.min,max:i.range.max})}return t}class Rb extends U{constructor(t,e){super(),this.plotArea=t,this.options=b({},this.options,e)}start(t){return this._active=Ob(t,this.options.key),this._active}move(t){if(this._active){const e=this.axisRanges=this._panAxes(t,V).concat(this._panAxes(t,W));if(e.length)return this.axisRanges=e,kp(e)}}end(){const t=this._active;return this._active=!1,t}pan(){const{plotArea:t,axisRanges:e}=this;if(e.length){for(let i=0;i<e.length;i++){const s=e[i];t.updateAxisOptions(s.axis,s.range)}t.redraw(t.panes)}}destroy(){delete this.plotArea}_panAxes(t,e){const i=this.plotArea,s=-t[e].delta,o=(this.options.lock||"").toLowerCase(),r=[];if(0!==s&&(o||"").toLowerCase()!==e){const a=i.axes;for(let c=0;c<a.length;c++){const h=a[c];if(e===V&&!h.options.vertical||e===W&&h.options.vertical){const u=h.pan(s);u&&(u.limitRange=!0,r.push({axis:h,range:u}))}}}return r}}Rb.prototype.options={key:"none",lock:"none"};const Z2=Rb;class Nb extends U{constructor(t,e){super(),this.chart=t,this.options=b({},this.options,e),this.createElement()}createElement(){const t=this._marquee=document.createElement("div");t.className="k-marquee";const e=document.createElement("div");e.className="k-marquee-color",t.appendChild(e)}removeElement(){this._marquee.parentNode&&this._marquee.parentNode.removeChild(this._marquee)}setStyles(t){Le(this._marquee,t)}start(t){if(Ob(t,this.options.key)){const e=this.chart,i=e._eventCoordinates(t),s=this._zoomPane=e._plotArea.paneByPoint(i),o=s?s.chartsBox().clone():null;if(s&&o){const r=this._elementOffset();return o.translate(r.left,r.top),this._zoomPaneClipBox=o,document.body.appendChild(this._marquee),this.setStyles({left:t.pageX+1,top:t.pageY+1,width:0,height:0}),!0}}return!1}_elementOffset(){const t=this.chart.element,{paddingLeft:e,paddingTop:i}=Le(t,["paddingLeft","paddingTop"]),s=ro(t);return{left:e+s.left,top:i+s.top}}move(t){this._zoomPane&&this.setStyles(this._selectionPosition(t))}end(t){if(this._zoomPane){const i=this._elementOffset(),s=this._selectionPosition(t);return s.left-=i.left,s.top-=i.top,this._updateAxisRanges({x:s.left,y:s.top},{x:s.left+s.width,y:s.top+s.height}),this.removeElement(),delete this._zoomPane,kp(this.axisRanges)}}zoom(){const t=this.axisRanges;if(t&&t.length){const e=this.chart._plotArea;for(let i=0;i<t.length;i++){const s=t[i];e.updateAxisOptions(s.axis,s.range)}e.redraw(e.panes)}}destroy(){this.removeElement(),delete this._marquee,delete this.chart}_updateAxisRanges(t,e){const i=(this.options.lock||"").toLowerCase(),s=[],o=this._zoomPane.axes;for(let r=0;r<o.length;r++){const a=o[r],c=a.options.vertical;if((i!==V||c)&&(i!==W||!c)&&k(a.axisIndex)){const h=a.pointsRange(t,e);h&&s.push({axis:a,range:h})}}this.axisRanges=s}_selectionPosition(t){const e=this._zoomPaneClipBox,i={x:t.x.startLocation,y:t.y.startLocation},{x:{location:s},y:{location:o}}=t,r=(this.options.lock||"").toLowerCase();let a=Math.min(i.x,s),c=Math.min(i.y,o),h=Math.abs(i.x-s),u=Math.abs(i.y-o);return r===V&&(a=e.x1,h=e.width()),r===W&&(c=e.y1,u=e.height()),s>e.x2&&(h=e.x2-i.x),s<e.x1&&(h=i.x-e.x1),o>e.y2&&(u=e.y2-i.y),o<e.y1&&(u=i.y-e.y1),{left:Math.max(a,e.x1),top:Math.max(c,e.y1),width:h,height:u}}}Nb.prototype.options={key:"shift",lock:"none"};const $2=Nb,Q2=class J2 extends U{constructor(t,e){super(),this.chart=t,this.options=b({rate:.3},this.options,e)}updateRanges(t,e){const i=(this.options.lock||"").toLowerCase(),s=[],o=this.chart._plotArea.axes;for(let r=0;r<o.length;r++){const a=o[r],c=a.options.vertical;if((i!==V||c)&&(i!==W||!c)&&a.zoomRange){const h=J(this.options.rate,.01,.9),u=a.zoomRange(-t*h,e);u&&s.push({axis:a,range:u})}}return this.axisRanges=s,kp(s)}zoom(){const t=this.axisRanges,e=this.chart._plotArea;if(t&&t.length&&e.updateAxisOptions){for(let i=0;i<t.length;i++){const s=t[i];e.updateAxisOptions(s.axis,s.range)}e.redraw(e.panes)}}destroy(){delete this.chart}};function mc(n,t,e){const i=e.transform()||me(),s=i.matrix();s.e+=n.x-t.origin.x,s.f+=n.y-t.origin.y,i.matrix(s),e.transform(i)}function Xr(n,t,e,i,s){let o;return o="start"===e?t.origin[i]:"end"===e?t.origin[i]+t.size[s]-n:t.origin[i]+(t.size[s]-n)/2,o}function X2(n,t,e,i,s){let o;return o="start"===e?t.origin[i]+t.size[s]-n:"end"===e?t.origin[i]:t.origin[i]+(t.size[s]-n)/2,o}const eN={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:!0,revers:!1},tN=(n,t)=>{n.forEach(t)},iN=(n,t)=>{for(let i=n.length-1;i>=0;i--)t(n[i],i)},Pb=class nN extends ge{constructor(t,e){super(Object.assign({},eN,e)),this._rect=t,this._fieldMap={}}rect(t){return t?(this._rect=t,this):this._rect}_initMap(){const t=this.options,e=this._fieldMap;"horizontal"===t.orientation?(e.sizeField="width",e.groupsSizeField="height",e.groupAxis="x",e.groupsAxis="y"):(e.sizeField="height",e.groupsSizeField="width",e.groupAxis="y",e.groupsAxis="x"),t.reverse?(this.forEach=iN,this.justifyAlign=X2):(this.forEach=tN,this.justifyAlign=Xr)}reflow(){if(!this._rect||0===this.children.length)return;this._initMap(),this.options.transform&&this.transform(null);const t=this.options,e=this._rect,{groups:i,groupsSize:s}=this._initGroups(),{sizeField:o,groupsSizeField:r,groupAxis:a,groupsAxis:c}=this._fieldMap,h=new A,u=new A,d=new En;let f,g,m,p=Xr(s,e,t.alignContent,c,r);const _=(v,x)=>{const S=g.elements[x];u[a]=f,u[c]=Xr(v.size[r],m,t.alignItems,c,r),mc(u,v,S),f+=v.size[o]+t.spacing};for(let v=0;v<i.length;v++)g=i[v],h[a]=f=this.justifyAlign(g.size,e,t.justifyContent,a,o),h[c]=p,d[o]=g.size,d[r]=g.lineSize,m=new ue(h,d),this.forEach(g.bboxes,_),p+=g.lineSize+t.lineSpacing;if(!t.wrap&&g.size>e.size[o]){const v=e.size[o]/m.size[o],x=m.topLeft().scale(v,v),T=Xr(m.size[r]*v,e,t.alignContent,c,r),D=me();"x"===a?D.translate(e.origin.x-x.x,T-x.y):D.translate(T-x.x,e.origin.y-x.y),D.scale(v,v),this.transform(D)}}_initGroups(){const{options:t,children:e}=this,{lineSpacing:i,wrap:s,spacing:o}=t,r=this._fieldMap.sizeField;let a=this._newGroup();const c=[],h=function(){c.push(a),u+=a.lineSize+i};let u=-i;for(let d=0;d<e.length;d++){let p=e[d],f=e[d].clippedBBox();p.visible()&&f&&(s&&a.size+f.size[r]+o>this._rect.size[r]?0===a.bboxes.length?(this._addToGroup(a,f,p),h(),a=this._newGroup()):(h(),a=this._newGroup(),this._addToGroup(a,f,p)):this._addToGroup(a,f,p))}return a.bboxes.length&&h(),{groups:c,groupsSize:u}}_addToGroup(t,e,i){t.size+=e.size[this._fieldMap.sizeField]+this.options.spacing,t.lineSize=Math.max(e.size[this._fieldMap.groupsSizeField],t.lineSize),t.bboxes.push(e),t.elements.push(i)}_newGroup(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}}},oN=class sN extends we{constructor(t,e){super(t),this.chartService=e}render(){const{children:t,options:e}=this,i=e.vertical;this.visual=new Pb(null,{spacing:i?0:e.spacing,lineSpacing:i?e.spacing:0,orientation:i?"vertical":"horizontal",reverse:e.rtl,alignItems:i?"start":"center"});for(let s=0;s<t.length;s++){let o=t[s];o.reflow(new P),o.renderVisual()}}reflow(t){this.visual.rect(t.toRect()),this.visual.reflow();const e=this.visual.clippedBBox();this.box=e?Ml(e):new P}renderVisual(){this.addVisual()}createVisual(){}},aN=class rN extends xs{constructor(t){super(t),this.createContainer(),t.rtl?(this.createLabel(),this.createMarker()):(this.createMarker(),this.createLabel())}createContainer(){this.container=new pd({vertical:!1,wrap:!1,align:re,spacing:this.options.spacing}),this.append(this.container)}createMarker(){this.container.append(new Fn(this.markerOptions()))}markerOptions(){const t=this.options,e=t.markerColor;return b({},t.markers,{background:e,border:{color:e}})}createLabel(){const t=this.options,e=b({},t.labels);this.container.append(new Vt(t.text,e))}renderComplete(){super.renderComplete();const t=this.options.cursor||{},e=this._itemOverlay=G.fromRect(this.container.box.toRect(),{fill:{color:ve,opacity:0},stroke:null,cursor:t.style||t});this.appendVisual(e)}click(t,e){const i=this.eventArgs(e);!t.trigger("legendItemClick",i)&&e&&"contextmenu"===e.type&&e.preventDefault()}over(t,e){const i=this.eventArgs(e);return t.trigger("legendItemHover",i)||t._legendItemHover(i.seriesIndex,i.pointIndex),!0}out(t,e){t._unsetActivePoint(),t.trigger("legendItemLeave",this.eventArgs(e))}eventArgs(t){const e=this.options;return{element:vi(t),text:e.text,series:e.series,seriesIndex:e.series.index,pointIndex:e.pointIndex}}renderVisual(){const t=this.options,e=t.visual;e?(this.visual=e({active:t.active,series:t.series,sender:this.getSender(),pointIndex:t.pointIndex,options:{markers:this.markerOptions(),labels:t.labels},createVisual:()=>{this.createVisual(),this.renderChildren(),this.renderComplete();const i=this.visual;return delete this.visual,i}}),this.addVisual()):super.renderVisual()}},Lb="horizontal",_c="custom";class Bb extends we{constructor(t,e={}){super(t),this.chartService=e,de(this.options.position,[_e,be,Se,fe,_c])||(this.options.position=be),this.createContainers(),this.createLegendTitle(t.title),this.createItems()}createContainers(){const t=this.options,{position:e,align:i}=t;let s=e,o=re;e===_c?s=fe:de(e,[_e,Se])?(s="start"===i?fe:"end"===i?be:re,o=e):i&&("start"===i?o=_e:"end"===i&&(o=Se)),this.container=new xs({margin:t.margin,padding:t.padding,background:t.background,border:t.border,vAlign:o,align:s,zIndex:t.zIndex,shrinkToFit:!0}),this.itemsContainer=this.hasTitle()?new xs({vAlign:o,align:s,zIndex:t.zIndex,shrinkToFit:!0}):this.container,this.append(this.container)}createItems(){const t=this.getService(),e=this.options,i=this.isVertical(),s=new oN({vertical:i,spacing:e.spacing,rtl:t.rtl},t);let o=e.items;e.reverse&&(o=o.slice(0).reverse());const r=o.length;for(let a=0;a<r;a++)s.append(new aN(b({},{markers:e.markers,labels:e.labels,rtl:t.rtl},e.item,o[a])));s.render(),this.itemsContainer.append(s)}isVertical(){const{orientation:t,position:e}=this.options;return e===_c&&t!==Lb||(k(t)?t!==Lb:de(e,[fe,be]))}hasItems(){return this.container.children[0].children.length>0}reflow(t){const e=this.options,i=t.clone();this.hasItems()?(e.position===_c?(this.containerCustomReflow(i),this.box=i):this.containerReflow(i),this.hasTitle()&&this.title.reflow(new P(this.container.box.x1,this.title.box.y1,this.container.box.x2,this.title.box.y2))):this.box=i}containerReflow(t){const{options:e,container:i}=this,{position:s,width:o,height:r}=e,a=s===_e||s===Se?V:W,c=this.isVertical(),h=t.clone();let u=t.clone();(s===fe||s===be)&&(u.y1=h.y1=0),c&&r?(u.y2=u.y1+r,u.align(h,W,i.options.vAlign)):!c&&o&&(u.x2=u.x1+o,u.align(h,V,i.options.align)),i.reflow(u),u=i.box;const d=u.clone();(e.offsetX||e.offsetY)&&(u.translate(e.offsetX,e.offsetY),i.reflow(u)),d[a+1]=t[a+1],d[a+2]=t[a+2],this.box=d}containerCustomReflow(t){const{options:e,container:i}=this,{offsetX:s,offsetY:o,width:r,height:a}=e,c=this.isVertical();let h=t.clone();c&&a?h.y2=h.y1+a:!c&&r&&(h.x2=h.x1+r),i.reflow(h),h=i.box,i.reflow(new P(s,o,s+h.width(),o+h.height()))}renderVisual(){this.hasItems()&&super.renderVisual()}createLegendTitle(t){let e=b({},{color:Ve,position:_e,align:re},t),i=e.text;if(t&&!1!==t.visible){if(k(e)&&e.visible){const s=nt(e);s?i=s({text:i}):e.format&&(i=this.chartService.format.auto(e.format,i))}this.title=new Vt(i,e),this.createTitleLayout(),this.appendTitleLayoutContent()}}createTitleLayout(){this.layout=new pd({vertical:!0,wrap:!1}),this.container.append(this.layout)}hasTitle(){return Boolean(this.options.title&&!1!==this.options.title.visible)}appendTitleLayoutContent(){this.options.title.position===Se?(this.layout.append(this.itemsContainer),this.layout.append(this.title)):(this.layout.append(this.title),this.layout.append(this.itemsContainer))}}M(Bb,{position:be,items:[],offsetX:0,offsetY:0,margin:ke(5),padding:ke(5),border:{color:Ve,width:0},item:{cursor:"pointer",spacing:6},spacing:6,background:"",zIndex:1,markers:{border:{width:0},width:15,height:3,type:"rect",align:fe,vAlign:re}});const cN=Bb;class Ap extends U{constructor(){super(),this._registry=[]}register(t,e){this._registry.push({type:t,seriesTypes:e})}create(t,e,i){const s=this._registry;let r,o=s[0];for(let a=0;a<s.length;a++){const c=s[a];if(r=$e(t,c.seriesTypes),r.length>0){o=c;break}}return new o.type(r,e,i)}}Ap.current=new Ap;const un=Ap;function dn(n){const t=document.createElement("div");return n&&(t.className=n),t}function Fb(n){let t=n;for(;t&&!Er(t,"k-handle");)t=t.parentNode;return t}class zb extends U{constructor(t,e,i,s){super();const o=t.element;this.options=b({},this.options,i),this.chart=t,this.observer=s,this.chartElement=o,this.categoryAxis=e,this._dateAxis=this.categoryAxis instanceof zl,this.initOptions(),this.visible=this.options.visible&&o.offsetHeight,this.visible&&(this.createElements(),this.set(this._index(this.options.from),this._index(this.options.to)),this.bindEvents())}onPane(t){return this.categoryAxis.pane===t}createElements(){const t=this.options,e=this.wrapper=dn("k-selector");Le(e,{top:t.offset.top,left:t.offset.left,width:t.width,height:t.height,direction:"ltr"});const i=this.selection=dn("k-selection");this.leftMask=dn("k-mask"),this.rightMask=dn("k-mask"),e.appendChild(this.leftMask),e.appendChild(this.rightMask),e.appendChild(i),i.appendChild(dn("k-selection-bg"));const s=this.leftHandle=dn("k-handle k-left-handle"),o=this.rightHandle=dn("k-handle k-right-handle");s.appendChild(dn()),o.appendChild(dn()),i.appendChild(s),i.appendChild(o),this.chartElement.appendChild(e);const r=Le(i,["borderLeftWidth","borderRightWidth","height"]),a=Le(s,"height").height,c=Le(o,"height").height;t.selection={border:{left:r.borderLeftWidth,right:r.borderRightWidth}},Le(s,{top:(r.height-a)/2}),Le(o,{top:(r.height-c)/2}),e.style.cssText=e.style.cssText}bindEvents(){!1!==this.options.mousewheel&&(this._mousewheelHandler=this._mousewheel.bind(this),kr(this.wrapper,{[oc]:this._mousewheelHandler})),this._domEvents=nx.create(this.wrapper,{stopPropagation:!0,start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})}initOptions(){const{options:t,categoryAxis:e}=this,i=e.pane.chartsBox(),s=this.chart.chartService.intl;this._dateAxis&&b(t,{min:gt(s,t.min),max:gt(s,t.max),from:gt(s,t.from),to:gt(s,t.to)});const{paddingLeft:o,paddingTop:r}=Le(this.chartElement,["paddingLeft","paddingTop"]);this.options=b({},{width:i.width(),height:i.height()+.1,padding:{left:o,top:r},offset:{left:i.x1+o,top:i.y1+r},from:t.min,to:t.max},t)}destroy(){this._domEvents&&(this._domEvents.destroy(),delete this._domEvents),clearTimeout(this._mwTimeout),this._state=null,this.wrapper&&(this._mousewheelHandler&&(Ar(this.wrapper,{[oc]:this._mousewheelHandler}),this._mousewheelHandler=null),this.chartElement.removeChild(this.wrapper),this.wrapper=null)}_rangeEventArgs(t){return{axis:this.categoryAxis.options,from:this._value(t.from),to:this._value(t.to)}}_start(t){const e=this.options,i=vi(t);if(this._state||!i)return;this.chart._unsetActivePoint(),this._state={moveTarget:Fb(i)||i,startLocation:t.x?t.x.location:0,range:{from:this._index(e.from),to:this._index(e.to)}};const s=this._rangeEventArgs({from:this._index(e.from),to:this._index(e.to)});this.trigger(Wd,s)&&(this._state=null)}_press(t){let e;e=this._state?this._state.moveTarget:Fb(vi(t)),e&&Et(e,"k-handle-active")}_move(t){if(!this._state)return;const{_state:e,options:i,categoryAxis:s}=this,{range:o,moveTarget:r}=e,a=s.options.reverse,c=this._index(i.from),h=this._index(i.to),u=this._index(i.min),d=this._index(i.max),p=e.startLocation-t.x.location,f_from=o.from,f_to=o.to,g=o.to-o.from,m=Le(this.wrapper,"width").width/(s.categoriesCount()-1),_=Math.round(p/m)*(a?-1:1);if(!r)return;const v=Er(r,"k-left-handle"),x=Er(r,"k-right-handle");Er(r,"k-selection k-selection-bg")?(o.from=Math.min(Math.max(u,c-_),d-g),o.to=Math.min(o.from+g,d)):v&&!a||x&&a?(o.from=Math.min(Math.max(u,c-_),d-1),o.to=Math.max(o.from+1,o.to)):(v&&a||x&&!a)&&(o.to=Math.min(Math.max(u+1,h-_),d),o.from=Math.min(o.to-1,o.from)),(o.from!==f_from||o.to!==f_to)&&(this.move(o.from,o.to),this.trigger($r,this._rangeEventArgs(o)))}_end(){if(this._state){const t=this._state.moveTarget;t&&function MI(n,t){n&&n.className&&(n.className=n.className.replace(t,"").replace(TI," "))}(t,"k-handle-active");const e=this._state.range;this.set(e.from,e.to),this.trigger(Zd,this._rangeEventArgs(e)),delete this._state}}_tap(t){const{options:e,categoryAxis:i}=this,s=this.chart._eventCoordinates(t),o=i.pointCategoryIndex(new te(s.x,i.box.y1)),r=this._index(e.from),a=this._index(e.to),c=this._index(e.min),h=this._index(e.max),u=a-r,p={},f=3===t.event.which;let g=Math.round(r+u/2-o);this._state||f||(this.chart._unsetActivePoint(),i.options.justified||g--,p.from=Math.min(Math.max(c,r-g),h-u),p.to=Math.min(p.from+u,h),this._start(t),this._state&&(this._state.range=p,this.trigger($r,this._rangeEventArgs(p)),this._end()))}_mousewheel(t){let e=rd(t);if(this._start({target:this.selection}),this._state){const i=this._state.range;t.preventDefault(),t.stopPropagation(),Math.abs(e)>1&&(e*=3),this.options.mousewheel.reverse&&(e*=-1),this.expand(e)&&this.trigger($r,{axis:this.categoryAxis.options,delta:e,originalEvent:t,from:this._value(i.from),to:this._value(i.to)}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(()=>{this._end()},150)}}_gesturestart(t){const e=this.options;this._state={range:{from:this._index(e.from),to:this._index(e.to)}};const i=this._rangeEventArgs(this._state.range);this.trigger(Wd,i)?this._state=null:t.preventDefault()}_gestureend(){this._state&&(this.trigger(Zd,this._rangeEventArgs(this._state.range)),delete this._state)}_gesturechange(t){const{chart:e,_state:i,options:s,categoryAxis:o}=this,r=i.range,a=e._toModelCoordinates(t.touches[0].x.location).x,c=e._toModelCoordinates(t.touches[1].x.location).x,h=Math.min(a,c),u=Math.max(a,c);t.preventDefault(),r.from=o.pointCategoryIndex(new te(h))||s.min,r.to=o.pointCategoryIndex(new te(u))||s.max,this.move(r.from,r.to),this.trigger($r,this._rangeEventArgs(r))}_index(t){let e=t;return t instanceof Date&&(e=this.categoryAxis.categoryIndex(t)),e}_value(t){let e=t;return this._dateAxis&&(e=this.categoryAxis.categoryAt(t),e>this.options.max&&(e=this.options.max)),e}_slot(t){const e=this.categoryAxis,i=this._index(t);return e.getSlot(i,i,!0)}move(t,e){const i=this.options,s=this.categoryAxis.options.reverse,{offset:o,padding:r,selection:{border:a}}=i,h=s?t:e,u="x"+(s?2:1);let d=this._slot(s?e:t);const p=N(d[u]-o.left+r.left);Le(this.leftMask,{width:p}),Le(this.selection,{left:p}),d=this._slot(h);const f=N(i.width-(d[u]-o.left+r.left));Le(this.rightMask,{width:f});let g=i.width-f;g!==i.width&&(g+=a.right),Le(this.rightMask,{left:g}),Le(this.selection,{width:Math.max(i.width-(p+f)-a.right,0)})}set(t,e){const i=this.options,s=this._index(i.min),o=this._index(i.max),r=J(this._index(t),s,o),a=J(this._index(e),r+1,o);i.visible&&this.move(r,a),i.from=this._value(r),i.to=this._value(a)}expand(t){const e=this.options,i=this._index(e.min),s=this._index(e.max),o=e.mousewheel.zoom,r=this._index(e.from),a=this._index(e.to);let c={from:r,to:a};const h=b({},c);if(this._state&&(c=this._state.range),o!==be&&(c.from=J(J(r-t,0,a-1),i,s)),o!==fe&&(c.to=J(J(a+t,c.from+1,s),i,s)),c.from!==h.from||c.to!==h.to)return this.set(c.from,c.to),!0}zoom(t,e){const i=this.options,s=this._index(i.min),o=this._index(i.max),r=this._index(i.from),a=this._index(i.to);let c={from:r,to:a};const h=b({},c),{reverse:u}=this.categoryAxis.options,d=V+(u?"2":"1"),p=this.categoryAxis.lineBox(),f=Math.abs(p[d]-e.x),g=p.width(),m=N(f/g,2),_=N(m*t),v=N((1-m)*t);if(this._state&&(c=this._state.range),c.from=J(J(r-_,0,a-1),s,o),c.to=J(J(a+v,c.from+1,o),s,o),c.from!==h.from||c.to!==h.to)return this.set(c.from,c.to),!0}trigger(t,e){return(this.observer||this.chart).trigger(t,e)}}M(zb,{visible:!0,mousewheel:{zoom:"both"},min:Qe,max:je});const Gb=zb,pN=class dN extends hp{show(t){if(!t||!t.tooltipAnchor||this._current&&this._current===t)return;const e=b({},this.options,t.options.tooltip),i=t.tooltipAnchor();i?(this._current=t,super.show({point:t,anchor:i},e,t)):this.hide()}hide(){delete this._current,super.hide()}};class Ub extends hp{constructor(t,e){super(t.chartService,e),this.plotArea=t,this.formatService=t.chartService.format}showAt(t,e){const i=Ut(t,function(s){const o=s.series.tooltip;return!(o&&!1===o.visible)});if(i.length>0){const s=i[0],o=this.plotArea.categoryAxis.getSlot(s.categoryIx),r=e?this._slotAnchor(e,o):this._defaultAnchor(s,o);this.show({anchor:r,shared:!0,points:t,category:s.category,categoryText:this.formatService.auto(this.options.categoryFormat,s.category),series:this.plotArea.series},this.options)}}_slotAnchor(t,e){return this.plotArea.categoryAxis.options.vertical||(t.x=e.center().x),{point:t,align:{horizontal:"left",vertical:"center"}}}_defaultAnchor(t,e){const i=t.owner.pane.chartsBox(),s=this.plotArea.categoryAxis.options.vertical,o=i.center(),r=e.center();let c;return c=s?new te(o.x,r.y):new te(r.x,o.y),{point:c,align:{horizontal:"center",vertical:"center"}}}}M(Ub,{categoryFormat:"{0:d}"});const Hb=Ub;class Vb extends Ht{setup(){const{element:t,options:e}=this;if(t.bbox()){this.origin=e.origin;const s=e.vertical?W:V,o=this.fromScale=new A(1,1);o[s]=Nr,t.transform(me().scale(o.x,o.y))}else this.abort()}step(t){const e=ei(this.fromScale.x,1,t),i=ei(this.fromScale.y,1,t);this.element.transform(me().scale(e,i,this.origin))}abort(){super.abort(),this.element.transform(null)}}M(Vb,{duration:ni}),xi.current.register(Si,Vb);class jb extends Ht{setup(){const t=this.center=this.element.bbox().center();this.element.transform(me().scale(Nr,Nr,t))}step(t){this.element.transform(me().scale(t,t,this.center))}}M(jb,{easing:"easeOutElastic"}),xi.current.register(uo,jb);class Wb extends Ht{setup(){this.fadeTo=this.element.opacity(),this.element.opacity(0)}step(t){this.element.opacity(t*this.fadeTo)}}M(Wb,{duration:200,easing:"linear"}),xi.current.register(zn,Wb);class Zb extends Ht{setup(){this.element.transform(me().scale(Nr,Nr,this.options.center))}step(t){this.element.transform(me().scale(t,t,this.options.center))}}M(Zb,{easing:"easeOutElastic",duration:ni}),xi.current.register(Un,Zb);class $b extends dc{render(){super.render(),this.renderSegments()}createSegment(t,e,i){let o;return o=e.style===ho?Jd:wo,new o(t,e,i)}animationPoints(){return super.animationPoints().concat(this._segments)}createMissingValue(t,e){if(e===an){const i={x:t.x,y:t.y};return jt(i.x)||(i.x=0),jt(i.y)||(i.y=0),i}}}b($b.prototype,Qd);const Yb=$b;class Tp extends Vn{initFields(){this.namedXAxes={},this.namedYAxes={},this.xAxisRangeTracker=new lc,this.yAxisRangeTracker=new lc}render(t=this.panes){const e=this.groupSeriesByPane();for(let i=0;i<t.length;i++){const s=t[i],o=e[s.options.name||"default"]||[];this.addToLegend(o);const r=this.filterVisibleSeries(o);!r||(this.createScatterChart($e(r,Ud),s),this.createScatterLineChart($e(r,Hd),s),this.createBubbleChart($e(r,uo),s))}this.createAxes(t)}appendChart(t,e){this.xAxisRangeTracker.update(t.xAxisRanges),this.yAxisRangeTracker.update(t.yAxisRanges),super.appendChart(t,e)}removeAxis(t){const e=t.options.name;super.removeAxis(t),t.options.vertical?(this.yAxisRangeTracker.reset(e),delete this.namedYAxes[e]):(this.xAxisRangeTracker.reset(e),delete this.namedXAxes[e]),t===this.axisX&&delete this.axisX,t===this.axisY&&delete this.axisY}seriesPaneName(t){const e=this.options,i=t.xAxis,o=Ut([].concat(e.xAxis),function(p){return p.name===i})[0],r=t.yAxis,c=Ut([].concat(e.yAxis),function(p){return p.name===r})[0];return(o||{}).pane||(c||{}).pane||(e.panes||[{}])[0].name||"default"}createScatterChart(t,e){t.length>0&&this.appendChart(new dc(this,{series:t,clip:e.options.clip}),e)}createScatterLineChart(t,e){t.length>0&&this.appendChart(new Yb(this,{series:t,clip:e.options.clip}),e)}createBubbleChart(t,e){t.length>0&&this.appendChart(new FR(this,{series:t,clip:e.options.clip}),e)}createXYAxis(t,e,i){const s=t.name,o=e?this.namedYAxes:this.namedXAxes,r=e?this.yAxisRangeTracker:this.xAxisRangeTracker,a=b({reverse:!e&&this.chartService.rtl},t,{vertical:e}),c=Hn(a.type,nc),h=r.query(),u=c?{min:.1,max:1}:{min:0,max:1},d=r.query(s)||h||u,p=[a.min,a.max],f=this.series;for(let v=0;v<f.length;v++){const x=f[v],S=x[e?"yAxis":"xAxis"];if(S===a.name||0===i&&!S){const T=Ze.current.bindPoint(x,0).valueFields;p.push(T[e?"y":"x"]);break}}let g,m;0===i&&h&&(d.min=Math.min(d.min,h.min),d.max=Math.max(d.max,h.max));for(let v=0;v<p.length;v++)if(p[v]instanceof Date){g=!0;break}m=Hn(a.type,Ln)||!a.type&&g?NO:c?Wl:ii;const _=new m(d.min,d.max,a,this.chartService);if(_.axisIndex=i,s){if(o[s])throw new Error(`${e?"Y":"X"} axis with name ${s} is already defined`);o[s]=_}return this.appendAxis(_),_}createAxes(t){const e=this.options,i=[].concat(e.xAxis),s=[],o=[].concat(e.yAxis),r=[];for(let a=0;a<i.length;a++)de(this.findPane(i[a].pane),t)&&s.push(this.createXYAxis(i[a],!1,a));for(let a=0;a<o.length;a++)de(this.findPane(o[a].pane),t)&&r.push(this.createXYAxis(o[a],!0,a));this.axisX=this.axisX||s[0],this.axisY=this.axisY||r[0]}_dispatchEvent(t,e,i){const s=t._eventCoordinates(e),o=new te(s.x,s.y),r=this.axes,a=r.length,c=[],h=[];for(let u=0;u<a;u++){const d=r[u],p=d.options.vertical?h:c,f=d.getValue(o);null!==f&&p.push(f)}c.length>0&&h.length>0&&t.trigger(i,{element:vi(e),originalEvent:e,x:Eo(c),y:Eo(h)})}updateAxisOptions(t,e){const i=t.options.vertical,s=this.groupAxes(this.panes),o=(i?s.y:s.x).indexOf(t);qb(this.options,o,i,e),qb(this.originalOptions,o,i,e)}}function qb(n,t,e,i){b([].concat(e?n.yAxis:n.xAxis)[t],i)}M(Tp,{xAxis:{},yAxis:{}}),b(Tp.prototype,Jr);const fN=Tp;class Mp extends we{constructor(t,e,i){super(i),this.value=t,this.sector=e}render(){const t=this.options.labels,e=this.owner.chartService;let i=this.value;if(this._rendered||!1===this.visible)return;this._rendered=!0;const s=nt(t),o=this.pointData();if(s?i=s(o):t.format&&(i=e.format.auto(t.format,i)),t.visible&&(i||0===i)){if(t.position===re||t.position===sc)t.color||(t.color=ld(this.options.color)),t.background||(t.background=this.options.color);else{const r=e.theme.seriesDefaults.labels;t.color=t.color||r.color,t.background=t.background||r.background}this.label=new Vt(i,b({},t,{align:re,vAlign:"",animation:{type:zn,delay:this.animationDelay}}),o),this.append(this.label)}}reflow(t){this.render(),this.box=t,this.reflowLabel()}reflowLabel(){const{options:{labels:t},label:e}=this,i=this.sector.clone(),s=t.distance,o=i.middle();if(e){const r=e.box.height(),a=e.box.width();let c;if(t.position===re)i.radius=Math.abs((i.radius-r)/2)+r,c=i.point(o),e.reflow(new P(c.x,c.y-r/2,c.x,c.y));else if(t.position===sc)i.radius=i.radius-r/2,c=i.point(o),e.reflow(new P(c.x,c.y-r/2,c.x,c.y));else{let h;c=i.clone().expand(s).point(o),c.x>=i.center.x?(h=c.x+a,e.orientation=be):(h=c.x-a,e.orientation=fe),e.reflow(new P(h,c.y-r,c.x,c.y))}}}createVisual(){const{sector:t,options:e}=this;if(super.createVisual(),this.value)if(e.visual){const i=(t.startAngle+180)%360,s=e.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new A(t.center.x,t.center.y),radius:t.radius,innerRadius:t.innerRadius,startAngle:i,endAngle:i+t.angle,options:e,sender:this.getSender(),createVisual:()=>{const o=new ge;return this.createSegmentVisual(o),o}});s&&this.visual.append(s)}else this.createSegmentVisual(this.visual)}createSegmentVisual(t){const{sector:e,options:i}=this,s=i.border||{},r=i.color,a={color:r,opacity:i.opacity},c=this.createSegment(e,b({fill:a,stroke:{opacity:i.opacity},zIndex:i.zIndex},s.width>0?{stroke:{color:s.color,width:s.width,opacity:s.opacity,dashType:s.dashType}}:{}));t.append(c),np(i)&&t.append(this.createGradientOverlay(c,{baseColor:r,fallbackFill:a},b({center:[e.center.x,e.center.y],innerRadius:e.innerRadius,radius:e.radius,userSpace:!0},i.overlay)))}createSegment(t,e){return e.singleSegment?new fi(new wt(new A(t.center.x,t.center.y),t.radius),e):Tl.current.createRing(t,e)}createAnimation(){const{options:t,sector:{center:e}}=this;b(t,{animation:{center:[e.x,e.y],delay:this.animationDelay}}),super.createAnimation()}createHighlight(t){const e=this.options.highlight||{},i=e.border||{};return this.createSegment(this.sector,b({},t,{fill:{color:e.color,opacity:e.opacity},stroke:{opacity:i.opacity,width:i.width,color:i.color}}))}highlightVisual(){return this.visual.children[0]}highlightVisualArgs(){const t=this.sector;return{options:this.options,radius:t.radius,innerRadius:t.innerRadius,center:new A(t.center.x,t.center.y),startAngle:t.startAngle,endAngle:t.angle+t.startAngle,visual:this.visual}}tooltipAnchor(){const t=this.sector.clone().expand(5),e=t.middle();return{point:t.point(e),align:_N(e+180)}}formatValue(t){return this.owner.formatPointValue(this,t)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}}}const gN=N(Xe(30),10),mN=N(Xe(60),10);function _N(n){const t=Xe(n),e=N(Math.sin(t),10),i=N(Math.cos(t),10);let s,o;return s=Math.abs(e)>mN?re:i<0?be:fe,o=Math.abs(e)<gN?re:e<0?Se:_e,{horizontal:s,vertical:o}}M(Mp,{color:ve,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:bv,margin:ke(.5),align:mi,zIndex:1,position:Cs},animation:{type:Un},highlight:{visible:!0,border:{width:1}},visible:!0}),b(Mp.prototype,wi);const Kb=Mp,Jb={createLegendItem:function(n,t,e){const i=this.options.legend||{},s=i.labels||{},o=i.inactiveItems||{},r=o.labels||{};if(e&&!1!==e.visibleInLegend){const a=!1!==e.visible,c=a?nt(s):nt(r)||nt(s);let u,d,h=e.category;c&&(h=c({text:h,series:e.series,dataItem:e.dataItem,percentage:e.percentage,value:n})),a?(u={},d=t.color):(u={color:r.color,font:r.font},d=(o.markers||{}).color),jt(h)&&""!==h&&this.legendItems.push({active:a,pointIndex:e.index,text:h,series:e.series,markerColor:d,labels:u})}}};class vc extends we{constructor(t,e){super(e),this.plotArea=t,this.chartService=t.chartService,this.points=[],this.legendItems=[],this.render()}render(){this.traverseDataPoints(this.addValue.bind(this))}traverseDataPoints(t){const{options:e,plotArea:{options:{seriesColors:i=[]}}}=this,s=i.length,o=e.series,r=o.length;for(let a=0;a<r;a++){const c=o[a],h=c.data,{total:u,points:d,count:p}=lb(c),f=360/u;let g,m;isFinite(f)||(g=360/p),m=k(c.startAngle)?c.startAngle:e.startAngle,a!==r-1&&c.labels.position===Cs&&(c.labels.position=re);for(let _=0;_<d.length;_++){const v=d[_];if(!v)continue;const{fields:x,value:S,visible:T}=v,D=0!==S?g||S*f:0,I=1!==h.length&&Boolean(x.explode);Pe(c.color)||(c.color=x.color||i[_%s]),t(S,new Al(null,0,0,m,D),{owner:this,category:k(x.category)?x.category:"",index:_,series:c,seriesIx:a,dataItem:h[_],percentage:0!==u?S/u:0,explode:I,visibleInLegend:x.visibleInLegend,visible:T,zIndex:r-a,animationDelay:this.animationDelay(_,a,r)}),!1!==T&&(m+=D)}}}evalSegmentOptions(t,e,i){const s=i.series;cn(t,{value:e,series:s,dataItem:i.dataItem,category:i.category,percentage:i.percentage},{defaults:s._defaults,excluded:["data","content","template","visual","toggle"]})}addValue(t,e,i){const s=b({},i.series,{index:i.index});if(this.evalSegmentOptions(s,t,i),this.createLegendItem(t,s,i),!1===i.visible)return;const o=new Kb(t,e,s);Object.assign(o,i),this.append(o),this.points.push(o)}reflow(t){const{options:e,points:i,seriesConfigs:s=[]}=this,o=i.length,r=t.clone(),c=Math.min(r.width(),r.height()),h=c/2,u=c-.85*c,d=new P(r.x1,r.y1,r.x1+c,r.y1+c),p=d.center(),f=r.center(),g=e.series.length,m=[],_=[];let v=ie(e.padding,u);this.targetBox=t,v=v>h-5?h-5:v,d.translate(f.x-p.x,f.y-p.y);const x=h-v,S=new te(x+d.x1+v,x+d.y1+v);for(let T=0;T<o;T++){const D=i[T],I=D.sector,F=D.seriesIx;if(I.radius=x,I.center=S,s.length){const $=s[F];I.innerRadius=$.innerRadius,I.radius=$.radius}F===g-1&&D.explode&&(I.center=I.clone().setRadius(.15*I.radius).point(I.middle())),D.reflow(d);const O=D.label;O&&O.options.position===Cs&&F===g-1&&(O.orientation===be?_.push(O):m.push(O))}m.length>0&&(m.sort(this.labelComparator(!0)),this.leftLabelsReflow(m)),_.length>0&&(_.sort(this.labelComparator(!1)),this.rightLabelsReflow(_)),this.box=d}leftLabelsReflow(t){const e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)}rightLabelsReflow(t){const e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)}distanceBetweenLabels(t){const e=We(this.points),i=e.sector,s=t.length-1,o=i.radius+e.options.labels.distance,r=[];let a=t[0].box,c=N(a.y1-(i.center.y-o-a.height()-a.height()/2));r.push(c);for(let h=0;h<s;h++)a=t[h].box,c=N(t[h+1].box.y1-a.y2),r.push(c);return c=N(i.center.y+o-t[s].box.y2-t[s].box.height()/2),r.push(c),r}distributeLabels(t,e){const i=t.length;let s,o,r;for(let a=0;a<i;a++)for(r=-t[a],s=o=a;r>0&&(s>=0||o<i);)r=this._takeDistance(t,a,--s,r),r=this._takeDistance(t,a,++o,r);this.reflowLabels(t,e)}_takeDistance(t,e,i,s){let o=s;if(t[i]>0){const r=Math.min(t[i],o);o-=r,t[i]-=r,t[e]+=r}return o}reflowLabels(t,e){const i=We(this.points),s=i.sector,o=i.options.labels,r=e.length,a=o.distance;let h,c=s.center.y-(s.radius+a)-e[0].box.height();t[0]+=2;for(let u=0;u<r;u++){const d=e[u],p=d.box;c+=t[u],h=this.hAlignLabel(p.x2,s.clone().expand(a),c,c+p.height(),d.orientation===be),d.orientation===be?(o.align!==mi&&(h=s.radius+s.center.x+a),d.reflow(new P(h+p.width(),c,h,c))):(o.align!==mi&&(h=s.center.x-s.radius-a),d.reflow(new P(h-p.width(),c,h,c))),c+=p.height()}}createVisual(){const{options:{connectors:t},points:e}=this,i=e.length;super.createVisual(),this._connectorLines=[];for(let o=0;o<i;o++){const r=e[o],{sector:a,label:c}=r,h=a.middle(),u=(r.options.connectors||{}).color||t.color;if(c){const d=new G({stroke:{color:u,width:t.width},animation:{type:zn,delay:r.animationDelay}});if(c.options.position===Cs){const p=c.box,f=a.center;let _,v,x,g=a.point(h),m=new te(p.x1,p.center().y);g=a.clone().expand(t.padding).point(h),d.moveTo(g.x,g.y),c.orientation===be?(v=new te(p.x1-t.padding,p.center().y),x=Qb(f,g,m,v),m=new te(v.x-4,v.y),x=x||m,x.x=Math.min(x.x,m.x),this.pointInCircle(x,a.center,a.radius+4)||x.x<a.center.x?(_=a.center.x+a.radius+4,d.lineTo(r.options.labels.align!==ln?_<m.x?_:g.x+8:_,g.y),d.lineTo(m.x,v.y)):(x.y=v.y,d.lineTo(x.x,x.y))):(v=new te(p.x2+t.padding,p.center().y),x=Qb(f,g,m,v),m=new te(v.x+4,v.y),x=x||m,x.x=Math.max(x.x,m.x),this.pointInCircle(x,a.center,a.radius+4)||x.x>a.center.x?(_=a.center.x-a.radius-4,d.lineTo(r.options.labels.align!==ln?_>m.x?_:g.x-8:_,g.y),d.lineTo(m.x,v.y)):(x.y=v.y,d.lineTo(x.x,x.y))),d.lineTo(v.x,v.y),this._connectorLines.push(d),this.visual.append(d)}}}}renderVisual(){if(super.renderVisual(),Fv(this.options.series,t=>t.autoFit)){const t=this.targetBox,e=this.box.center(),i=this.visual.bbox();if(!i)return;const s=i.bottomRight(),o=Math.min((e.y-t.y1)/(e.y-i.origin.y),(t.y2-e.y)/(s.y-e.y),(e.x-t.x1)/(e.x-i.origin.x),(t.x2-e.x)/(s.x-e.x));o<1&&this.visual.transform(me().scale(o,o,[e.x,e.y]))}}labelComparator(t){const e=t?-1:1;return function(i,s){return((i.parent.sector.middle()+270)%360-(s.parent.sector.middle()+270)%360)*e}}hAlignLabel(t,e,i,s,o){const{radius:r,center:{x:a,y:c}}=e,h=Math.min(Math.abs(c-i),Math.abs(c-s));return h>r?t:a+Math.sqrt(r*r-h*h)*(o?1:-1)}pointInCircle(t,e,i){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(i,2)}formatPointValue(t,e){return this.chartService.format.auto(e,t.value)}animationDelay(t){return 70*t}stackRoot(){return this}}function Qb(n,t,e,i){const o=(i.y-e.y)*(t.x-n.x)-(i.x-e.x)*(t.y-n.y);let r;if(0!==o){const a=((i.x-e.x)*(n.y-e.y)-(i.y-e.y)*(n.x-e.x))/o;r=new te(n.x+a*(t.x-n.x),n.y+a*(t.y-n.y))}return r}M(vc,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}}),b(vc.prototype,Jb),vc.prototype.isStackRoot=!0;const Xb=vc,e0=class xN extends Vn{render(){this.createPieChart(this.series)}createPieChart(t){const e=t[0],i=new Xb(this,{series:t,padding:e.padding,startAngle:e.startAngle,connectors:e.connectors,legend:this.options.legend});this.appendChart(i)}appendChart(t,e){super.appendChart(t,e),vs(this.options.legend.items,t.legendItems)}};class Dp extends Kb{reflowLabel(){const{options:{labels:t},label:e}=this,i=this.sector.clone(),s=i.middle();if(e){const o=e.box.height();if(t.position===re){i.radius-=(i.radius-i.innerRadius)/2;const r=i.point(s);e.reflow(new P(r.x,r.y-o/2,r.x,r.y))}else super.reflowLabel()}}createSegment(t,e){return Tl.current.createRing(t,e)}}M(Dp,{overlay:{gradient:"roundedGlass"},labels:{position:re},animation:{type:Un}}),b(Dp.prototype,wi);const t0=Dp;class n0 extends Xb{addValue(t,e,i){const s=b({},i.series,{index:i.index});if(this.evalSegmentOptions(s,t,i),this.createLegendItem(t,s,i),!1===i.visible)return;const o=new t0(t,e,s);Object.assign(o,i),this.append(o),this.points.push(o)}reflow(t){const e=this.options,i=t.clone(),o=Math.min(i.width(),i.height()),r=o/2,c=e.series,h=c.length;let u=ie(e.padding,o-.85*o);u=u>r-5?r-5:u;let f,d=r-u,p=0;for(let x=0;x<h;x++){const S=c[x];0===x&&k(S.holeSize)&&(f=S.holeSize,d-=S.holeSize),k(S.size)?d-=S.size:p++,k(S.margin)&&x!==h-1&&(d-=S.margin)}k(f)||(f=(r-u)/(h+.75)*.75,d-=f);let _,v,g=f,m=0;this.seriesConfigs=[];for(let x=0;x<h;x++){const S=c[x];_=ie(S.size,d/p),g+=m,v=g+_,this.seriesConfigs.push({innerRadius:g,radius:v}),m=S.margin||0,g=v}super.reflow(t)}animationDelay(t,e,i){return 50*t+ni*(e+1)/(i+1)}}M(n0,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});const yN=n0,s0=class EN extends Vn{initFields(){this.valueAxisRangeTracker=new lc}render(){this.addToLegend(this.series),this.createPolarAxis(),this.createCharts(),this.createValueAxis()}alignAxes(){const t=this.valueAxis,e=t.range(),s=t.getSlot(t.options.reverse?e.max:e.min),o=this.polarAxis.getSlot(0).center,r=t.box.translate(o.x-s.x1,o.y-s.y1);t.reflow(r)}createValueAxis(){const t=this.valueAxisRangeTracker,e=t.query(),i=this.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1});let s,o;i.type===nc?(s=UO,o={min:.1,max:1}):(s=GO,o={min:0,max:1});const r=t.query(name)||e||o;r&&e&&(r.min=Math.min(r.min,e.min),r.max=Math.max(r.max,e.max));const a=new s(r.min,r.max,i,this.chartService);this.valueAxis=a,this.appendAxis(a)}reflowAxes(){const{options:{plotArea:t},valueAxis:e,polarAxis:i,box:s}=this,o=.15*Math.min(s.width(),s.height()),r=ke(t.padding||{},o),a=s.clone().unpad(r),c=a.clone();c.y2=c.y1+Math.min(c.width(),c.height()),c.align(a,W,re);const h=c.clone().shrink(0,c.height()/2);i.reflow(c),e.reflow(h);const u=e.lineBox().height()-e.box.height();e.reflow(e.box.unpad({top:u})),this.axisBox=c,this.alignAxes(c)}backgroundBox(){return this.box}detachLabels(){}};class o0 extends dc{pointSlot(t,e){const s=te.onCircle(t.center,t.startAngle,t.center.y-e.y1);return new P(s.x,s.y,s.x,s.y)}}M(o0,{clip:!1});const r0=o0;class Ip extends Yb{}Ip.prototype.pointSlot=r0.prototype.pointSlot,M(Ip,{clip:!1});const a0=Ip,AN=class kN extends tp{fillToAxes(t){const e=this._polarAxisCenter();t.lineTo(e.x,e.y)}_polarAxisCenter(){return this.parent.plotArea.polarAxis.box.center()}strokeSegments(){let t=this._strokeSegments;if(!t){const e=this._polarAxisCenter(),i=new $l(!1),s=this.points();s.push(e),t=this._strokeSegments=i.process(s),t.pop()}return t}},MN=class TN extends Co{fillToAxes(t){const i=this.parent.plotArea.polarAxis.box.center(),s=new at([i.x,i.y]);t.segments.unshift(s),t.segments.push(s)}};function IN(n,t){return n.value.x-t.value.x}const ON=class DN extends a0{createSegment(t,e,i){let o;return o=(e.line||{}).style===ho?new AN(t,e,i):new MN(t,e,i),o}createMissingValue(t,e){let i;return jt(t.x)&&e!==co&&(i={x:t.x,y:t.y},e===an&&(i.y=0)),i}seriesMissingValues(t){return t.missingValues||an}_hasMissingValuesGap(){const t=this.options.series;for(let e=0;e<t.length;e++)if("gap"===this.seriesMissingValues(t[e]))return!0}sortPoints(t){if(t.sort(IN),this._hasMissingValuesGap())for(let e=0;e<t.length;e++){const i=t[e];i&&!jt(i.value.y)&&"gap"===this.seriesMissingValues(i.series)&&delete t[e]}return t}};class Op extends s0{createPolarAxis(){const t=new FO(this.options.xAxis,this.chartService);this.polarAxis=t,this.axisX=t,this.appendAxis(t)}valueAxisOptions(t){return b(t,{majorGridLines:{type:Pn},minorGridLines:{type:Pn}},this.options.yAxis)}createValueAxis(){super.createValueAxis(),this.axisY=this.valueAxis}appendChart(t,e){this.valueAxisRangeTracker.update(t.yAxisRanges),Vn.prototype.appendChart.call(this,t,e)}createCharts(){const t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createLineChart($e(t,[zd]),e),this.createScatterChart($e(t,[Gd]),e),this.createAreaChart($e(t,[Fd]),e)}createLineChart(t,e){if(0===t.length)return;const i=new a0(this,{series:t});this.appendChart(i,e)}createScatterChart(t,e){if(0===t.length)return;const i=new r0(this,{series:t});this.appendChart(i,e)}createAreaChart(t,e){if(0===t.length)return;const i=new ON(this,{series:t});this.appendChart(i,e)}_dispatchEvent(t,e,i){const s=t._eventCoordinates(e),o=new te(s.x,s.y),r=this.axisX.getValue(o),a=this.axisY.getValue(o);null!==r&&null!==a&&t.trigger(i,{element:vi(e),x:r,y:a})}createCrosshairs(){}}M(Op,{xAxis:{},yAxis:{}}),b(Op.prototype,Jr);const RN=Op;class l0 extends ep{pointSlot(t,e){const i=t.center.y-e.y1,s=te.onCircle(t.center,t.middle(),i);return new P(s.x,s.y,s.x,s.y)}renderSegments(){if(super.renderSegments(),this._segments&&this._segments.length>1){const t=function NN(n){const t=[];for(let e=0;e<n.length;e++){const i=n[e];t[i.seriesIx]=t[i.seriesIx]||[],t[i.seriesIx].push(i)}return t}(this._segments);for(let e=0;e<t.length;e++){const i=t[e];if(i&&i.length>1){const s=i[0].linePoints[0],o=We(i),r=We(o.linePoints),c=r.categoryIx===r.categoriesCount-1;0===s.categoryIx&&c&&We(i).linePoints.push(s)}}}}createSegment(t,e,i){let o;o=e.style===ho?Jd:wo;const r=new o(t,e,i),a=this.seriesMissingValues(e);return(t.length===e.data.length||a===co)&&(r.options.closed=!0),r}}M(l0,{clip:!1,limitPoints:!1});const c0=l0,LN=class PN extends tp{fillToAxes(){}},FN=class BN extends Co{fillToAxes(){}},GN=class zN extends c0{createSegment(t,e,i,s){const r=(e.line||{}).style;let a,c,h;return this.options.isStacked&&i>0&&s&&(c=s.linePoints.slice(0),a=s),r===ho?(h=new LN(t,e,i,a,c),h.options.closed=!0):(t.push(t[0]),h=new FN(t,e,i,a,c)),h}seriesMissingValues(t){return t.missingValues||an}};class h0 extends t0{constructor(t,e){super(t,null,e)}}M(h0,{overlay:{gradient:"none"},labels:{distance:10}});const UN=h0;class u0 extends we{constructor(t){super(t),this.forEach=t.rtl?Yx:$x}reflow(t){const{options:e,children:i}=this,{gap:s,spacing:o}=e,r=i.length,c=t.angle/(r+s+o*(r-1));let h=t.startAngle+c*(s/2);this.forEach(i,u=>{const d=t.clone();d.startAngle=h,d.angle=c,u.sector&&(d.radius=u.sector.radius),u.reflow(d),u.sector=d,h+=c+c*o})}}M(u0,{gap:1,spacing:0});const HN=u0,jN=class VN extends we{reflow(t){const{options:{reverse:e},children:i}=this,s=i.length,o=e?s-1:0,r=e?-1:1;this.box=new P;for(let a=o;a>=0&&a<s;a+=r){const c=i[a].sector;c.startAngle=t.startAngle,c.angle=t.angle}}};class Rp extends Yr{pointType(){return UN}clusterType(){return HN}stackType(){return jN}categorySlot(t,e){return t.getSlot(e)}pointSlot(t,e){const i=t.clone(),s=t.center.y;return i.radius=s-e.y1,i.innerRadius=s-e.y2,i}reflowPoint(t,e){t.sector=e,t.reflow()}createAnimation(){this.options.animation.center=this.box.toRect().center(),super.createAnimation()}}Rp.prototype.reflow=hn.prototype.reflow,M(Rp,{clip:!1,limitPoints:!1,animation:{type:"pie"}});const WN=Rp;class Np extends s0{createPolarAxis(){const t=new Dd(this.options.categoryAxis,this.chartService);this.polarAxis=t,this.categoryAxis=t,this.appendAxis(t),this.aggregateCategories(),this.createCategoryAxesLabels()}valueAxisOptions(t){return this._hasBarCharts&&b(t,{majorGridLines:{type:Pn},minorGridLines:{type:Pn}}),this._isStacked100&&b(t,{roundToMajorUnit:!1,labels:{format:"P0"}}),b(t,this.options.valueAxis)}aggregateCategories(){As.prototype.aggregateCategories.call(this,this.panes)}createCategoryAxesLabels(){As.prototype.createCategoryAxesLabels.call(this,this.panes)}filterSeries(t){return t}createCharts(){const t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createAreaChart($e(t,[ec]),e),this.createLineChart($e(t,[ic]),e),this.createBarChart($e(t,[tc]),e)}chartOptions(t){const e={series:t},i=t[0];if(i){const s=this.filterVisibleSeries(t),o=i.stack;e.isStacked=o&&s.length>1,e.isStacked100=o&&"100%"===o.type&&s.length>1,e.isStacked100&&(this._isStacked100=!0)}return e}createAreaChart(t,e){if(0===t.length)return;const i=new GN(this,this.chartOptions(t));this.appendChart(i,e)}createLineChart(t,e){if(0===t.length)return;const i=new c0(this,this.chartOptions(t));this.appendChart(i,e)}createBarChart(t,e){if(0===t.length)return;const i=t[0],s=this.chartOptions(t);s.gap=i.gap,s.spacing=i.spacing;const o=new WN(this,s);this.appendChart(o,e),this._hasBarCharts=!0}seriesCategoryAxis(){return this.categoryAxis}_dispatchEvent(t,e,i){const s=t._eventCoordinates(e),o=new te(s.x,s.y),r=this.categoryAxis.getCategory(o),a=this.valueAxis.getValue(o);null!==r&&null!==a&&t.trigger(i,{element:vi(e),category:r,value:a})}createCrosshairs(){}}b(Np.prototype,Jr,{appendChart:As.prototype.appendChart,aggregateSeries:As.prototype.aggregateSeries,seriesSourcePoints:As.prototype.seriesSourcePoints}),M(Np,{categoryAxis:{categories:[]},valueAxis:{}});const ZN=Np;class Pp extends we{constructor(t,e,i){super(e),this.value=t,this.options.index=i.index}reflow(t){const e=this.points,i=this.children[0];this.box=new P(e[0].x,e[0].y,e[1].x,e[2].y),i&&i.reflow(new P(t.x1,e[0].y,t.x2,e[2].y))}createVisual(){const t=this.options;let e;super.createVisual(),e=t.visual?t.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:t,sender:this.getSender(),createVisual:()=>this.createPath()}):this.createPath(),e&&this.visual.append(e)}createPath(){const t=this.options,e=t.border;return G.fromPoints(this.points,{fill:{color:t.color,opacity:t.opacity},stroke:{color:e.color,opacity:e.opacity,width:e.width}}).close()}createHighlight(t){return G.fromPoints(this.points,t)}highlightVisual(){return this.visual.children[0]}highlightVisualArgs(){const t=G.fromPoints(this.points).close();return{options:this.options,path:t}}tooltipAnchor(){const t=this.box;return{point:new te(t.center().x,t.y1),align:{horizontal:"center",vertical:"top"}}}formatValue(t){return this.owner.formatPointValue(this,t)}}M(Pp,{color:ve,border:{width:1}}),b(Pp.prototype,wi);const $N=Pp;class Lp extends we{constructor(t,e){super(e),this.plotArea=t,this.points=[],this.labels=[],this.legendItems=[],this.render()}formatPointValue(t,e){return this.chartService.format.auto(e,t.value)}render(){const{options:t,plotArea:{options:{seriesColors:e=[]}}}=this,i=t.series[0],s=i.data;if(!s)return;const{total:o,points:r}=lb(i);for(let a=0;a<r.length;a++){const c=r[a];if(!c)continue;let h=c.fields;Pe(i.color)||(i.color=h.color||e[a%e.length]),h=b({index:a,owner:this,series:i,dataItem:s[a],percentage:c.value/o},h,{visible:c.visible});const u=c.valueFields.value,d=this.createSegment(u,h),p=this.createLabel(u,h);d&&p&&d.append(p)}}evalSegmentOptions(t,e,i){const s=i.series;cn(t,{value:e,series:s,dataItem:i.dataItem,index:i.index},{defaults:s._defaults,excluded:["data","content","template","toggle","visual"]})}createSegment(t,e){const i=b({},e.series);if(this.evalSegmentOptions(i,t,e),this.createLegendItem(t,i,e),!1!==e.visible){const s=new $N(t,i,e);return Object.assign(s,e),this.append(s),this.points.push(s),s}}createLabel(t,e){const{series:i,dataItem:s}=e,o=b({},this.options.labels,i.labels);let r=t;if(o.visible){const a=nt(o),c={dataItem:s,value:t,percentage:e.percentage,category:e.category,series:i};a?r=a(c):o.format&&(r=this.plotArea.chartService.format.auto(o.format,r)),o.color||(o.color=ld(i.color),o.background||(o.background=i.color)),this.evalSegmentOptions(o,t,e);const h=new Vt(r,b({vAlign:o.position},o),c);return this.labels.push(h),h}}labelPadding(){const t=this.labels,e={left:0,right:0};for(let i=0;i<t.length;i++){const o=t[i].options.align;if(o!==re){const r=t[i].box.width();o===fe?e.left=Math.max(e.left,r):e.right=Math.max(e.right,r)}}return e}dynamicSlopeReflow(t,e,i){const{options:s,points:o}=this,r=o.length,a=o[0];let c=a;for(let p=0;p<o.length;p++)o[p].percentage>c.percentage&&(c=o[p]);let h=a.percentage/c.percentage*e,u=(e-h)/2,d=0;for(let p=0;p<r;p++){const f=o[p].percentage,g=o[p+1],m=g?g.percentage:f,_=o[p].points=[],v=s.dynamicHeight?i*f:i/r;let x;x=f?(e-h*(m/f))/2:m?0:e/2,x=J(x,0,e),_.push(new A(t.x1+u,t.y1+d)),_.push(new A(t.x1+e-u,t.y1+d)),_.push(new A(t.x1+e-x,t.y1+v+d)),_.push(new A(t.x1+x,t.y1+v+d)),u=x,d+=v+s.segmentSpacing,h=J(e-2*x,0,e)}}constantSlopeReflow(t,e,i){const{options:s,points:o}=this,r=o.length,a=s.neckRatio<=1;let h=a?0:(e-e/s.neckRatio)/2;const d=((a?e:e-2*h)-(a?s.neckRatio*e:e))/2;let p=0;for(let f=0;f<r;f++){const g=o[f].points=[],m=o[f].percentage,_=s.dynamicHeight?d*m:d/r,v=s.dynamicHeight?i*m:i/r;g.push(new A(t.x1+h,t.y1+p)),g.push(new A(t.x1+e-h,t.y1+p)),g.push(new A(t.x1+e-h-_,t.y1+v+p)),g.push(new A(t.x1+h+_,t.y1+v+p)),h+=_,p+=v+s.segmentSpacing}}reflow(t){const e=this.points,i=e.length;if(!i)return;const s=this.options,o=t.clone().unpad(this.labelPadding()),r=o.height()-s.segmentSpacing*(i-1),a=o.width();s.dynamicSlope?this.dynamicSlopeReflow(o,a,r):this.constantSlopeReflow(o,a,r);for(let c=0;c<i;c++)e[c].reflow(t)}}M(Lp,{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:re,position:re,zIndex:1}}),b(Lp.prototype,Jb);const YN=Lp;class xc extends we{constructor(t,e){super(),this.options=e,this.color=e.color||ve,this.value=t}render(){this._rendered||(this._rendered=!0,this.createMarker(),this.createLabel(),this.createNote())}createLabel(){const e=this.options.labels;if(e.visible){const i=this.pointData();let o,s=nt(e),r=e.color;o=s?s(i):this.formatValue(e.format),r||(r=ld(this.color)),this.label=new Vt(o,b({align:re,vAlign:re,margin:{left:5,right:5},zIndex:ie(e.zIndex,this.series.zIndex)},e,{color:r}),i),this.append(this.label)}}formatValue(t){return this.owner.formatPointValue(this,t)}reflow(t){this.render();const e=this.label;this.box=t,e&&e.reflow(this.markerBox()),this.note&&this.note.reflow(t),this.marker.reflow(this.markerBox())}markerBox(){const e=this.options.markers,i=e.border,s=this.box.toRect(),r=ie(e.type,"rect")===Ev;let a=ie(i.width,r?1:0);const c=Math.round(a/2);if(e.size){const h=s.center();s.size.width=s.size.height=e.size,s.origin.x=Math.round(h.x-s.size.width/2),s.origin.y=Math.round(h.y-s.size.height/2)}return s.size.width-=a,s.size.height-=a,s.origin.y+=c+.5,s.origin.x+=c+.5,Ml(s)}markerBorder(){const t=this.options,i=t.markers.border,s=ie(i.opacity,t.opacity);return{color:i.color||this.color,width:i.width,opacity:s,dashType:i.dashType}}createMarker(){const t=this.options,e=t.markers,i=new Fn({type:ie(e.type,"rect"),width:e.size,height:e.size,rotation:e.rotation,background:this.color,border:this.markerBorder(),borderRadius:e.borderRadius,opacity:this.series.opacity||t.opacity,zIndex:ie(t.zIndex,this.series.zIndex),animation:t.animation,visual:t.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});this.marker=i,this.append(i)}createHighlight(t){const e=this.options,i=this.options.highlight.markers||this.options.markers,s=new Fn({type:ie(i.type,"rect"),width:i.size,height:i.size,rotation:i.rotation,background:i.color||this.color,border:this.markerBorder(),borderRadius:i.borderRadius,opacity:this.series.opacity||e.opacity,zIndex:ie(e.zIndex,this.series.zIndex)});s.reflow(this.markerBox());const o=s.getElement();return o.options.fill=t.fill,o.options.stroke=t.stroke,o}highlightVisual(){return this.rectVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}}tooltipAnchor(){const t=this.box.center().x;return{point:new te(t,this.box.y1-5),align:{horizontal:re,vertical:Se}}}overlapsBox(t){return this.box.overlaps(t)}unclipElements(){}pointData(){return{x:this.value.x,y:this.value.y,value:this.value.value,dataItem:this.dataItem,series:this.series}}}b(xc.prototype,wi),b(xc.prototype,So),xc.prototype.defaults={markers:{type:"rect",borderRadius:4,border:{color:"transparent"}},padding:{top:1},labels:{visible:!1,padding:3},opacity:1,notes:{label:{}}};const d0=xc;class Bp extends we{constructor(t,e){super(e),this.plotArea=t,this.chartService=t.chartService,this._initFields(),this.render()}_initFields(){this.points=[],this.seriesOptions=[],this.valueRange={min:je,max:Qe},this._evalSeries=[]}render(){this.setRange(),this.traverseDataPoints(this.addValue.bind(this))}setRange(){const{options:{series:t}}=this;for(let e=0;e<t.length;e++){const i=t[e];for(let s=0;s<i.data.length;s++){const{valueFields:o}=this._bindPoint(i,e,s);k(o.value)&&null!==o.value&&(this.valueRange.min=Math.min(this.valueRange.min,o.value),this.valueRange.max=Math.max(this.valueRange.max,o.value))}}}addValue(t,e){let i;t&&k(t.value)&&null!==t.value&&(i=this.createPoint(t,e),i&&Object.assign(i,e)),this.points.push(i)}evalPointOptions(t,e,i){const{series:s,seriesIx:o}=i,r={defaults:s._defaults,excluded:["data","tooltip","content","template","visual","toggle"]};let a=this._evalSeries[o];k(a)||(this._evalSeries[o]=a=cn(t,{},r,!0));let c=t;return a&&(c=b({},t),cn(c,{value:e,series:s,dataItem:i.dataItem,min:this.valueRange.min,max:this.valueRange.max},r)),c}pointType(){return d0}pointOptions(t,e){let i=this.seriesOptions[e];if(!i){const s=this.pointType().prototype.defaults;this.seriesOptions[e]=i=b({},s,{markers:{opacity:t.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},t)}return i}createPoint(t,e){const i=e.series;let s=this.pointOptions(i,e.seriesIx),o=e.color||i.color;s=this.evalPointOptions(s,t,e),Pe(i.color)?o=s.color:0!==this.valueRange.max&&(o=((n,t=.05)=>{const e=di(n),i=1-t;return s=>{const o=e.toHSL(),r=100-o.l;return o.l+=Math.min((i-s)*r,r),o.toCss()}})(o)(t.value/this.valueRange.max));const r=new d0(t,s);return r.color=o,this.append(r),r}seriesAxes(t){const{xAxis:e,yAxis:i}=t,s=this.plotArea,o=e?s.namedXAxes[e]:s.axisX,r=i?s.namedYAxes[i]:s.axisY;if(!o)throw new Error("Unable to locate X axis with name "+e);if(!r)throw new Error("Unable to locate Y axis with name "+i);return{xAxis:o,yAxis:r}}reflow(t){const e=this.points,i=!this.options.clip;let s=0;this.traverseDataPoints((o,r)=>{const a=e[s++],{xAxis:c,yAxis:h}=this.seriesAxes(r.series),u=c.categoryIndex(o.x),d=h.categoryIndex(o.y),p=c.getSlot(u,u,i),f=h.getSlot(d,d,i);if(a)if(p&&f){const g=this.pointSlot(p,f);a.reflow(g)}else a.visible=!1}),this.box=t}pointSlot(t,e){return new P(t.x1,e.y1,t.x2,e.y2)}traverseDataPoints(t){const{options:{series:e}}=this;for(let i=0;i<e.length;i++){const s=e[i],{xAxis:o,yAxis:r}=this.seriesAxes(s),a=o.currentRangeIndices(),c=r.currentRangeIndices();for(let h=0;h<s.data.length;h++){const{valueFields:u,fields:d}=this._bindPoint(s,i,h),p=o.totalIndex(u.x),f=r.totalIndex(u.y),m=c.min<=f&&f<=c.max;a.min<=p&&p<=a.max&&m&&t(u,b({pointIx:h,series:s,seriesIx:i,dataItem:s.data[h],owner:this},d))}}}formatPointValue(t,e){const i=t.value;return this.chartService.format.auto(e,i.x,i.y,i.value)}animationPoints(){const t=this.points,e=[];for(let i=0;i<t.length;i++)e.push((t[i]||{}).marker);return e}}M(Bp,{series:[],tooltip:{format:"{0}, {1}: {2}"},labels:{format:"{2}"},clip:!0}),b(Bp.prototype,{_bindPoint:hn.prototype._bindPoint});const QN=Bp;class Fp extends Vn{initFields(){this.namedXAxes={},this.namedYAxes={}}render(t=this.panes){this.bindCategories(),this.createAxes(t),this.createCharts(t),this.createAxisLabels()}bindCategories(){const t=this.srcSeries||this.series;for(let e=0;e<t.length;e++){const i=t[e],s=i.data||[],{xAxis:o,yAxis:r}=this.seriesAxes(i),a=Uv(o.categories||[]),c=Uv(r.categories||[]);for(let h=0;h<s.length;h++){const{x:u,y:d}=Ze.current.bindPoint(i,h).valueFields;a.has(u)||a.add(u),c.has(d)||c.add(d)}o.categories=a.values(),r.categories=c.values()}}createCharts(t){const e=this.groupSeriesByPane();for(let i=0;i<t.length;i++){const s=t[i],o=e[s.options.name||"default"]||[];this.addToLegend(o);const r=this.filterVisibleSeries(o);!r||this.createHeatmapChart($e(r,[Bd]),s)}}createHeatmapChart(t,e){const i=new QN(this,{series:t});this.appendChart(i,e)}seriesPaneName(t){const e=this.options,i=t.xAxis,o=Ut([].concat(e.xAxis),function(p){return p.name===i})[0],r=t.yAxis,c=Ut([].concat(e.yAxis),function(p){return p.name===r})[0];return(o||{}).pane||(c||{}).pane||(e.panes||[{}])[0].name||"default"}seriesAxes(t){let e,i;const s=this.options,o=[].concat(s.xAxis),r=t.xAxis;e=r?o.find(h=>h.name===r):o[0];const a=[].concat(s.yAxis),c=t.yAxis;if(i=c?a.find(h=>h.name===c):a[0],!e)throw new Error("Unable to locate X axis with name "+r);if(!i)throw new Error("Unable to locate Y axis with name "+c);return{xAxis:e,yAxis:i}}createAxisLabels(){const t=this.axes;for(let e=0;e<t.length;e++)t[e].createLabels()}createXYAxis(t,e,i){const s=t.name,o=e?this.namedYAxes:this.namedXAxes,r=Object.assign({axisCrossingValue:0},t,{vertical:e,reverse:e||this.chartService.rtl?!t.reverse:t.reverse,justified:!1}),c=[r.min,r.max,r.categories?r.categories[0]:null],h=this.series;for(let f=0;f<h.length;f++){const g=h[f],m=g[e?"yAxis":"xAxis"];if(m===r.name||0===i&&!m){const _=Ze.current.bindPoint(g,0).valueFields;c.push(_[e?"y":"x"]);break}}let u,d;for(let f=0;f<c.length;f++)if(c[f]instanceof Date){u=!0;break}d=Hn(r.type,Ln)||!r.type&&u?zl:on;const p=new d(r,this.chartService);if(p.axisIndex=i,s){if(o[s])throw new Error(`${e?"Y":"X"} axis with name ${s} is already defined`);o[s]=p}return this.appendAxis(p),p.mapCategories(),p}createAxes(t){const e=this.options,i=[].concat(e.xAxis),s=[],o=[].concat(e.yAxis),r=[];for(let a=0;a<i.length;a++)de(this.findPane(i[a].pane),t)&&s.push(this.createXYAxis(i[a],!1,a));for(let a=0;a<o.length;a++)de(this.findPane(o[a].pane),t)&&r.push(this.createXYAxis(o[a],!0,a));this.axisX=this.axisX||s[0],this.axisY=this.axisY||r[0]}removeAxis(t){const e=t.options.name;super.removeAxis(t),t.options.vertical?delete this.namedYAxes[e]:delete this.namedXAxes[e],t===this.axisX&&delete this.axisX,t===this.axisY&&delete this.axisY}_dispatchEvent(t,e,i){const s=t._eventCoordinates(e),o=new te(s.x,s.y),r=this.axes,a=r.length,c=[],h=[];for(let u=0;u<a;u++){const d=r[u];fc(d.options.vertical?h:c,d.getCategory(o))}c.length>0&&h.length>0&&t.trigger(i,{element:vi(e),originalEvent:e,x:Eo(c),y:Eo(h)})}updateAxisOptions(t,e){const i=t.options.vertical,s=this.groupAxes(this.panes),o=(i?s.y:s.x).indexOf(t);p0(this.options,o,i,e),p0(this.originalOptions,o,i,e)}crosshairOptions(t){return Object.assign({},t.options.crosshair,{zIndex:0})}}function p0(n,t,e,i){b([].concat(e?n.yAxis:n.xAxis)[t],i)}M(Fp,{xAxis:{},yAxis:{}}),b(Fp.prototype,Jr);const XN=Fp,Wt="color",Zt="first",At="max",pn="noteText";un.current.register(As,[Si,ln,Fr,vo,Lr,mo,po,zr,Gn,Hr,Br,_o,Ur,go,Vr,fo,Gr,xo]),un.current.register(fN,[Ud,Hd,uo]),un.current.register(e0,[Un]),un.current.register(class SN extends e0{render(){this.createDonutChart(this.series)}createDonutChart(t){const e=t[0],i=new yN(this,{series:t,padding:e.padding,connectors:e.connectors,legend:this.options.legend});this.appendChart(i)}},[Ql]),un.current.register(class qN extends Vn{render(){this.createFunnelChart(this.series)}createFunnelChart(t){const e=t[0],i=new YN(this,{series:t,legend:this.options.legend,neckRatio:e.neckRatio,dynamicHeight:e.dynamicHeight,dynamicSlope:e.dynamicSlope,segmentSpacing:e.segmentSpacing,highlight:e.highlight});this.appendChart(i)}appendChart(t,e){super.appendChart(t,e),vs(this.options.legend.items,t.legendItems)}},[Xl]),un.current.register(RN,[Fd,zd,Gd]),un.current.register(ZN,[ec,tc,ic]),un.current.register(XN,[Bd]),Ze.current.register([Si,ln,Fr,vo,Lr,mo],[Gt],[zi,Wt,pn,Mx,Dx]),Ze.current.register([Ur,go,Gr,xo],["from","to"],[zi,Wt,pn]),Ze.current.register([Vr,fo],[Gt],[zi,Wt,pn,"summary"]),Ze.current.register([Fd,zd,Gd],[V,W],[Wt]),Ze.current.register([ec,tc,ic],[Gt],[Wt]),Ze.current.register([Xl],[Gt],[zi,Wt,"visibleInLegend","visible"]),ks.current.register([Si,ln,Fr,vo,Lr,mo,Vr,fo],{value:At,color:Zt,noteText:Zt,errorLow:"min",errorHigh:At}),ks.current.register([Ur,go,Gr,xo],{from:"min",to:At,color:Zt,noteText:Zt}),ks.current.register([ec,tc,ic],{value:At,color:Zt}),Ze.current.register([Ud,Hd,uo],[V,W],[Wt,pn,"xErrorLow","xErrorHigh","yErrorLow","yErrorHigh"]),Ze.current.register([uo],[V,W,"size"],[Wt,zi,pn]),Ze.current.register([Bd],[V,W,Gt],[Wt,pn]),Ze.current.register([po,zr],["open","high","low","close"],[zi,Wt,"downColor",pn]),ks.current.register([po,zr],{open:At,high:At,low:"min",close:At,color:Zt,downColor:Zt,noteText:Zt}),Ze.current.register([Br,_o],["lower","q1","median","q3","upper","mean","outliers"],[zi,Wt,pn]),ks.current.register([Br,_o],{lower:At,q1:At,median:At,q3:At,upper:At,mean:At,outliers:Zt,color:Zt,noteText:Zt}),Ze.current.register([Gn,Hr],["current","target"],[zi,Wt,"visibleInLegend",pn]),ks.current.register([Gn,Hr],{current:At,target:At,color:Zt,noteText:Zt}),Ze.current.register([Un,Ql],[Gt],[zi,Wt,"explode","visibleInLegend","visible"]);const Gp=[zi,Gt,V,W],Ts="mousemove",f0="contextmenu",g0="mouseleave";class m0 extends U{constructor(t,e,i,s={}){super(),this.observers=[],this.addObserver(s.observer),this.chartService=new fd(this,s),this.chartService.theme=i,this._initElement(t);const o=b({},this.options,e);this._originalOptions=b({},o),this._theme=i,this._initTheme(o,i),this._initHandlers(),this._initSurface(),this.bindCategories(),GI.preloadFonts(e,()=>{this.fontLoaded=!0,this._destroyed||(this.trigger("init"),this._redraw(),this._attachEvents())})}_initElement(t){for(this._setElementClass(t),t.style.position="relative";t.firstChild;)t.removeChild(t.firstChild);this.element=t}_setElementClass(t){Et(t,"k-chart")}_initTheme(t,e){const i=[],s=t.series||[];for(let o=0;o<s.length;o++)i.push(Object.assign({},s[o]));t.series=i,function sP(n){const t=Gp;for(let e=0;e<t.length;e++){const i=t[e]+"Axes";n[i]&&(n[t[e]+"Axis"]=n[i],delete n[i])}}(t),this.applyDefaults(t,e),null===t.seriesColors&&delete t.seriesColors,this.options=b({},e,t),this.applySeriesColors()}getSize(){const t=this.options.chartArea||{};return{width:t.width?parseInt(t.width,10):Math.floor(this.element.offsetWidth),height:t.height?parseInt(t.height,10):Math.floor(this.element.offsetHeight)}}resize(t){const e=this.getSize(),i=this._size,s=e.width>0||e.height>0;t||s&&(!i||e.width!==i.width||e.height!==i.height)?(this._size=e,this._resize(e,t),this.trigger("resize",e)):s&&this._selections&&Fv(this._selections,o=>!o.visible)&&(this._destroySelections(),this._setupSelection())}_resize(){this._noTransitionsRedraw()}redraw(t){if(this.applyDefaults(this.options),this.applySeriesColors(),t){const e=this._model._plotArea,i=e.findPane(t);e.redraw(i)}else this._redraw()}getAxis(t){return Ax(t,this._plotArea.axes)}findAxisByName(t){return this.getAxis(t)}findPaneByName(t){const e=this._plotArea.panes;for(let i=0;i<e.length;i++)if(e[i].options.name===t)return new Od(e[i])}findPaneByIndex(t){const e=this._plotArea.panes;if(e[t])return new Od(e[t])}plotArea(){return new YO(this._plotArea)}toggleHighlight(t,e){const i=this._plotArea,s=(i.srcSeries||i.series||[])[0];let o;if(Pe(e))o=i.filterPoints(e);else{let r,a;_i(e)?(r=e.series,a=e.category):r=a=e,o=s.type===Ql?_0(i.pointsBySeriesName(r),a):s.type===Un||s.type===Xl?_0((i.charts[0]||{}).points,a):i.pointsBySeriesName(r)}o&&this.togglePointsHighlight(t,o)}togglePointsHighlight(t,e){const i=this._highlight;for(let s=0;s<e.length;s++)i.togglePointHighlight(e[s],t)}showTooltip(t){const e=this._sharedTooltip(),{_tooltip:i,_plotArea:s}=this;let o,r;if(Pe(t)?(o=s.findPoint(t),o&&e&&(r=o.categoryIx)):e&&k(t)&&(r=s.categoryAxis.categoryIndex(t)),e){if(r>=0){const a=this._plotArea.pointsByCategoryIndex(r);i.showAt(a)}}else o&&i.show(o)}hideTooltip(){this._tooltip.hide()}_initSurface(){const t=this.surface,e=this._surfaceWrap(),i=this.options.chartArea||{};i.width&&tn(e,{width:i.width}),i.height&&tn(e,{height:i.height}),t&&t.options.type===this.options.renderAs?(this.surface.clear(),this.surface.resize()):(this._destroySurface(),this.surface=Qr.create(e,{type:this.options.renderAs}),this.surface.bind("mouseenter",this._surfaceMouseenterHandler),this.surface.bind("mouseleave",this._surfaceMouseleaveHandler))}_surfaceWrap(){return this.element}_redraw(){const t=this._getModel();this._size={width:t.options.width,height:t.options.height},this._destroyView(),this._model=t,this._plotArea=t._plotArea,t.renderVisual(),!1!==this.options.transitions&&t.traverse(function(e){e.animation&&e.animation.setup()}),this._initSurface(),this.surface.draw(t.visual),!1!==this.options.transitions&&t.traverse(function(e){e.animation&&e.animation.play()}),this._tooltip=this._createTooltip(),this._highlight=new W2,this._setupSelection(),this._createPannable(),this._createZoomSelection(),this._createMousewheelZoom(),this.trigger("render"),x0(this._plotArea.panes),this._navState||this._cancelDomEvents()}exportVisual(t){let e;if(t&&(t.width||t.height||t.options)){const i=this.options,s=b({},t.options,{chartArea:{width:t.width,height:t.height}});Up(this._originalOptions,s),this.options=b({},this._originalOptions,s),this._initTheme(this.options,this._theme),this.bindCategories();const o=this._getModel();o.renderVisual(),x0(o._plotArea.panes),e=o.visual,this.options=i}else e=this.surface.exportVisual();return e}_sharedTooltip(){return this._plotArea instanceof As&&this.options.tooltip&&this.options.tooltip.shared}_createPannable(){const t=this.options;!1!==t.pannable&&(this._pannable=new Z2(this._plotArea,t.pannable))}_createZoomSelection(){const t=this.options.zoomable,e=(t||{}).selection;!1!==t&&!1!==e&&(this._zoomSelection=new $2(this,e))}_createMousewheelZoom(){const t=this.options.zoomable,e=(t||{}).mousewheel;!1!==t&&!1!==e&&(this._mousewheelZoom=new Q2(this,e))}_toggleDragZoomEvents(){const e=this.options.zoomable,s=(e||{}).mousewheel,o=!(this.options.pannable||!1!==e&&!1!==(e||{}).selection||this.requiresHandlers([jd,jr,Wr])),r=(!1===e||!1===s)&&!this.requiresHandlers([Zr,bo,yo]),a=this.element;this._dragZoomEnabled&&o&&r?(a.style.touchAction=this._touchAction||"",this._dragZoomEnabled=!1):!this._dragZoomEnabled&&!(o&&r)&&(a.style.touchAction="none",this._dragZoomEnabled=!0),this._toggleDomEvents(!o,!r)}_toggleDomEvents(t,e){const i=this.domEvents;!i||(i.toggleDrag&&i.toggleDrag(t),i.toggleZoom&&i.toggleZoom(e))}_createTooltip(){const{options:{tooltip:t}}=this;let e;return e=this._sharedTooltip()?this._createSharedTooltip(t):new pN(this.chartService,t),e}_createSharedTooltip(t){return new Hb(this._plotArea,t)}applyDefaults(t,e){(function oP(n,t){const e=(t||{}).axisDefaults||{};let i,s,o;function r(a){const c=(a||{}).color||s.color,h=b({},e,e[i],s,s[i],{line:{color:c},labels:{color:c},title:{color:c}},a);return delete h[i],h}for(let a=0;a<Gp.length;a++)i=Gp[a]+"Axis",s=n.axisDefaults||{},o=[].concat(n[i]),o=o.map(r),n[i]=o.length>1?o:o[0]})(t,e),function rP(n,t){const e=n.series,i=e.length,s=n.seriesDefaults,o=b({},n.seriesDefaults),r=t?b({},t.seriesDefaults):{},a=b({},r);v0(o),v0(a);for(let c=0;c<i;c++){const h=e[c].type||n.seriesDefaults.type,u=b({data:[]},a,r[h],{tooltip:n.tooltip},o,s[h]);e[c]._defaults=u,e[c]=b({},u,e[c]),e[c].data=e[c].data||[]}}(t,e)}applySeriesColors(){const t=this.options,e=t.series,i=t.seriesColors||[];for(let s=0;s<e.length;s++){const o=e[s],r=i[s%i.length],a=o._defaults;o.color=o.color||r,a&&(a.color=a.color||r)}}_getModel(){const t=this.options,e=this._createPlotArea(),i=new oO(this._modelOptions());i.chart=this,i._plotArea=e;const s=Il.buildTitle(t.title),o=Il.buildTitle(t.subtitle,{align:t.title.align,position:t.title.position});return i.append.apply(i,Il.orderTitles([s,o])),t.legend&&t.legend.visible&&i.append(new cN(e.options.legend,this.chartService)),i.append(e),i.reflow(),i}_modelOptions(){const t=this.options,e=this.getSize();return b({transitions:t.transitions,width:e.width||600,height:e.height||400},t.chartArea)}_createPlotArea(t){const e=this.options;return un.current.create(t?[]:e.series,e,this.chartService)}_setupSelection(){const{_plotArea:{axes:t}}=this,e=this._selections=[];for(let i=0;i<t.length;i++){const s=t[i],o=s.options;if(s instanceof on&&o.select&&!o.vertical){const r=s.range(),a=new Gb(this,s,b({min:r.min,max:r.max},o.select));e.push(a)}}}_selectStart(t){return this.trigger(Wd,t)}_select(t){return this.trigger($r,t)}_selectEnd(t){return this.trigger(Zd,t)}_initHandlers(){this._clickHandler=this._click.bind(this),this._mousewheelHandler=this._mousewheel.bind(this),this._mouseleaveHandler=this._mouseleave.bind(this),this._surfaceMouseenterHandler=this._mouseover.bind(this),this._surfaceMouseleaveHandler=this._mouseout.bind(this),this._mousemove=Yh(this._mousemove.bind(this),20)}addObserver(t){t&&this.observers.push(t)}removeObserver(t){const e=this.observers.indexOf(t);e>=0&&this.observers.splice(e,1)}requiresHandlers(t){const e=this.observers;for(let i=0;i<e.length;i++)if(e[i].requiresHandlers(t))return!0}trigger(t,e={}){t===Px&&(e.anchor.point=this._toDocumentCoordinates(e.anchor.point)),e.sender=this;const i=this.observers;let s=!1;for(let o=0;o<i.length;o++)i[o].trigger(t,e)&&(s=!0);return s}_attachEvents(){const t=this.element;this._touchAction=t.style.touchAction,kr(t,{[f0]:this._clickHandler,[oc]:this._mousewheelHandler,[g0]:this._mouseleaveHandler}),this._shouldAttachMouseMove()&&kr(t,{[Ts]:this._mousemove}),this.domEvents=nx.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)}),this._toggleDragZoomEvents()}_mouseleave(t){this._hoveredPoint&&(this._hoveredPoint.out(this,t),this._hoveredPoint=null),this._plotAreaHovered&&(this._plotAreaHovered=!1,this.trigger(Vd))}_cancelDomEvents(){this.domEvents&&this.domEvents.cancel&&this.domEvents.cancel()}_gesturestart(t){this._mousewheelZoom&&!this._stopChartHandlers(t)&&(this._gestureDistance=t.distance,this._unsetActivePoint(),this.surface.suspendTracking())}_gestureend(t){this._zooming&&!this._stopChartHandlers(t)&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger(yo,{}))}_gesturechange(t){const e=this._mousewheelZoom;if(e&&!this._stopChartHandlers(t)){t.preventDefault();let s=-t.distance/this._gestureDistance+1;if(Math.abs(s)>=.1){s=Math.round(10*s),this._gestureDistance=t.distance;const o={delta:s,axisRanges:ea(this._plotArea.axes),originalEvent:t};if(this._zooming||!this.trigger(Zr,o)){const r=this._eventCoordinates(t);this._zooming||(this._zooming=!0),(o.axisRanges=e.updateRanges(s,r))&&!this.trigger(bo,o)&&e.zoom()}}}}_mouseout(t){if(t.element){const e=this._drawingChartElement(t.element,t);e&&e.leave&&e.leave(this,t.originalEvent)}}_start(t){const e=this._eventCoordinates(t);this._stopChartHandlers(t)||!this._plotArea.backgroundContainsPoint(e)||(this.requiresHandlers([jd,jr,Wr])&&this._startNavigation(t,e,jd),this._pannable&&this._pannable.start(t)&&(this.surface.suspendTracking(),this._unsetActivePoint(),this._suppressHover=!0,this.chartService.panning=!0),this._zoomSelection&&this._zoomSelection.start(t)&&this.trigger(Zr,{axisRanges:ea(this._plotArea.axes),originalEvent:t}))}_move(t){let{_navState:e,_pannable:i}=this;if(!this._stopChartHandlers(t)){if(i){const s=i.move(t);s&&!this.trigger(jr,{axisRanges:s,originalEvent:t})&&i.pan()}else if(e){const s={},o=e.axes;for(let r=0;r<o.length;r++){const a=o[r];if(a.options.name){const h=a.options.vertical?t.y:t.x,u=h.startLocation-h.location;0!==u&&(s[a.options.name]=a.translateRange(u))}}e.axisRanges=s,this.trigger(jr,{axisRanges:s,originalEvent:t})}this._zoomSelection&&this._zoomSelection.move(t)}}_end(t){if(this._stopChartHandlers(t))return;const e=this._pannable;if(e&&e.end(t)?(this.surface.resumeTracking(),this.trigger(Wr,{axisRanges:ea(this._plotArea.axes),originalEvent:t}),this._suppressHover=!1,this.chartService.panning=!1):this._endNavigation(t,Wr),this._zoomSelection){const i=this._zoomSelection.end(t);i&&!this.trigger(bo,{axisRanges:i,originalEvent:t})&&(this._zoomSelection.zoom(),this.trigger(yo,{axisRanges:i,originalEvent:t}))}}_stopChartHandlers(t){const e=this._selections||[];if(!e.length)return!1;const i=this._eventCoordinates(t),s=this._plotArea.paneByPoint(i);if(s)for(let o=0;o<e.length;o++)if(e[o].onPane(s))return!0}_mousewheelZoomRate(){return ie(((this.options.zoomable||{}).mousewheel||{}).rate,.3)}_mousewheel(t){const e=rd(t),i=this._mousewheelZoom,s=this._eventCoordinates(t);if(!this._stopChartHandlers(t)&&this._plotArea.backgroundContainsPoint(s))if(i){const o={delta:e,axisRanges:ea(this._plotArea.axes),originalEvent:t};(this._zooming||!this.trigger(Zr,o))&&(t.preventDefault(),this._zooming||(this._unsetActivePoint(),this.surface.suspendTracking(),this._zooming=!0),this._mwTimeout&&clearTimeout(this._mwTimeout),o.axisRanges=i.updateRanges(e,s),o.axisRanges&&!this.trigger(bo,o)&&i.zoom(),this._mwTimeout=setTimeout(()=>{this.trigger(yo,o),this._zooming=!1,this.surface&&this.surface.resumeTracking()},150))}else{let o=this._navState;if(o||this._startNavigation(t,s,Zr)||(o=this._navState),o){const r=o.totalDelta||e;o.totalDelta=r+e;const a=this._navState.axes,c={};for(let h=0;h<a.length;h++){const u=a[h],d=u.options.name;d&&(c[d]=u.scaleRange(-r*this._mousewheelZoomRate(),s))}this.trigger(bo,{delta:e,axisRanges:c,originalEvent:t}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(()=>{this._endNavigation(t,yo)},150)}}}_startNavigation(t,e,i){const s=this._model._plotArea,o=s.findPointPane(e),r=s.axes.slice(0);if(!o)return;const a=ea(r);this.trigger(i,{axisRanges:a,originalEvent:t})?this._cancelDomEvents():(this._suppressHover=!0,this._unsetActivePoint(),this._navState={axisRanges:a,pane:o,axes:r})}_endNavigation(t,e){this._navState&&(this.trigger(e,{axisRanges:this._navState.axisRanges,originalEvent:t}),this._suppressHover=!1,this._navState=null)}_getChartElement(t,e){const i=this.surface.eventTarget(t);if(i)return this._drawingChartElement(i,t,e)}_drawingChartElement(t,e,i){let o,s=t;for(;s&&!o;)o=s.chartElement,s=s.parent;if(o)return o.aliasFor&&(o=o.aliasFor(e,this._eventCoordinates(e))),i&&(o=o.closest(i),o&&o.aliasFor&&(o=o.aliasFor())),o}_eventCoordinates(t){const e=BI(t);return this._toModelCoordinates(e.x,e.y)}_elementPadding(){if(!this._padding){const{paddingLeft:t,paddingTop:e}=Le(this.element,["paddingLeft","paddingTop"]);this._padding={top:e,left:t}}return this._padding}_toDocumentCoordinates(t){const e=this._elementPadding(),i=ro(this.element);return{left:N(t.x+e.left+i.left),top:N(t.y+e.top+i.top)}}_toModelCoordinates(t,e){const i=this.element,s=ro(i),o=this._elementPadding(),r=function VI(n){if(!n)return wl.unit();let t=zv(n),e=n.parentElement;for(;e;){const i=zv(e);t=t.multiplyCopy(i),e=e.parentElement}return t.b=t.c=t.e=t.f=0,t}(i).invert(),a=new A(t-s.left-o.left,e-s.top-o.top).transform(r);return new te(a.x,a.y)}_tap(t){const e=this.surface.eventTarget(t),i=this._drawingChartElement(e,t),s=this._sharedTooltip();!this._startHover(e,t)&&!s&&this._unsetActivePoint(),s&&this._trackSharedTooltip(this._eventCoordinates(t),t,!0),this._propagateClick(i,t),this.handlingTap=!0,setTimeout(()=>{this.handlingTap=!1},0)}_click(t){const e=this._getChartElement(t);this._propagateClick(e,t)}_propagateClick(t,e){let i=t;for(;i;)i.click&&i.click(this,e),i=i.parent}_startHover(t,e){if(this._suppressHover)return!1;let i=this._drawingChartElement(t,e,function(a){return(a.hover||a.over)&&!(a instanceof Vn)});const s=this._activePoint,o=this._plotArea.series.length>1,r=this._hasInactiveOpacity();return this._updateHoveredPoint(i,e),i&&s!==i&&i.hover?(this._activePoint=i,!this._sharedTooltip()&&!i.hover(this,e)&&(this._displayTooltip(i),r?this._displayInactiveOpacity(i,o):this._highlight.show(i))):!i&&r&&(o&&this._activeChartInstance&&(this._updateSeriesOpacity(i,!0),this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._activeChartInstance=null),this._highlight&&this._highlight.hide(),this._activePoint=null),i}_displayTooltip(t){b({},this.options.tooltip,t.options.tooltip).visible&&this._tooltip.show(t)}_displayInactiveOpacity(t,e,i){const s=this._activeChartInstance=this._chartInstanceFromPoint(t);if(s)if(e)this._updateSeriesOpacity(t),this._applySeriesOpacity(s.children,null,!0),this._applySeriesOpacity(s.children,t.series),this._highlight.show(i||t);else{let o;if(!s.supportsPointInactiveOpacity())return void this._highlight.show(t);o=this._getInactivePoints(t,s),o&&o.length&&this._highlight.show(o,1-this._getInactiveOpacityForSeries(t.series))}}_getInactivePoints(t,e){return this._getAllPointsOfType(e,t.constructor).filter(s=>s!==t)}_getAllPointsOfType(t,e){let i=[];for(let s=0;s<t.children.length;s++){const o=t.children[s];o.constructor===e?i.push(o):o.children&&o.children.length&&(i=i.concat(this._getAllPointsOfType(o,e)))}return i}_updateHoveredPoint(t,e){const i=this._hoveredPoint;i&&i!==t&&(i.out(this,e),this._hoveredPoint=null),t&&i!==t&&t.over&&(this._hoveredPoint=t,t.over(this,e))}_updateSeriesOpacity(t,e){const i=this._plotArea,s=i.series.length;for(let o=0;o<s;o++){const r=i.series[o],a=this._getDefaultOpacityForSeries(r),c=this._getInactiveOpacityForSeries(r);e||r===t.series?(r.opacity=a,r.line&&(r.line.opacity=a)):(r.defaultOpacity=a,r.opacity=c,r.line&&(r.line.opacity=c))}}_applySeriesOpacity(t,e,i,s){for(let o=0;o<t.length;o++){const r=t[o],a=r.series||s;if(a&&(a.highlight||{}).visible&&r.visual){const h=s?s.opacity:r.series.opacity;(a!==e||i)&&r.visual.opacity(i?1:h)}r.children&&r.children.length&&this._applySeriesOpacity(r.children,e,i,r.series)}}_chartInstanceFromPoint(t){let e=t.parent;for(;e&&!e.plotArea;)e=e.parent;return e}_hasInactiveOpacity(){let t=void 0!==this.options.seriesDefaults.highlight.inactiveOpacity,e=this.options.series.filter(i=>void 0!==i.highlight.inactiveOpacity).length>0;return t||e}_getInactiveOpacityForSeries(t){return t.highlight.inactiveOpacity||this.options.seriesDefaults.highlight.inactiveOpacity||t.opacity||1}_getDefaultOpacityForSeries(t){return t.defaultOpacity||t.opacity||1}_mouseover(t){const e=this._startHover(t.element,t.originalEvent);e&&e.tooltipTracking&&!this._mouseMoveTrackHandler&&!this._sharedTooltip()&&(this._mouseMoveTrackHandler=this._mouseMoveTracking.bind(this),kr(document,{[Ts]:this._mouseMoveTrackHandler}))}_mouseMoveTracking(t){const{options:e,_tooltip:i,_highlight:s,_activePoint:o}=this,r=this._eventCoordinates(t);if(this._plotArea.box.containsPoint(r)){if(o&&o.tooltipTracking&&o.series&&o.parent.getNearestPoint){const a=o.parent.getNearestPoint(r.x,r.y,o.seriesIx);a&&a!==o&&(this._activePoint=a,a.hover(this,t)||(b({},e.tooltip,a.options.tooltip).visible&&i.show(a),s.show(a)))}}else Ar(document,{[Ts]:this._mouseMoveTrackHandler}),this._unsetActivePoint(),this._mouseMoveTrackHandler=null}_mousemove(t){const e=this._eventCoordinates(t),i=this._plotArea;if(this._trackCrosshairs(e),i.hover){const s=i.backgroundContainsPoint(e);s?(this._plotAreaHovered=!0,this._plotArea.hover(this,t)):this._plotAreaHovered&&!s&&(this._plotAreaHovered=!1,this.trigger(Vd))}this._sharedTooltip()&&this._trackSharedTooltip(e,t)}_trackCrosshairs(t){const e=this._plotArea.crosshairs;for(let i=0;i<e.length;i++){const s=e[i];s.box.containsPoint(t)?s.showAt(t):s.hide()}}_trackSharedTooltip(t,e,i){if(this._suppressHover)return;const{options:{tooltip:s},_plotArea:o,_plotArea:{categoryAxis:r},_tooltip:a,_highlight:c}=this;if(o.backgroundContainsPoint(t)){const h=r.pointCategoryIndex(t);if(h!==this._tooltipCategoryIx||!this._sharedHighlight&&i){const u=o.pointsByCategoryIndex(h),d=u.map(function(f){return f.eventArgs(e)}),p=d[0]||{};p.categoryPoints=d,u.length>0&&!this.trigger(Rx,p)?(s.visible&&a.showAt(u,t),c.show(u),this._sharedHighlight=!0):a.hide(),this._tooltipCategoryIx=h}else i&&this._sharedHighlight&&(c.hide(),a.hide(),this._sharedHighlight=!1)}else this._sharedHighlight&&(c.hide(),a.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1)}hideElements(t){const e=this._plotArea;this._mousemove.cancel(),e.hideCrosshairs(),this._unsetActivePoint(t)}_unsetActivePoint(t){const{_tooltip:e,_highlight:i}=this;this._activePoint=null,this._hoveredPoint=null,e&&!(t&&t.keepTooltipOpen)&&e.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1,i&&i.hide()}_deferRedraw(){this._redraw()}_clearRedrawTimeout(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)}bindCategories(){const e=[].concat(this.options.categoryAxis);for(let i=0;i<e.length;i++){const s=e[i];!1!==s.autoBind&&this.bindCategoryAxisFromSeries(s,i)}}bindCategoryAxisFromSeries(t,e){const i=this.options.series,s=i.length,o=new Rv;let c,r=[],a=!1;for(let h=0;h<s;h++){const u=i[h],d=u.categoryAxis===t.name||!u.categoryAxis&&0===e,p=u.data,f=p.length,g=u.categoryField&&d;if(a=g||a,g&&f>0){c=hb(t,Yl(u.categoryField,p[0]));const m=c?cb:Yl;for(let _=0;_<f;_++){const v=p[_],x=m(u.categoryField,v,this.chartService.intl);(c||!o.get(x))&&(r.push([x,v]),c||o.set(x,!0))}}}if(r.length>0){c&&(r=function lP(n,t=Ss){const e=function aP(n,t=Ss){for(let e=1,i=n.length;e<i;e++)if(t(n[e],n[e-1])<0){n.sort(t);break}return n}(n,t),i=e.length,s=i>0?[e[0]]:[];for(let o=1;o<i;o++)0!==t(e[o],We(s))&&s.push(e[o]);return s}(r,function(u,d){return Ss(u[0],d[0])}));const h=function cP(n){const t=n.length,e=[];for(let i=0;i<t;i++){const s=n[i],o=s.length;for(let r=0;r<o;r++)e[r]=e[r]||[],e[r].push(s[r])}return e}(r);t.categories=h[0]}else a&&(t.categories=[])}_isBindable(t){const e=Ze.current.valueFields(t);let i=!0;for(let s=0;s<e.length;s++){let o=e[s];if(o===Gt?o="field":o+="Field",!k(t[o])){i=!1;break}}return i}_noTransitionsRedraw(){const t=this.options;let e;!1!==t.transitions&&(t.transitions=!1,e=!0),this._redraw(),e&&(t.transitions=!0)}_legendItemHover(t,e){const{_plotArea:i,_highlight:s}=this,o=(i.srcSeries||i.series)[t];let r;r=de(o.type,[Un,Ql,Xl])?i.findPoint(function(a){return a.series.index===t&&a.index===e}):i.pointsBySeriesIndex(t),this._hasInactiveOpacity()&&o.visible&&r?this._displayInactiveOpacity(r.length?r[0]:r,i.series.length>1,r):s.show(r)}_shouldAttachMouseMove(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers([Nx,Vd])}updateMouseMoveHandler(){Ar(this.element,{[Ts]:this._mousemove}),this._shouldAttachMouseMove()&&kr(this.element,{[Ts]:this._mousemove})}applyOptions(t,e){Up(this._originalOptions,t),this._originalOptions=b(this._originalOptions,t),this.options=b({},this._originalOptions),e&&(this._theme=e,this.chartService.theme=e),this._initTheme(this.options,this._theme),this._toggleDragZoomEvents()}setOptions(t,e){this.applyOptions(t,e),this.bindCategories(),this.redraw(),this.updateMouseMoveHandler()}setDirection(t){this.chartService.rtl=Boolean(t),this.surface&&"svg"===this.surface.type&&this._destroySurface()}setIntlService(t){this.chartService.intl=t}noTransitionsRedraw(){this._noTransitionsRedraw()}destroy(){this._destroyed=!0,Ar(this.element,{[f0]:this._clickHandler,[oc]:this._mousewheelHandler,[Ts]:this._mousemove,[g0]:this._mouseleaveHandler}),this.domEvents&&(this.domEvents.destroy(),delete this.domEvents),this._mouseMoveTrackHandler&&Ar(document,{[Ts]:this._mouseMoveTrackHandler}),this._destroyView(),this._destroySurface(),this._clearRedrawTimeout()}_destroySurface(){const t=this.surface;t&&(t.unbind("mouseenter",this._surfaceMouseenterHandler),t.unbind("mouseleave",this._surfaceMouseleaveHandler),t.destroy(),this.surface=null)}_destroySelections(){const t=this._selections;if(t)for(;t.length>0;)t.shift().destroy()}_destroyView(){const t=this._model;t&&(t.destroy(),this._model=null),this._unsetActivePoint(),this._destroySelections(),this._tooltip&&this._tooltip.destroy(),this._highlight&&this._highlight.destroy(),this._zoomSelection&&(this._zoomSelection.destroy(),delete this._zoomSelection),this._pannable&&(this._pannable.destroy(),delete this._pannable),this._mousewheelZoom&&(this._mousewheelZoom.destroy(),delete this._mousewheelZoom)}}function _0(n,t){if(n)for(let e=0;e<n.length;e++)if(n[e].category===t)return[n[e]]}function v0(n){delete n.bar,delete n.column,delete n.rangeColumn,delete n.line,delete n.verticalLine,delete n.pie,delete n.donut,delete n.area,delete n.verticalArea,delete n.scatter,delete n.scatterLine,delete n.bubble,delete n.candlestick,delete n.ohlc,delete n.boxPlot,delete n.bullet,delete n.verticalBullet,delete n.polarArea,delete n.polarLine,delete n.radarArea,delete n.radarLine,delete n.waterfall}function ea(n){const t={};for(let e=0;e<n.length;e++){const i=n[e],s=i.options.name;s&&(t[s]=i.range())}return t}const hP=["data","categories"];function Up(n,t){for(let e in t)if(!de(e,hP)&&t.hasOwnProperty(e)){const i=t[e],s=n[e];if(k(s)){const o=null===i;o||!k(i)?(delete n[e],o&&delete t[e]):s&&_i(i)&&_i(s)&&Up(s,i)}}}function x0(n){for(let t=0;t<n.length;t++)n[t].notifyRender()}M(m0,{renderAs:"",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},seriesDefaults:{type:ln,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1});const b0=m0,pP=class dP extends Hb{_slotAnchor(t,e){const s=this.plotArea.categoryAxis.options.vertical,o=s?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"};let r;return r=s?new te(this.plotArea.box.x2,e.center().y):new te(e.center().x,-2),{point:r,align:o}}_defaultAnchor(t,e){return this._slotAnchor({},e)}},y0=[Si,Gn];function S0(n){const t=[];for(let e=0;e<n.length;e++){const i=n[e];t[e]=i.style.display,i.style.display="none"}return t}function w0(n,t){for(let e=0;e<n.length;e++)n[e].style.display=t[e]}function C0(n){return he(n)?[n]:n}M(class mP extends b0{_setElementClass(t){Et(t,"k-sparkline")}_initElement(t){super._initElement(t),this._initialWidth=Math.floor(tn(t).width)}_resize(){const t=this.element,e=S0(t.childNodes);this._initialWidth=Math.floor(tn(t).width),w0(t.childNodes,e),super._resize()}_modelOptions(){const t=this.options,e=this._surfaceWrap(),i=S0(e.childNodes),s=document.createElement("span");s.innerHTML="&nbsp;",e.appendChild(s);const o=b({width:this._autoWidth,height:tn(e).height,transitions:t.transitions},t.chartArea,{inline:!0,align:!1});return tn(e,{width:o.width,height:o.height}),e.removeChild(s),w0(e.childNodes,i),this.surface&&this.surface.resize(),o}_surfaceWrap(){if(!this.stage){const t=this.stage=document.createElement("span");this.element.appendChild(t)}return this.stage}_createPlotArea(t){const e=super._createPlotArea(t);return this._autoWidth=this._initialWidth||this._calculateWidth(e),e}_calculateWidth(t){const e=this.options,i=ke(e.chartArea.margin),s=t.charts,o=this._surfaceWrap();let r=0;for(let c=0;c<s.length;c++){const h=s[c],u=(h.options.series||[])[0];if(!u)continue;if(u.type===Si)return 150;if(u.type===Gn)return 150;if(u.type===Un)return tn(o).height;const d=h.categoryAxis;if(d){const p=d.categoriesCount()*(!h.options.isStacked&&de(u.type,[ln,Hr])?h.seriesOptions.length:1);r=Math.max(r,p)}}let a=r*e.pointWidth;return a>0&&(a+=i.left+i.right),a}_createSharedTooltip(t){return new pP(this._plotArea,t)}static normalizeOptions(t){let e=C0(t);return e=ut(e)?{seriesDefaults:{data:e}}:b({},e),e.series||(e.series=[{data:C0(e.data)}]),b(e,{seriesDefaults:{type:e.type}}),(de(e.series[0].type,y0)||de(e.seriesDefaults.type,y0))&&(e=b({},{categoryAxis:{crosshair:{visible:!1}}},e)),e}},{chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]});const vP=class _P extends Ht{setup(){this._initialOpacity=parseFloat(Le(this.element,"opacity").opacity)}step(t){Le(this.element,{opacity:String(ei(this._initialOpacity,0,t))})}abort(){super.abort(),Le(this.element,{display:"none",opacity:String(this._initialOpacity)})}cancel(){super.abort(),Le(this.element,{opacity:String(this._initialOpacity)})}};function Hp(n,t){const e=document.createElement("div");return e.className=n,t&&(e.style.cssText=t),e}class E0 extends U{constructor(t,e,i){super(),this.options=b({},this.options,i),this.container=t,this.chartService=e;const s=Le(t,["paddingLeft","paddingTop"]);this.chartPadding={top:s.paddingTop,left:s.paddingLeft},this.createElements(),t.appendChild(this.element)}createElements(){const t=this.element=Hp("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;"),e=this.tooltip=Hp("k-tooltip k-chart-tooltip"),i=this.scroll=Hp("k-scroll");e.innerHTML="&nbsp;",t.appendChild(e),t.appendChild(i)}show(t,e,i){const{element:s,options:o,scroll:r,tooltip:a}=this,c=Te(Me(t)+Me(e-t)/2),h=.4*i.width(),u=i.center().x-h,g=(i.center().x-u)/(o.max-o.min),m=c-o.min;let _=this.chartService.intl.format(o.format,t,e);const v=nt(o);this.clearHideTimeout(),this._visible||(Le(s,{visibility:"hidden",display:"block"}),this._visible=!0),v&&(_=v({from:t,to:e})),a.innerHTML=_,Le(a,{left:i.center().x-a.offsetWidth/2,top:i.y1});const x=Le(a,["marginTop","borderTopWidth","height"]);Le(r,{width:h,left:u+m*g,top:i.y1+x.marginTop+x.borderTopWidth+x.height/2}),Le(s,{visibility:"visible"})}clearHideTimeout(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideAnimation&&this._hideAnimation.cancel()}hide(){this.clearHideTimeout(),this._hideTimeout=setTimeout(()=>{this._visible=!1,this._hideAnimation=new vP(this.element),this._hideAnimation.setup(),this._hideAnimation.play()},this.options.hideDelay)}destroy(){this.clearHideTimeout(),this.container&&this.container.removeChild(this.element),delete this.container,delete this.chartService,delete this.element,delete this.tooltip,delete this.scroll}}M(E0,{format:"{0:d} - {1:d}",hideDelay:500});const xP=E0,Wn="_navigator",fn=Wn;class bc extends U{constructor(t){super(),this.chart=t;const e=this.options=b({},this.options,t.options.navigator),i=e.select;i&&(i.from=this.parseDate(i.from),i.to=this.parseDate(i.to)),k(e.hint.visible)||(e.hint.visible=e.visible),this.chartObserver=new Pv(this,{[jr]:"_drag",[Wr]:"_dragEnd",[bo]:"_zoom",[yo]:"_zoomEnd"}),t.addObserver(this.chartObserver)}parseDate(t){return gt(this.chart.chartService.intl,t)}clean(){this.selection&&(this.selection.destroy(),this.selection=null),this.hint&&(this.hint.destroy(),this.hint=null)}destroy(){this.chart&&(this.chart.removeObserver(this.chartObserver),delete this.chart),this.clean()}redraw(){this._redrawSelf(),this.initSelection()}initSelection(){const{chart:t,options:e}=this,i=this.mainAxis(),{min:s,max:o}=i.roundedRange(),{from:r,to:a,mousewheel:c}=e.select,h=function yP(n){return k0.prototype=n,new k0}(i);0!==i.categoriesCount()&&(this.clean(),h.box=i.box,this.selection=new Gb(t,h,{min:s,max:o,from:r||s,to:a||o,mousewheel:ie(c,{zoom:"left"}),visible:e.visible},new Pv(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"})),e.hint.visible&&(this.hint=new xP(t.element,t.chartService,{min:s,max:o,template:nt(e.hint),format:e.hint.format})))}setRange(){const e=this.chart._createPlotArea(!0).namedCategoryAxes[fn],{min:i,max:s}=e.roundedRange(),o=this.options.select||{};let r=o.from||i;r<i&&(r=i);let a=o.to||s;a>s&&(a=s),this.options.select=b({},o,{from:r,to:a}),this.filterAxes()}_redrawSelf(t){const e=this.chart._plotArea;e&&e.redraw(We(e.panes),t)}redrawSlaves(){const t=this.chart,e=t._plotArea,i=e.panes.slice(0,-1);e.srcSeries=t.options.series,e.options.categoryAxis=t.options.categoryAxis,e.clearSeriesPointsCache(),e.redraw(i)}_drag(t){const{chart:e,selection:i}=this,s=e._eventCoordinates(t.originalEvent),o=this.mainAxis(),r=o.roundedRange(),a=o.pane.box.containsPoint(s),h=t.axisRanges[e._plotArea.categoryAxis.options.name],u=this.options.select;let d;if(!h||a||!i)return;d=u.from&&u.to?Me(u.to)-Me(u.from):Me(i.options.to)-Me(i.options.from);const p=Te(J(Me(h.min),r.min,Me(r.max)-d)),f=Te(J(Me(p)+d,Me(r.min)+d,r.max));this.options.select={from:p,to:f},this.options.liveDrag&&(this.filterAxes(),this.redrawSlaves()),i.set(p,f),this.showHint(p,f)}_dragEnd(){this.filterAxes(),this.filter(),this.redrawSlaves(),this.hint&&this.hint.hide()}readSelection(){const{selection:{options:{from:t,to:e}},options:{select:i}}=this;i.from=t,i.to=e}filterAxes(){const{options:{select:t={}},chart:e}=this,i=e.options.categoryAxis,{from:s,to:o}=t;for(let r=0;r<i.length;r++){const a=i[r];a.pane!==Wn&&(a.min=s,a.max=o)}}filter(){const{chart:t,options:{select:e}}=this;if(!t.requiresHandlers(["navigatorFilter"]))return;const i=this.mainAxis(),s={from:e.from,to:e.to};if("category"!==i.options.type){const o=new zl(b({baseUnit:"fit"},t.options.categoryAxis[0],{categories:[e.from,e.to]}),t.chartService).options;s.from=kt(o.min,-o.baseUnitStep,o.baseUnit),s.to=kt(o.max,o.baseUnitStep,o.baseUnit)}this.chart.trigger("navigatorFilter",s)}_zoom(t){const{chart:{_plotArea:{categoryAxis:e}},selection:i,options:{select:s,liveDrag:o}}=this,r=this.mainAxis();let a=t.delta;if(!i)return;const c=r.categoryIndex(i.options.from),h=r.categoryIndex(i.options.to),u=this.chart._eventCoordinates(t.originalEvent);t.originalEvent.preventDefault(),Math.abs(a)>1&&(a*=3),h-c>1?(i.zoom(a,u),this.readSelection()):(e.options.min=s.from,s.from=e.scaleRange(-t.delta*this.chart._mousewheelZoomRate(),u).min),o&&(this.filterAxes(),this.redrawSlaves()),i.set(s.from,s.to),this.showHint(this.options.select.from,this.options.select.to)}_zoomEnd(t){this._dragEnd(t)}showHint(t,e){this.hint&&this.hint.show(t,e,this.chart._plotArea.backgroundBox())}_selectStart(t){return this.chart._selectStart(t)}_select(t){return this.showHint(t.from,t.to),this.chart._select(t)}_selectEnd(t){return this.hint&&this.hint.hide(),this.readSelection(),this.filterAxes(),this.filter(),this.redrawSlaves(),this.chart._selectEnd(t)}mainAxis(){const t=this.chart._plotArea;if(t)return t.namedCategoryAxes[fn]}select(t,e){const i=this.options.select;return t&&e&&(i.from=this.parseDate(t),i.to=this.parseDate(e),this.filterAxes(),this.filter(),this.redrawSlaves(),this.selection.set(t,e)),{from:i.from,to:i.to}}static setup(t={},e={}){if(t.__navi)return;t.__navi=!0;const i=b({},e.navigator,t.navigator),s=t.panes=[].concat(t.panes),o=b({},i.pane,{name:Wn});i.visible||(o.visible=!1,o.height=.1),s.push(o),bc.attachAxes(t,i),bc.attachSeries(t,i,e)}static attachAxes(t,e){const i=e.series||[],s=t.categoryAxis=[].concat(t.categoryAxis),o=t.valueAxis=[].concat(t.valueAxis),a=0===$e(i,Ox).length,c=b({type:"date",pane:Wn,roundToBaseUnit:!a,justified:a,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:e.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}}),h=e.categoryAxis;s.push(b({},c,{maxDateGroups:200},h,{name:fn,title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),b({},c,h,{name:fn+"_labels",maxDateGroups:20,baseUnitStep:"auto",labels:{position:""},plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:!0}),b({},c,h,{name:fn+"_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:!1,mirror:!0},_overlap:!0})),o.push(b({name:fn,pane:Wn,majorGridLines:{visible:!1},visible:!1},e.valueAxis))}static attachSeries(t,e,i){const s=t.series=t.series||[],o=[].concat(e.series||[]),r=i.seriesColors,a=e.seriesDefaults;for(let c=0;c<o.length;c++)s.push(b({color:r[c%r.length],categoryField:e.dateField,visibleInLegend:!1,tooltip:{visible:!1}},a,o[c],{axis:fn,categoryAxis:fn,autoBind:e.autoBindElements}))}}function k0(){}const A0=bc;M(class wP extends b0{applyDefaults(t,e){const i=tn(this.element).width||600;let s=e;const o={seriesDefaults:{categoryField:t.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:Math.floor(i/28)}}};s&&(s=b({},s,o)),A0.setup(t,s),super.applyDefaults(t,s)}_setElementClass(t){Et(t,"k-chart k-stockchart")}setOptions(t){this.destroyNavigator(),super.setOptions(t)}noTransitionsRedraw(){const t=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=t}_resize(){this.noTransitionsRedraw()}_redraw(){const t=this.navigator;!this._dirty()&&t&&t.options.partialRedraw?t.redrawSlaves():this._fullRedraw()}_dirty(){const t=this.options,i=Ut([].concat(t.series,t.navigator.series),function(o){return o&&o.visible}).length,s=this._seriesCount!==i;return this._seriesCount=i,s}_fullRedraw(){let t=this.navigator;t||(t=this.navigator=new A0(this),this.trigger("navigatorCreated",{navigator:t})),t.clean(),t.setRange(),super._redraw(),t.initSelection()}_trackSharedTooltip(t){const i=this._plotArea.paneByPoint(t);i&&i.options.name===Wn?this._unsetActivePoint():super._trackSharedTooltip(t)}bindCategories(){super.bindCategories(),this.copyNavigatorCategories()}copyNavigatorCategories(){const t=[].concat(this.options.categoryAxis);let e;for(let i=0;i<t.length;i++){const s=t[i];s.name===fn?e=s.categories:e&&s.pane===Wn&&(s.categories=e)}}destroyNavigator(){this.navigator&&(this.navigator.destroy(),this.navigator=null)}destroy(){this.destroyNavigator(),super.destroy()}_stopChartHandlers(t){const e=this._eventCoordinates(t),i=this._plotArea.paneByPoint(e);return super._stopChartHandlers(t)||i&&i.options.name===Wn}_toggleDragZoomEvents(){this._dragZoomEnabled||(this.element.style.touchAction="none",this._dragZoomEnabled=!0)}},{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!0},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}});class EP extends(Ks(ar(ol(Mi)))){get nodeType(){return"Arc"}constructor(t=new Ii,e={}){super(e),this.geometry(t),ee(this.options.stroke)||this.stroke("#000")}_bbox(t){return this._geometry.bbox(t)}rawBBox(){return this.geometry().bbox()}toPath(){const t=new G,e=this.geometry().curvePoints();if(e.length>0){t.moveTo(e[0].x,e[0].y);for(let i=1;i<e.length;i+=3)t.curveTo(e[i],e[i+1],e[i+2])}return t}_containsPoint(t){return this.geometry().containsPoint(t)}_isOnPath(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)}}const kP=EP;class AP extends(Ks(ar(ol(Mi)))){get nodeType(){return"Rect"}constructor(t=new ue,e={}){super(e),this.geometry(t),ee(this.options.stroke)||this.stroke("#000")}_bbox(t){return this._geometry.bbox(t)}rawBBox(){return this._geometry.bbox()}_containsPoint(t){return this._geometry.containsPoint(t)}_isOnPath(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)}}const TP=AP;function T0(n,t,e,i,s){for(let o=0;o<n.length;o++){const r=n[o].clippedBBox();if(r){const a=r.origin.clone();a[i]=Xr(r.size[s],t,e||"start",i,s),mc(a,r,n[o])}}}function MP(n,t,e){T0(n,t,e,"x","width")}function DP(n,t,e){T0(n,t,e,"y","height")}function Vp(n,t,e,i){if(n.length>1){const s=new A;let o=n[0].bbox;for(let r=1;r<n.length;r++){let a=n[r].element,c=n[r].bbox;s[t]=o.origin[t]+o.size[i],s[e]=c.origin[e],mc(s,c,a),c.origin[t]=s[t],o=c}}}function M0(n){const t=[];for(let e=0;e<n.length;e++){let i=n[e],s=i.clippedBBox();s&&t.push({element:i,bbox:s})}return t}function IP(n){Vp(M0(n),"x","y","width")}function OP(n){Vp(M0(n),"y","x","height")}function D0(n,t,e,i,s){const o=function RP(n,t,e){const i=t.size[e],s=[];let a,c,o=[],r=0;const h=function(){o.push({element:a,bbox:c})};for(let u=0;u<n.length;u++)if(a=n[u],c=a.clippedBBox(),c){let d=c.size[e];r+d>i?o.length?(s.push(o),o=[],h(),r=d):(h(),s.push(o),o=[],r=0):(h(),r+=d)}return o.length&&s.push(o),s}(n,t,s),r=t.origin.clone(),a=[];for(let c=0;c<o.length;c++){let h=o[c],u=h[0];r[i]=u.bbox.origin[i],mc(r,u.bbox,u.element),u.bbox.origin[e]=r[e],Vp(h,e,i,s),a.push([]);for(let d=0;d<h.length;d++)a[c].push(h[d].element)}return a}function NP(n,t){return D0(n,t,"x","y","width")}function PP(n,t){return D0(n,t,"y","x","height")}function LP(n,t){const e=n.clippedBBox();if(e){const i=e.size,s=t.size;if(s.width<i.width||s.height<i.height){const o=Math.min(s.width/i.width,s.height/i.height),r=n.transform()||me();r.scale(o,o),n.transform(r)}}}let jp;class Wp extends U{static get current(){return jp||(jp=new Wp),jp}parse(t,e){const i=new Oi(e);return ru(i,t)}}const BP=Wp,O0="arrowPointer",ia="barPointer",P0=Math.PI/180,Zn="inside",yc="linear",Zp="outside",L0="radialPointer",B0="radialRangePointer";function F0(n,t){const e=n.getOrigin(),i=n.getSize(),s=ke(t);return n.setOrigin([e.x-s.left,e.y-s.top]),n.setSize([i.width+(s.left+s.right),i.height+(s.top+s.bottom)]),n}const{Group:zP,Path:z0,Text:GP}=Sn;function G0(n,t){const e=n.box,i=n.children[0].box,s=t.border||{},o=t.background||"",r=z0.fromRect(new ue([e.x1,e.y1],[e.width(),e.height()]),{stroke:{}}),a=new GP(n.text,new A(i.x1,i.y1),{font:t.font,fill:{color:t.color}}),c=F0(a.bbox().clone(),t.padding),h=z0.fromRect(c,{stroke:{color:s.width?s.color:"",width:s.width,opacity:s.opacity,dashType:s.dashType,lineJoin:"round",lineCap:"round"},fill:{color:o}}),u=new zP;return u.append(r),u.append(h),u.append(a),u}function U0(n,t,e){const i=k(n.from)?n.from:Qe,s=k(n.to)?n.to:je;return n.from=Math.max(Math.min(s,i),t),n.to=Math.min(Math.max(s,i),e),n}function H0(n,t){const e=ke(t);return e.left=-e.left,e.top=-e.top,e.right=-e.right,e.bottom=-e.bottom,F0(n,e)}const{Path:HP,Surface:VP}=Sn;class V0 extends U{constructor(t,e,i,s={}){super(),this.element=t,this.theme=i,this.contextService=new fd(this,s),this._originalOptions=b({},this.options,e),this.options=b({},this._originalOptions),this._initTheme(i),this.redraw()}destroy(){this.surface&&(this.surface.destroy(),this.surface=null),delete this.element,delete this.surfaceElement}value(t){const e=this.pointers[0];if(0===arguments.length)return e.value();e.value(t),this._setValueOptions(t)}_draw(){const t=this.surface;t.clear(),t.draw(this._visuals)}exportVisual(){return this._visuals}allValues(t){const e=this.pointers,i=[];if(0===arguments.length){for(let s=0;s<e.length;s++)i.push(e[s].value());return i}if(ut(t))for(let s=0;s<t.length;s++)he(t[s])&&e[s].value(t[s]);this._setValueOptions(t)}_setValueOptions(t){const e=[].concat(this.options.pointer),i=[].concat(t);for(let s=0;s<i.length;s++)e[s].value=i[s]}resize(){this.noTransitionsRedraw()}noTransitionsRedraw(){const t=this.options.transitions;this._toggleTransitions(!1),this.redraw(),this._toggleTransitions(t)}redraw(){const t=this._surfaceSize(),e=new ue([0,0],[t.width,t.height]);this._initSurface(),this.gaugeArea=this._createGaugeArea(),this._createModel();const i=H0(e.bbox(),this._gaugeAreaMargin);this.reflow(i)}setOptions(t,e){this._originalOptions=b(this._originalOptions,t),this.options=b({},this._originalOptions),this._initTheme(e),this.redraw()}setDirection(t){this.contextService.rtl=Boolean(t),this.surface&&"svg"===this.surface.type&&(this.surface.destroy(),this.surface=null)}setIntlService(t){this.contextService.intl=t}_initTheme(t){let e=t||this.theme||{};this.theme=e,this.options=b({},e,this.options);const i=this.options,s=i.pointer;if(ut(s)){const o=[];for(let r=0;r<s.length;r++)o.push(b({},e.pointer,s[r]));i.pointer=o}}_createGaugeArea(){const t=this.options.gaugeArea,e=this.surface.size(),i=t.border||{};let s=new ue([0,0],[e.width,e.height]);return this._gaugeAreaMargin=t.margin||5,i.width>0&&(s=H0(s,i.width)),HP.fromRect(s,{stroke:{color:i.width?i.color:"",width:i.width,dashType:i.dashType,lineJoin:"round",lineCap:"round"},fill:{color:t.background}})}_initSurface(){const{options:t,surface:e}=this,i=this._surfaceElement(),s=this._surfaceSize();tn(i,s),e&&e.options.type===t.renderAs?(this.surface.clear(),this.surface.resize()):(e&&e.destroy(),this.surface=VP.create(i,{type:t.renderAs}))}_surfaceSize(){const t=this.options,e=this._getSize();return t.gaugeArea&&b(e,t.gaugeArea),e}_surfaceElement(){return this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement)),this.surfaceElement}getSize(){return this._getSize()}_getSize(){const t=this.element,e=this._defaultSize();let i=t.offsetWidth,s=t.offsetHeight;return i||(i=e.width),s||(s=e.height),{width:i,height:s}}_defaultSize(){return{width:200,height:200}}_toggleTransitions(t){this.options.transitions=t;for(let e=0;e<this.pointers.length;e++)this.pointers[e].options.animation.transitions=t}}M(V0,{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}});const j0=V0,{Path:$p,Group:na}=Sn,Sc=A;function jP(n,t){const{position:e,tickX:i,tickY:s}=n;let o,r;return n.vertical?(o=new Sc(i,e),r=new Sc(i+t.size,e)):(o=new Sc(e,s),r=new Sc(e,s+t.size)),new $p({stroke:{color:t.color,width:t.width}}).moveTo(o).lineTo(r)}function W0(n,t,e,i){const s=t.length;if(i.visible){const{mirror:o,lineBox:r}=e;for(let a=i.skip;a<s;a+=i.step)a%i.skipUnit!=0&&(e.tickX=o?r.x2:r.x2-i.size,e.tickY=o?r.y1-i.size:r.y1,e.position=t[a],n.append(jP(e,i)))}}class Z0 extends ii{constructor(t,e){let i=t||{};!k(i.reverse)&&!1===i.vertical&&(e||{}).rtl&&(i=Object.assign({},i,{reverse:!0})),super(0,1,i,e),this.options.minorUnit=this.options.minorUnit||this.options.majorUnit/10}initUserOptions(t){let e=b({},this.options,t);return e=b({},e,{labels:{mirror:e.mirror}}),e.majorUnit=e.majorUnit||Mr(e.min,e.max),e}initFields(){}render(){const t=this.elements=new na,e=this.renderLabels(),i=this.renderLine(),s=this.renderTicks(),o=this.renderRanges();return t.append(i,e,s,o),t}renderRanges(){const t=this.options,{min:e,max:i,vertical:s,labels:{mirror:o}}=t,r=t.ranges||[],a=new na,c=r.length,h=t.rangeSize||t.minorTicks.size/2;for(let u=0;u<c;u++){const d=U0(r[u],e,i),p=this.getSlot(d.from,d.to),f=s?this.lineBox():p,g=s?p:this.lineBox();s?f.x1-=h*(o?-1:1):g.y2+=h*(o?-1:1),a.append($p.fromRect(new ue([f.x1,g.y1],[f.x2-f.x1,g.y2-g.y1]),{fill:{color:d.color,opacity:d.opacity},stroke:{}}))}return a}renderLabels(){const{labels:t,options:e}=this,i=new na;for(let s=0;s<t.length;s++)i.append(G0(t[s],e.labels));return i}renderLine(){const t=this.options.line,e=this.lineBox(),i=new na;if(t.width>0&&t.visible){const s=new $p({stroke:{color:t.color,dashType:t.dashType,width:t.width}});s.moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),i.append(s)}return i}renderTicks(){const t=new na,e=this.options,i=e.majorTicks.visible?e.majorUnit:0,s={vertical:e.vertical,mirror:e.labels.mirror,lineBox:this.lineBox()};return W0(t,this.getMajorTickPositions(),s,e.majorTicks),W0(t,this.getMinorTickPositions(),s,b({},{skipUnit:i/e.minorUnit},e.minorTicks)),t}}M(Z0,{min:0,max:50,majorTicks:{size:15,align:Zn,color:Ve,width:.5,visible:!0},minorTicks:{size:10,align:Zn,color:Ve,width:.5,visible:!0},line:{width:.5},labels:{position:Zn,padding:2},mirror:!1,_alignLines:!1});const WP=Z0;class $0 extends U{constructor(t,e){super();const{min:i,max:s}=t.options,o=this.options=b({},this.options,e);o.fill=o.color,this.scale=t,o.value=k(o.value)?J(o.value,i,s):i}value(t){const e=this.options;if(0===arguments.length)return e.value;const{min:s,max:o}=this.scale.options;e._oldValue=k(e._oldValue)?e.value:s,e.value=J(t,s,o),this.elements&&this.repaint()}}M($0,{color:Ve});const Yp=$0;class Y0 extends Yp{constructor(t,e){super(t,e),this.options=b({track:{visible:k(e.track)}},this.options)}reflow(){const{options:t,scale:e}=this,{mirror:i,vertical:s}=e.options,o=e.lineBox(),r=t.track.size||t.size,a=t.size/2,c=ke(t.margin);let u,d,p,h=s?c[i?"left":"right"]:c[i?"bottom":"top"];h=i?-h:h,s?(p=new P(o.x1+h,o.y1,o.x1+h,o.y2),i?p.x1-=r:p.x2+=r,t.shape!==ia&&(d=new P(o.x2+h,o.y1-a,o.x2+h,o.y2+a),u=d)):(p=new P(o.x1,o.y1-h,o.x2,o.y1-h),i?p.y2+=r:p.y1-=r,t.shape!==ia&&(d=new P(o.x1-a,o.y1-h,o.x2+a,o.y1-h),u=d)),this.trackBox=p,this.pointerRangeBox=d,this.box=u||p.clone().pad(t.border.width)}getElementOptions(){const t=this.options;return{fill:{color:t.color,opacity:t.opacity},stroke:k(t.border)?{color:t.border.width?t.border.color||t.color:"",width:t.border.width,dashType:t.border.dashType,opacity:t.opacity}:null}}_margin(){const{scale:t,options:e}=this,{mirror:i,vertical:s}=t.options,o=ke(e.margin);return s?o[i?"left":"right"]:o[i?"bottom":"top"]}}M(Y0,{shape:ia,track:{border:{width:1}},color:Ve,border:{width:1},opacity:1,margin:ke(3),animation:{type:ia},visible:!0});const q0=Y0;class qp extends Ht{setup(){const t=this.options,{margin:e,from:i,to:s,vertical:o}=t,r=o?"x1":"y1";t.mirror===o?(i[r]-=e,s[r]-=e):(i[r]+=e,s[r]+=e);const a=this.fromScale=new A(i.x1,i.y1),c=this.toScale=new A(s.x1,s.y1);0!==t.duration&&(t.duration=Math.max(a.distanceTo(c)/t.duration*1e3,1))}step(t){const e=ei(this.fromScale.x,this.toScale.x,t),i=ei(this.fromScale.y,this.toScale.y,t);this.element.transform(me().translate(e,i))}}M(qp,{easing:yc,duration:250}),xi.current.register(O0,qp);const ZP=qp,Ao=A,$P=G,qP=class YP extends q0{constructor(t,e){super(t,e),k(this.options.size)||(this.options.size=.6*this.scale.options.majorTicks.size)}pointerShape(){const{scale:t,options:{size:e}}=this,i=e/2,s=t.options.mirror?-1:1;let o;return o=t.options.vertical?[new Ao(0,0-i),new Ao(0-s*e,0),new Ao(0,0+i)]:[new Ao(0-i,0),new Ao(0,0+s*e),new Ao(0+i,0)],o}repaint(){const{scale:t,options:e}=this,i=new ZP(this.elements,b(e.animation,{vertical:t.options.vertical,mirror:t.options.mirror,margin:this._margin(e.margin),from:t.getSlot(e._oldValue),to:t.getSlot(e.value)}));!1===e.animation.transitions&&(i.options.duration=0),i.setup(),i.play()}render(){const{scale:t,options:e}=this,i=this.getElementOptions(),s=this.pointerShape(e.value);e.animation.type=O0;const o=new $P({stroke:i.stroke,fill:i.fill}).moveTo(s[0]).lineTo(s[1]).lineTo(s[2]).close(),r=t.getSlot(e.value);return o.transform(me().translate(r.x1,r.y1)),this.elements=o,o}};class Kp extends Ht{setup(){const t=this.options,e=this.axis=t.vertical?W:V,i=this.to=t.newPoints[0][e],s=this.from=t.oldPoints[0][e];0!==t.duration&&(t.duration=Math.max(Math.abs(i-s)/t.speed*1e3,1)),this._set(s)}step(t){const e=ei(this.from,this.to,t);this._set(e)}_set(t){const e="set"+this.axis.toUpperCase(),i=this.options.newPoints;i[0][e](t),i[1][e](t)}}M(Kp,{easing:yc,speed:250}),xi.current.register(ia,Kp);const KP=Kp,{Group:JP,Path:K0}=Sn,XP=class QP extends q0{constructor(t,e){super(t,e),k(this.options.size)||(this.options.size=.3*this.scale.options.majorTicks.size)}pointerShape(t){const{scale:e,options:i}=this,{mirror:s,vertical:o}=e.options,r=s===o?-1:1,a=i.size*r,c=e.getSlot(e.options.min),h=e.getSlot(t),u=o?W:V,d=o?V:W,p=this._margin()*r,f=new A;f[u]=c[u+"1"],f[d]=c[d+"1"];const g=new A;g[u]=h[u+"1"],g[d]=h[d+"1"],o?(f.translate(p,0),g.translate(p,0)):(f.translate(0,p),g.translate(0,p));const m=g.clone(),_=f.clone();return o?(m.translate(a,0),_.translate(a,0)):(m.translate(0,a),_.translate(0,a)),[f,g,m,_]}repaint(){const{scale:t,options:e}=this,i=this.pointerShape(e.value),s=this.pointerPath,o=this.pointerShape(e._oldValue);s.moveTo(i[0]).lineTo(i[1]).lineTo(i[2]).lineTo(i[3]).close();const r=new KP(s,b(e.animation,{reverse:t.options.reverse,vertical:t.options.vertical,oldPoints:[o[1],o[2]],newPoints:[i[1],i[2]]}));!1===e.animation.transitions&&(r.options.duration=0),r.setup(),r.play()}render(){const t=new JP,e=this.getElementOptions();this.options.track.visible&&t.append(this.renderTrack());const i=this.pointerPath=new K0({stroke:e.stroke,fill:e.fill});return t.append(i),this.elements=t,t}renderTrack(){const t=this.options.track,e=t.border||{},i=this.trackBox.clone().pad(e.width||0);return new K0.fromRect(i.toRect(),{fill:{color:t.color,opacity:t.opacity},stroke:{color:e.width?e.color||t.color:"",width:e.width,dashType:e.dashType}})}},iL=ge;M(class J0 extends j0{reflow(t){const e=this.pointers,i=t.origin.x,s=t.origin.y,o=new P(i,s,i+t.width(),s+t.height());this.scale.reflow(o),this._shrinkScaleWidth(o);for(let r=0;r<e.length;r++)e[r].reflow();this.bbox=this._getBox(o),this._alignElements(),this._shrinkElements(),this._buildVisual(),this._draw()}_buildVisual(){const t=new iL,e=this.scale.render(),i=this.pointers;t.append(this.gaugeArea),t.append(e);for(let s=0;s<i.length;s++){const o=i[s];t.append(o.render()),o.value(o.options.value)}this._visuals=t}_createModel(){const t=this.options,e=this.scale=new WP(t.scale,this.contextService);this.pointers=[];let i=t.pointer;i=ut(i)?i:[i];for(let s=0;s<i.length;s++){const o=b({},i[s],{animation:{transitions:t.transitions}});this.pointers.push(new("arrow"===o.shape?qP:XP)(e,o))}}_defaultSize(){const t=this.options.scale.vertical;return{width:t?60:200,height:t?200:60}}_getBox(t){const{scale:e,pointers:i}=this,s=t.center();let r,o=i[0].box.clone().wrap(e.box);for(let a=0;a<i.length;a++)o.wrap(i[a].box.clone());return e.options.vertical?(r=o.width()/2,o=new P(s.x-r,t.y1,s.x+r,t.y2)):(r=o.height()/2,o=new P(t.x1,s.y-r,t.x2,s.y+r)),o}_alignElements(){const{scale:t,pointers:e}=this,i=t.box,s=e[0].box.clone().wrap(t.box),o=this.bbox;for(let a=0;a<e.length;a++)s.wrap(e[a].box.clone());let r;t.options.vertical?(r=o.center().x-s.center().x,t.reflow(new P(i.x1+r,o.y1,i.x2+r,o.y2))):(r=o.center().y-s.center().y,t.reflow(new P(i.x1,i.y1+r,i.x2,i.y2+r)));for(let a=0;a<e.length;a++)e[a].reflow(this.bbox)}_shrinkScaleWidth(t){const{scale:e}=this;if(!e.options.vertical){const i=e.contentBox().width()-t.width();i>0&&(e.box.shrink(i,0),e.box.alignTo(t,"center"),e.reflow(e.box))}}_shrinkElements(){const{scale:t,pointers:e}=this,i=t.box.clone(),s=t.options.vertical?"y":"x",o=e[0].box;for(let r=0;r<e.length;r++)o.wrap(e[r].box.clone());i[s+1]+=Math.max(i[s+1]-o[s+1],0),i[s+2]-=Math.max(o[s+2]-i[s+2],0),t.reflow(i);for(let r=0;r<e.length;r++)e[r].reflow(this.bbox)}},{transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}});const{Arc:sL,Path:oL,Group:Cc}=Sn;function Q0(n,t,e,i){const s=new Cc,o=n.center,r=n.getRadiusX();if(i.visible)for(let a=0;a<t.length;a++){const c=n.pointAt(t[a]),h=new A(o.x+r-i.size,o.y).rotate(t[a],o);s.append(new oL({stroke:{color:i.color,width:i.width}}).moveTo(c).lineTo(h))}return s}function Jp(n,t,e,i){return{from:n,to:t,color:e,opacity:i}}class X0 extends ii{constructor(t,e){super(0,1,t,e)}initUserOptions(t){const e=b({},this.options,t);return e.majorUnit=e.majorUnit||Mr(e.min,e.max),e.minorUnit=e.minorUnit||e.majorUnit/10,e}initFields(){}render(t,e){const i=this.renderArc(t,e);this.bbox=i.bbox(),this.labelElements=this.renderLabels(),this.ticks=this.renderTicks(),this.ranges=this.renderRanges()}reflow(t){const e=t.center(),i=Math.min(t.height(),t.width())/2;if(!k(this.bbox))return this.render(e,i);this.bbox=this.arc.bbox(),this.radius(this.arc.getRadiusX()),this.repositionRanges(),this.renderLabels()}slotAngle(t){const{min:e,max:i,reverse:s,startAngle:o,endAngle:r}=this.options,a=r-o;let c;return c=s?r-(t-e)/(i-e)*a:(t-e)/(i-e)*a+o,c+180}hasRanges(){const t=this.options.ranges;return t&&t.length}ticksSize(){const{majorTicks:t,minorTicks:e}=this.options;let i=0;return t.visible&&(i=t.size),e.visible&&(i=Math.max(e.size,i)),i}labelsCount(){let t=super.labelsCount();const e=this.options;return e.endAngle-e.startAngle>=360&&e.max%e.majorUnit==0&&(t-=1),t}renderLabels(){const t=this.options,e=this.arc.clone();let i=e.getRadiusX();const s=this.tickAngles(e,t.majorUnit),o=t.rangeSize=t.rangeSize||.1*i,r=new Cc;let a=.05*i;k(t.rangeDistance)?a=t.rangeDistance:t.rangeDistance=a;const c=t.labels,h=c.position===Zn,u=k(this.labelElements);h&&(i-=this.ticksSize(),this.hasRanges()&&!u&&(i-=o+a),e.setRadiusX(i).setRadiusY(i));const d=this.labels,p=d.length,f=ke(c.padding),g=(f.left+f.right)/2,m=(f.top+f.bottom)/2;for(let _=0;_<p;_++){const v=d[_],x=v.box.width()/2,S=v.box.height()/2,T=s[_],D=(T-180)*P0,I=e.pointAt(T),F=I.x+Math.cos(D)*(x+g)*(h?1:-1),O=I.y+Math.sin(D)*(S+m)*(h?1:-1);v.reflow(new P(F-x,O-S,F+x,O+S));const $=new A(v.box.x1,v.box.y1);let q;if(u){q=this.labelElements.children[_];const C=q.bbox().origin,z=q.transform()||me();z.translate($.x-C.x,$.y-C.y),q.transform(z)}else q=G0(v,t.labels),r.append(q);this.bbox=ue.union(this.bbox,q.bbox())}return r}repositionRanges(){const t=this.ranges.children;if(t.length>0){const{rangeDistance:e,rangeSize:i}=this.options;let s=this.getRangeRadius();this.options.labels.position===Zn&&(s+=i+e);const o=s+i/2;for(let r=0;r<t.length;r++)t[r]._geometry.setRadiusX(o).setRadiusY(o);this.bbox=ue.union(this.bbox,this.ranges.bbox())}}renderRanges(){const t=this.rangeSegments(),e=t.length,i=new Cc;if(e){const{rangeSize:s,reverse:o,rangeDistance:r}=this.options,a=this.getRangeRadius();this.radius(this.radius()-s-r);for(let c=0;c<e;c++){const h=t[c],u=this.slotAngle(h[o?"to":"from"]),d=this.slotAngle(h[o?"from":"to"]);d-u!=0&&i.append(this.createRange(u,d,a,h))}}return i}createRange(t,e,i,s){const o=this.options.rangeSize,r=new Ii(this.arc.center,{radiusX:i+o/2,radiusY:i+o/2,startAngle:t,endAngle:e});return new sL(r,{stroke:{width:o,color:s.color,opacity:s.opacity,lineCap:s.lineCap}})}rangeSegments(){const t=this.options,e=t.ranges||[],i=e.length,s=[];if(i){const{min:o,max:r,rangePlaceholderColor:a}=t;s.push(Jp(o,r,a));for(let c=0;c<i;c++){const h=U0(e[c],o,r),u=s.length;for(let d=0;d<u;d++){const p=s[d];if(p.from<=h.from&&h.from<=p.to){s.push(Jp(h.from,h.to,h.color,h.opacity)),p.from<=h.to&&h.to<=p.to&&s.push(Jp(h.to,p.to,a,h.opacity)),p.to=h.from;break}}}}return s}getRangeRadius(){const{arc:t,options:e}=this,{rangeSize:i,rangeDistance:s,majorTicks:{size:o}}=e;let r;return r=e.labels.position===Zp?t.getRadiusX()-o-s-i:t.getRadiusX()-i,r}renderArc(t,e){const i=this.options;return this.arc=new Ii(t,{radiusX:e,radiusY:e,startAngle:i.startAngle+180,endAngle:i.endAngle+180})}renderTicks(){const{arc:t,options:e}=this,i=t.clone();this.majorTickAngles=this.tickAngles(t,e.majorUnit),this.majorTicks=Q0(i,this.majorTickAngles,0,e.majorTicks);const s=new Cc;s.append(this.majorTicks);const o=e.majorTicks.size,r=e.minorTicks.size;if(this._tickDifference=o-r,e.labels.position===Zp){const a=i.getRadiusX();i.setRadiusX(a-o+r).setRadiusY(a-o+r)}return this.minorTickAngles=this.normalizeTickAngles(this.tickAngles(t,e.minorUnit)),this.minorTicks=Q0(i,this.minorTickAngles,0,e.minorTicks),s.append(this.minorTicks),s}normalizeTickAngles(t){const e=this.options,i=e.majorUnit/e.minorUnit;for(let s=t.length-1;s>=0;s--)s%i==0&&t.splice(s,1);return t}tickAngles(t,e){const i=this.options,r=t.endAngle-t.startAngle;let a=(i.max-i.min)/e,c=t.startAngle,h=r/a;i.reverse&&(c+=r,h=-h),r>=360&&i.max%e==0&&(a-=1);const u=[];for(let d=0;d<a;d++)u.push(N(c,3)),c+=h;return N(c)<=t.endAngle&&u.push(c),u}radius(t){if(!t)return this.arc.getRadiusX();this.arc.setRadiusX(t).setRadiusY(t),this.repositionTicks(this.majorTicks.children,this.majorTickAngles),this.repositionTicks(this.minorTicks.children,this.minorTickAngles,!0)}repositionTicks(t,e,i){const s=i&&this._tickDifference||0;let o=this.arc;const r=o.getRadiusX();i&&this.options.labels.position===Zp&&0!==s&&(o=this.arc.clone(),o.setRadiusX(r-s).setRadiusY(r-s));for(let a=0;a<t.length;a++){const c=o.pointAt(e[a]),h=t[a].segments,u=c.x-h[0].anchor().x,d=c.y-h[0].anchor().y;t[a].transform((new me).translate(u,d))}}}M(X0,{min:0,max:100,majorTicks:{size:15,align:Zn,color:Ve,width:.5,visible:!0},minorTicks:{size:10,align:Zn,color:Ve,width:.5,visible:!0},startAngle:-30,endAngle:210,labels:{position:Zn,padding:2}});const ey=X0;class Qp extends Ht{constructor(t,e){super(t,e);const i=this.options;i.duration=Math.max(Math.abs(i.newAngle-i.oldAngle)/i.duration*1e3,1)}step(t){const e=this.options,i=ei(e.oldAngle,e.newAngle,t);this.element.transform(me().rotate(i,e.center))}}M(Qp,{easing:yc,duration:150}),xi.current.register(L0,Qp);const rL=Qp,{Circle:lL,Group:cL,Path:hL}=Sn;class ty extends Yp{setAngle(t){this.elements.transform(me().rotate(t,this.center))}repaint(){const{scale:t,options:e}=this,i=t.slotAngle(e._oldValue),s=t.slotAngle(e.value);!1===e.animation.transitions?this.setAngle(s):new rL(this.elements,b(e.animation,{oldAngle:i,newAngle:s})).play()}render(){const{scale:t,options:e}=this,i=new cL;return!1!==e.animation&&b(e.animation,{startAngle:0,center:t.arc.center,reverse:t.options.reverse}),i.append(this._renderNeedle(),this._renderCap()),this.elements=i,this.setAngle(P0),i}reflow(t){const e=this.center=t.center,i=J(this.options.length||1,.1,1.5),s=this.radius=t.getRadiusX()*i,o=this.capSize=Math.round(s*this.options.cap.size);this.bbox=ue.fromPoints(new A(e.x-o,e.y-o),new A(e.x+o,e.y+o))}_renderNeedle(){const t=this.scale.options.minorTicks.size,e=this.center,i=this.options.color,s=new hL({fill:{color:i},stroke:{color:i,width:.5}});return s.moveTo(e.x+this.radius-t,e.y).lineTo(e.x,e.y-this.capSize/2).lineTo(e.x,e.y+this.capSize/2).close(),s}_renderCap(){const t=this.options,e=t.cap.color||t.color,i=new wt(this.center,this.capSize);return new lL(i,{fill:{color:e},stroke:{color:e}})}}M(ty,{cap:{size:.05},arrow:{width:16,height:14},animation:{type:L0,duration:150}});const uL=ty,dL=ge;class iy extends j0{reflow(t){const e=this.pointers;this.scale.reflow(t),this._initialPlotArea=this.scale.bbox;for(let i=0;i<e.length;i++)e[i].reflow(this.scale.arc),this._initialPlotArea=ue.union(this._initialPlotArea,e[i].bbox);this.fitScale(t),this.alignScale(t),this._buildVisual(this.gaugeArea,e,this.scale),this._draw()}_buildVisual(t,e,i){const s=this._visuals=new dL;s.append(t),s.append(i.ticks),s.append(i.ranges),this._buildPointers(e),s.append(i.labelElements)}_buildPointers(t){for(let e=0;e<t.length;e++){const i=t[e];i.render(),this._visuals.append(i.elements),i.value(i.options.value)}}fitScale(t){const e=this.scale.arc,s=Math.abs(this.getDiff(this._initialPlotArea,t));let a,c,h,u,d,o=N(s,3),r=N(-s,3),p=0,f=0;for(;f++<100&&(p=d===h?p+1:0,!(p>5||o!==u&&(a=this.getPlotBox(o,t,e),0<=a&&a<=2)||r!==u&&(h=this.getPlotBox(r,t,e),0<=h&&h<=2)||(u=a>0&&h>0?2*o:a<0&&h<0?2*r:N((o+r)/2||1,3),c=this.getPlotBox(u,t,e),0<=c&&c<=2)));)d=h,c>0?(r=u,h=c):(o=u,a=c)}getPlotBox(t,e,i){const s=this.scale,o=this.pointers,r=i.getRadiusX(),a=i.clone();a.setRadiusX(r+t).setRadiusY(r+t),s.arc=a,s.reflow(e),this.plotBbox=s.bbox;for(let c=0;c<o.length;c++)o[c].reflow(a),this.plotBbox=ue.union(this.plotBbox,o[c].bbox);return this.getDiff(this.plotBbox,e)}getDiff(t,e){return Math.min(e.width()-t.width(),e.height()-t.height())}alignScale(t){const e=this.plotBbox.center(),i=t.center(),s=e.x-i.x,o=e.y-i.y,{scale:r,pointers:a}=this;r.arc.center.x-=s,r.arc.center.y-=o,r.reflow(t);for(let c=0;c<a.length;c++)a[c].reflow(r.arc),this.plotBbox=ue.union(r.bbox,a[c].bbox)}_createModel(){const t=this.options,e=t.pointer,i=this.scale=new ey(t.scale,this.contextService);this.pointers=[];const s=ut(e)?e:[e];for(let o=0;o<s.length;o++){const r=new uL(i,b({},s[o],{animation:{transitions:t.transitions}}));this.pointers.push(r)}}}M(iy,{transitions:!0,gaugeArea:{background:""}});const ny=iy;M(class sy extends ey{rangeSegments(){const{min:t,max:e,rangePlaceholderColor:i,rangeLineCap:s}=this.options;return[{from:t,to:e,color:i,lineCap:s}]}hasRanges(){return!0}placeholderRangeAngle(t){const e=this.ranges.children[0].geometry();this.options.reverse?e.setEndAngle(t):e.setStartAngle(t)}addRange(t,e,i){const s=this.options.reverse,o=this.slotAngle(s?e:t),r=this.slotAngle(s?t:e),a=this.createRange(o,r,this.getRangeRadius(),i);return this.ranges.append(a),a}},{min:0,max:100,majorTicks:{visible:!1},minorTicks:{visible:!1},labels:{visible:!1},startAngle:0,endAngle:180,rangeLineCap:"round"});class Xp extends Ht{constructor(t,e){super(t,e);const i=this.options,s=Math.abs(i.newAngle-i.oldAngle)/i.duration*1e3;i.duration=J(s,150,800);const o=t.elements.options.get("stroke.color"),r=t.currentColor();o!==r&&(this.startColor=new ti(o),this.color=new ti(r))}step(t){const{options:e,startColor:i,color:s}=this,o=ei(e.oldAngle,e.newAngle,t);if(this.element.angle(o),s){const r=N(ei(i.r,s.r,t)),a=N(ei(i.g,s.g,t)),c=N(ei(i.b,s.b,t));this.element.stroke(new ti(r,a,c).toHex())}}}M(Xp,{easing:yc,duration:150}),xi.current.register(B0,Xp);const gL=Xp;M(class oy extends Yp{repaint(){const{scale:t,options:e}=this,i=t.slotAngle(e._oldValue),s=t.slotAngle(e.value);this.animation&&this.animation.abort(),!1===e.animation.transitions?(this.angle(s),this.stroke(this.currentColor())):(this.animation=new gL(this,b(e.animation,{oldAngle:i,newAngle:s})),this.animation.play())}angle(t){const e=this.elements.geometry();this.scale.options.reverse?e.setStartAngle(t):e.setEndAngle(t),this.scale.placeholderRangeAngle(t)}stroke(t){this.elements.stroke(t)}render(){if(this.elements)return;const{scale:t,options:e}=this;!1!==e.animation&&b(e.animation,{startAngle:0,center:t.arc.center,reverse:t.options.reverse}),this.elements=t.addRange(t.options.min,this.options.value,{color:this.currentColor(),opacity:e.opacity,lineCap:t.options.rangeLineCap})}currentColor(){const{min:t,max:e}=this.scale.options,{colors:i,color:s,value:o}=this.options,r=he(o)?o:t;if(i)for(let a=0;a<i.length;a++){const{color:c,from:h=t,to:u=e}=i[a];if(h<=r&&r<=u)return c}return s}reflow(){this.render(),this.bbox=this.elements.bbox()}},{animation:{type:B0,duration:150}});class Ms extends U{constructor(t){super(),this.setOptions(t),this.initProperties()}initProperties(){}setOptions(t){this.options=Object.assign({},this.options,t),this.quietZoneLength=this.options.addQuietZone?2*this.options.quietZoneLength:0}encode(t,e,i){const s=k(t)?String(t):t;return this.initValue(s,e,i),this.options.addQuietZone&&this.addQuietZone(),this.addData(),this.options.addQuietZone&&this.addQuietZone(),{baseUnit:this.baseUnit,pattern:this.pattern}}initValue(){}addQuietZone(){this.pattern.push(this.options.quietZoneLength||10)}addData(){}invalidCharacterError(t){throw new Error(`Character "${t}" is not valid for symbology ${this.name}.`)}}M(Ms,{quietZoneLength:10,addQuietZone:!0,addCheckSum:!0});const yL=Object.assign;class ly extends Ms{initProperties(){super.initProperties(),yL(this,{name:"Code 11",characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221"})}initValue(t,e){this.pattern=[],this.value=t,this.width=e,this.totalUnits=0}addData(){const t=this.value;this.addPattern(this.START);for(let e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()}setBaseUnit(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)}addCheckSum(){const t=this.value;let e=t.length;const i=this.getWeightedSum(t,e,this.cCheckSumTotal)%this.checkSumMod;if(this.checksum=String(i),this.addPattern(this.characterMap[i]),e++,e>=this.kCheckSumMinLength){let s=(i+this.getWeightedSum(t,e,this.kCheckSumTotal))%this.checkSumMod;this.checksum+=s,this.addPattern(this.characterMap[s])}}getWeightedSum(t,e,i){let s=0;for(let o=0;o<t.length;o++)s+=this.weightedValue(this.getValue(t.charAt(o)),e,o,i);return s}weightedValue(t,e,i,s){return((e-i)%s||s)*t}getValue(t){return isNaN(t)?(t!==this.DASH&&this.invalidCharacterError(t),this.DASH_VALUE):parseInt(t,10)}addCharacter(t){const e=this.getValue(t);this.addPattern(this.characterMap[e])}addPattern(t){let e;for(let i=0;i<t.length;i++)e=parseInt(t.charAt(i),10),this.pattern.push(e),this.totalUnits+=e}}M(ly,{addCheckSum:!0});const cy=Object.assign;class hy extends Ms{initProperties(){super.initProperties(),cy(this,{minBaseUnitLength:.7})}addData(){const t=this.value;this.addStart();for(let e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.pushCheckSum(),this.addStop(),this.prepareValues()}addCharacter(t){const e=this.characterMap[t];e||this.invalidCharacterError(t),this.addBase(e)}addBase(){}}class ef extends hy{initProperties(){super.initProperties(),cy(this,{name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}}})}initValue(t,e,i){this.width=e,this.height=i,this.value=t,this.dataLength=t.length,this.pattern=[],this.patternString=""}prepareValues(){const t=this.minBaseUnitLength,e=this.minRatio,i=Math.ceil(Math.max(.15*this.width,24));let s,o=this.maxRatio;if(this.height<i)throw new Error(`Insufficient height for Code39 encoding: the current height is ${this.height}px and the minimum height is ${i}px.`);for(s=this.getBaseUnit(o);s<t&&o>e;)o=parseFloat((o-.1).toFixed(1)),s=this.getBaseUnit(o);if(s<t){let r=Math.ceil(this.getBaseWidth(e)*t);throw new Error(`Insufficient width for Code39 encoding: the current width is ${this.width}px and the minimum width for value "${this.value}" is ${r}px.`)}this.ratio=o,this.baseUnit=s,this.patternString=this.patternString.substring(0,this.patternString.length-1),this.pattern=this.pattern.concat(this.patternString.replace(/ratio/g,o).split(this.splitCharacter))}getBaseUnit(t){return this.width/this.getBaseWidth(t)}getBaseWidth(t){return this.quietZoneLength+3*(t+2)*(this.dataLength+2)+this.gapWidth*(this.dataLength+1)}addStart(){this.addPattern(this.characterMap.START.pattern),this.addCharacterGap()}addBase(t){this.addPattern(t.pattern),this.addCharacterGap()}addStop(){this.addPattern(this.characterMap.START.pattern)}addPattern(t){for(let e=0;e<t.length;e++)this.patternString+=this.patternMappings[t.charAt(e)]}addCharacterGap(){this.patternString+=this.gapWidth+this.splitCharacter}}M(ef,{addCheckSum:!1});const uy={addCharacter(n){this.characterMap[n]?this.addBase(this.characterMap[n]):n.charCodeAt(0)>127?this.invalidCharacterError(n):this.addExtended(n.charCodeAt(0))},addExtended(n){let t;for(let e=0;e<this.extendedMappings.length;e++)if(t=this.extendedMappings[e].call(this,n),t){for(let i=0;i<t.length;i++)this.addBase(t[i]);return void(this.dataLength+=t.length-1)}},extendedMappings:[function(n){if(97<=n&&n<=122)return[this.characterMap[this.shiftCharacters[0]],this.characterMap[String.fromCharCode(n-32)]]},function(n){if(33<=n&&n<=58)return[this.characterMap[this.shiftCharacters[1]],this.characterMap[String.fromCharCode(n+32)]]},function(n){if(1<=n&&n<=26)return[this.characterMap[this.shiftCharacters[2]],this.characterMap[String.fromCharCode(n+64)]]},function(n){let t,e;if(this.specialAsciiCodes[n]){t=[];for(let i=0;i<this.specialAsciiCodes[n].length;i++)t.push(this.characterMap[this.shiftCharacters[3]]),t.push(this.characterMap[this.specialAsciiCodes[n][i]])}else e=6*Math.floor(n/32)+(n-27)%32+64,t=[this.characterMap[this.shiftCharacters[3]],this.characterMap[String.fromCharCode(e)]];return t}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]},wL=Object.assign;class dy extends hy{initProperties(){super.initProperties(),wL(this,{name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}})}initValue(t,e,i){this.value=t,this.width=e,this.height=i,this.pattern=[],this.values=[],this.dataLength=t.length}prepareValues(){let t=Math.ceil(Math.max(.15*this.width,24));if(this.height<t)throw new Error(`Insufficient height for Code93 encoding: the current height is ${this.height}px, the minimum required height is ${t}px.`);if(this.setBaseUnit(),this.baseUnit<this.minBaseUnitLength){const e=Math.ceil(this.minBaseUnitLength*(this.width/this.baseUnit));throw new Error(`Insufficient width for Code93 encoding: the current width is ${this.width}px and the minimum required width for value "${this.value}" is ${e}px.`)}}setBaseUnit(){this.baseUnit=this.width/(9*(this.dataLength+2+2)+this.quietZoneLength+1)}addStart(){this.addPattern(this.characterMap.START.pattern)}addStop(){this.addStart(),this.pattern.push(this.characterMap.TERMINATION_BAR)}addBase(t){this.addPattern(t.pattern),this.values.push(t.value)}pushCheckSum(){const t=this._getCheckValues();let e;this.checksum=t.join("");for(let i=0;i<t.length;i++)e=this.characterMap[this._findCharacterByValue(t[i])],this.addPattern(e.pattern)}_getCheckValues(){const t=this.values,e=t.length;let s,o,r,i=0;for(r=e-1;r>=0;r--)i+=this.weightedValue(t[r],e-r,this.cCheckSumTotal);for(s=i%this.checkSumMod,i=this.weightedValue(s,1,this.kCheckSumTotal),r=e-1;r>=0;r--)i+=this.weightedValue(t[r],e-r+1,this.kCheckSumTotal);return o=i%this.checkSumMod,[s,o]}_findCharacterByValue(t){for(let e in this.characterMap)if(this.characterMap[e].value===t)return e}weightedValue(t,e,i){return(e%i||i)*t}addPattern(t){let e;for(let i=0;i<t.length;i++)e=parseInt(t.charAt(i),10),this.pattern.push(e)}}const EL=/^\d+$/,kL=Object.assign,tf=/^\d+$/,TL=/^[a-z0-9]+$/i,Ci=Object.assign;class Ec extends U{constructor(t){super(),this.encoding=t,this.initProperties()}initProperties(){}addStart(){}is(){}isCode(){return!1}move(){}pushState(){}}class py extends Ec{constructor(t,e){super(t),this.states=e,this._initMoves(e)}initProperties(){super.initProperties(),b(this,{FNC4:"FNC4",SHIFT:98})}addStart(){this.encoding.addPattern(this.START)}is(t,e){let i=t.charCodeAt(e);return this.isCode(i)}move(t){let e=0;for(;!this._moves[e].call(this,t)&&e<this._moves.length;)e++}pushState(t){let o,i=t.value,s=i.length;if(de("C",this.states)){let r=i.substr(t.index).match(/\d{4,}/g);r&&(s=i.indexOf(r[0],t.index))}for(;(o=t.value.charCodeAt(t.index))>=0&&this.isCode(o)&&t.index<s;)this.encoding.addPattern(this.getValue(o)),t.index++}_initMoves(t){this._moves=[],de(this.FNC4,t)&&this._moves.push(this._moveFNC),de(this.shiftKey,t)&&this._moves.push(this._shiftState),this._moves.push(this._moveState)}_moveFNC(t){if(t.fnc)return t.fnc=!1,t.previousState===this.key}_shiftState(t){if(t.previousState===this.shiftKey&&(t.index+1>=t.value.length||this.encoding[this.shiftKey].is(t.value,t.index+1)))return this.encoding.addPattern(this.SHIFT),t.shifted=!0,!0}_moveState(){return this.encoding.addPattern(this.MOVE),!0}}const To={};To.A=class extends py{initProperties(){super.initProperties(),Ci(this,{key:"A",shiftKey:"B",MOVE:101,START:103})}isCode(t){return 0<=t&&t<96}getValue(t){return t<32?t+64:t-32}},To.B=class extends py{initProperties(){super.initProperties(),Ci(this,{key:"B",shiftKey:"A",MOVE:100,START:104})}isCode(t){return 32<=t&&t<128}getValue(t){return t-32}},To.C=class extends Ec{initProperties(){super.initProperties(),Ci(this,{key:"C",MOVE:99,START:105})}addStart(){this.encoding.addPattern(this.START)}is(t,e){let i=nf(t,e,4);return(e+4<=t.length||2===t.length)&&tf.test(i)}move(){this.encoding.addPattern(this.MOVE)}pushState(t){let e;for(;(e=nf(t.value,t.index,2))&&tf.test(e)&&2===e.length;)this.encoding.addPattern(parseInt(e,10)),t.index+=2}getValue(t){return t}},To.FNC4=class extends Ec{constructor(t,e){super(t),this._initSubStates(e)}initProperties(){super.initProperties(),Ci(this,{key:"FNC4",dependentStates:["A","B"]})}addStart(t){let e=t.value.charCodeAt(0)-128,i=this._getSubState(e);this.encoding[i].addStart()}is(t,e){let i=t.charCodeAt(e);return this.isCode(i)}isCode(t){return 128<=t&&t<256}pushState(t){let o,e=this._initSubState(t),i=this.encoding,s=e.value.length;if(t.index+=s,s<3)for(;e.index<s;e.index++)o=e.value.charCodeAt(e.index),e.state=this._getSubState(o),e.previousState!==e.state&&(e.previousState=e.state,i[e.state].move(e)),i.addPattern(i[e.state].MOVE),i.addPattern(i[e.state].getValue(o));else e.state!==e.previousState&&i[e.state].move(e),this._pushStart(e),i.pushData(e,this.subStates),t.index<t.value.length&&this._pushStart(e);t.fnc=!0,t.state=e.state}_pushStart(t){this.encoding.addPattern(this.encoding[t.state].MOVE),this.encoding.addPattern(this.encoding[t.state].MOVE)}_initSubState(t){const e={value:this._getAll(t.value,t.index),index:0};return e.state=this._getSubState(e.value.charCodeAt(0)),e.previousState=t.previousState===this.key?e.state:t.previousState,e}_initSubStates(t){this.subStates=[];for(let e=0;e<t.length;e++)de(t[e],this.dependentStates)&&this.subStates.push(t[e])}_getSubState(t){for(let e=0;e<this.subStates.length;e++)if(this.encoding[this.subStates[e]].isCode(t))return this.subStates[e]}_getAll(t,e){let i,s="",o=e;for(;(i=t.charCodeAt(o++))&&this.isCode(i);)s+=String.fromCharCode(i-128);return s}},To.FNC1=class extends Ec{constructor(t,e){super(t),this.states=e}initProperties(){super.initProperties(),Ci(this,{key:"FNC1",startState:"C",startAI:"(",endAI:")",dependentStates:["C","B"],applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102})}addStart(){this.encoding[this.startState].addStart()}is(){return de(this.key,this.states)}pushState(t){let a,c,h,e=this.encoding,i=t.value.replace(/\s/g,""),s=new RegExp("["+this.startAI+this.endAI+"]","g"),o=t.index,r={state:this.startState};for(e.addPattern(this.START);;){if(r.index=0,h=i.charAt(o)===this.startAI?2:0,a=h>0?this.getBySeparator(i,o):this.getByLength(i,o),a.ai.length)c=o+h+a.id.length+a.ai.length;else if(c=i.indexOf(this.startAI,o+1),c<0){if(o+a.ai.max+a.id.length+h<i.length)throw new Error("Separators are required after variable length identifiers");c=i.length}if(r.value=i.substring(o,c).replace(s,""),this.validate(a,r.value),e.pushData(r,this.dependentStates),c>=i.length)break;o=c,r.state!==this.startState&&(e[this.startState].move(r),r.state=this.startState),a.ai.length||e.addPattern(this.START)}t.index=t.value.length}validate(t,e){let i=e.substr(t.id.length),s=t.ai;if(!s.type&&!tf.test(i))throw new Error("Application identifier "+t.id+" is numeric only but contains non numeric character(s).");if("alphanumeric"===s.type&&!TL.test(i))throw new Error("Application identifier "+t.id+" is alphanumeric only but contains non alphanumeric character(s).");if(s.length&&s.length!==i.length)throw new Error("Application identifier "+t.id+" must be "+s.length+" characters long.");if(s.min&&s.min>i.length)throw new Error("Application identifier "+t.id+" must be at least "+s.min+" characters long.");if(s.max&&s.max<i.length)throw new Error("Application identifier "+t.id+" must be at most "+s.max+" characters long.")}getByLength(t,e){let i,s;for(let o=2;o<=4;o++)if(i=nf(t,e,o),s=this.getApplicationIdentifier(i)||this.getApplicationIdentifier(i.substring(0,i.length-1)),s)return{id:i,ai:s};this.unsupportedAIError(i)}unsupportedAIError(t){throw new Error("'"+t+"' is not a supported Application Identifier")}getBySeparator(t,e){let i=t.indexOf(this.startAI,e),s=t.indexOf(this.endAI,i),o=t.substring(i+1,s),r=this.getApplicationIdentifier(o)||this.getApplicationIdentifier(o.substr(o.length-1));return r||this.unsupportedAIError(o),{ai:r,id:o}}getApplicationIdentifier(t){let e=this.applicationIdentifiers,i=e.multiKey;if(e[t])return e[t];for(let s=0;s<i.length;s++){if(i[s].ids&&de(t,i[s].ids))return i[s].type;if(i[s].ranges){let o=i[s].ranges;for(let r=0;r<o.length;r++)if(o[r][0]<=t&&t<=o[r][1])return i[s].type}}}};class sa extends Ms{constructor(t){super(t),this._initStates()}initProperties(){super.initProperties(),Ci(this,{characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106})}_initStates(){for(let t=0;t<this.states.length;t++)this[this.states[t]]=new To[this.states[t]](this,this.states)}initValue(t,e,i){this.pattern=[],this.value=t,this.width=e,this.height=i,this.checkSum=0,this.totalUnits=0,this.index=0,this.position=1}addData(){let t={value:this.value,index:0,state:""};0!==this.value.length&&(t.state=t.previousState=this.getNextState(t,this.states),this.addStart(t),this.pushData(t,this.states),this.addCheckSum(),this.addStop(),this.setBaseUnit())}pushData(t,e){for(;this[t.state].pushState(t),!(t.index>=t.value.length);)if(t.shifted){let s=t.state;t.state=t.previousState,t.previousState=s,t.shifted=!1}else t.previousState=t.state,t.state=this.getNextState(t,e),this[t.state].move(t)}addStart(t){this[t.state].addStart(t),this.position=1}addCheckSum(){this.checksum=this.checkSum%103,this.addPattern(this.checksum)}addStop(){this.addPattern(this.STOP)}setBaseUnit(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)}addPattern(t){const e=this.characterMap[t].toString();let i;for(let s=0;s<e.length;s++)i=parseInt(e.charAt(s),10),this.pattern.push(i),this.totalUnits+=i;this.checkSum+=t*this.position++}getNextState(t,e){for(let i=0;i<e.length;i++)if(this[e[i]].is(t.value,t.index))return e[i];this.invalidCharacterError(t.value.charAt(t.index))}}function nf(n,t,e){return n.substring(t,t+e)}const oa=Object.assign;class kc extends Ms{initProperties(){super.initProperties(),oa(this,{characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:"",checkSums:FL})}initValue(t,e){this.pattern=[],this.value=t,this.checkSumLength=0,this.width=e}setBaseUnit(){this.baseUnit=this.width/(12*(this.value.length+this.checkSumLength)+this.quietZoneLength+7)}addData(){const t=this.value;this.addPattern(this.START);for(let e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()}addCharacter(t){const e=this.characterMap[t];e||this.invalidCharacterError(t),this.addPattern(e)}addPattern(t){for(let e=0;e<t.length;e++)this.pattern.push(parseInt(t.charAt(e),10))}addCheckSum(){const e=this.checkSums[this.checkSumType].call(this.checkSums,this.value);this.checksum=e.join("");for(let i=0;i<e.length;i++)this.checkSumLength++,this.addPattern(this.characterMap[e[i]])}}const FL={Modulo10(n){let i,s,o,t=[0,""],e=n.length%2;for(i=0;i<n.length;i++)t[(i+e)%2]+=parseInt(n.charAt(i),10);for(o=t[0],s=(2*t[1]).toString(),i=0;i<s.length;i++)o+=parseInt(s.charAt(i),10);return[(10-o%10)%10]},Modulo11(n){let s,o,t=0,i=n.length;for(let r=0;r<i;r++)s=((i-r)%6||6)+1,t+=s*n.charAt(r);return o=(11-t%11)%11,10!==o?[o]:[1,0]},Modulo11Modulo10(n){let e,t=this.Modulo11(n);return e=n+t[0],t.concat(this.Modulo10(e))},Modulo10Modulo10(n){let e,t=this.Modulo10(n);return e=n+t[0],t.concat(this.Modulo10(e))}},zL=Object.assign;class fy extends Ms{initProperties(){super.initProperties(),zL(this,{name:"EAN 13",keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}})}initValue(t,e,i){const s=String(t);if(12!==s.length||/\D/.test(s))throw new Error('The value of the "EAN13" encoding should be 12 symbols');this.pattern=[],this.options.height=i,this.baseUnit=e/(95+this.quietZoneLength),this.value=s,this.checksum=this.calculateChecksum(),this.leftKey=s[0],this.leftPart=s.substr(1,6),this.rightPart=s.substr(7)+this.checksum}addData(){this.addPieces(this.characterMap.start),this.addSide(this.leftPart,this.leftKey),this.addPieces(this.characterMap.middle),this.addSide(this.rightPart),this.addPieces(this.characterMap.start)}addSide(t,e){for(let i=0;i<t.length;i++)e&&parseInt(this.keyTable[e].charAt(i),10)?this.addPieces(Array.prototype.slice.call(this.characterMap.digits[t.charAt(i)]).reverse(),!0):this.addPieces(this.characterMap.digits[t.charAt(i)],!0)}addPieces(t,e){for(let i=0;i<t.length;i++)this.pattern.push(e?{y1:0,y2:.95*this.options.height,width:t[i]}:t[i])}calculateChecksum(){let t=0,e=0,i=this.value.split("").reverse().join("");for(let o=0;o<i.length;o++)o%2?e+=parseInt(i.charAt(o),10):t+=parseInt(i.charAt(o),10);return(10-(3*t+e)%10)%10}}const GL=Object.assign,gy={code11:ly,code39:ef,code39extended:class SL extends ef{initProperties(){super.initProperties(),b(this,uy,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})}},code93:dy,code93extended:class CL extends dy{initProperties(){super.initProperties(),b(this,uy,{name:"Code 93 extended",pushCheckSum:function(){const t=this._getCheckValues();let e;this.checksum=t.join("");for(let i=0;i<t.length;i++)if(e=t[i],this.shiftValuesAsciiCodes[e])this.addExtended(this.shiftValuesAsciiCodes[e]);else{const s=this._findCharacterByValue(e);this.addPattern(this.characterMap[s].pattern)}}})}},code128:class OL extends sa{initProperties(){super.initProperties(),Ci(this,{name:"Code 128",states:["C","B","A","FNC4"]})}},code128a:class ML extends sa{initProperties(){super.initProperties(),Ci(this,{name:"Code 128 A",states:["A"]})}},code128b:class DL extends sa{initProperties(){super.initProperties(),Ci(this,{name:"Code 128 B",states:["B"]})}},code128c:class IL extends sa{initProperties(){super.initProperties(),Ci(this,{name:"Code 128 C",states:["C"]})}},"gs1-128":class RL extends sa{initProperties(){super.initProperties(),Ci(this,{name:"Code GS1-128",states:["FNC1","C","B"]})}},msimod10:class NL extends kc{initProperties(){super.initProperties(),oa(this,{name:"MSI Modulo10",checkSumType:"Modulo10"})}},msimod11:class PL extends kc{initProperties(){super.initProperties(),oa(this,{name:"MSI Modulo11",checkSumType:"Modulo11"})}},msimod1010:class LL extends kc{initProperties(){super.initProperties(),oa(this,{name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"})}},msimod1110:class BL extends kc{initProperties(){super.initProperties(),oa(this,{name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"})}},postnet:class AL extends Ms{initProperties(){super.initProperties(),kL(this,{name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]})}initValue(t,e,i){this.height=i,this.width=e,this.baseHeight=i/2,this.value=t.replace(new RegExp(this.DIGIT_SEPARATOR,"g"),""),this.pattern=[],this.validate(this.value),this.checkSum=0,this.setBaseUnit()}addData(){const t=this.value;this.addPattern(this.START);for(let e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.START),this.pattern.pop()}addCharacter(t){const e=this.characterMap[t];this.checkSum+=parseInt(t,10),this.addPattern(e)}addCheckSum(){this.checksum=(10-this.checkSum%10)%10,this.addCharacter(this.checksum)}setBaseUnit(){this.baseUnit=this.width/(10*(this.value.length+1)+3+this.quietZoneLength)}validate(t){if(EL.test(t)||this.invalidCharacterError(t.match(/[^0-9]/)[0]),!de(t.length,this.VALID_CODE_LENGTHS))throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+this.VALID_CODE_LENGTHS.join(",")+".")}addPattern(t){let e;for(let i=0;i<t.length;i++)e=this.height-this.baseHeight*t.charAt(i),this.pattern.push({width:1,y1:e,y2:this.height}),this.pattern.push(1)}},ean8:class UL extends fy{initProperties(){super.initProperties(),GL(this,{name:"EAN 8"})}initValue(t,e,i){if(7!==t.length||/\D/.test(t))throw new Error("Invalid value provided");this.value=t,this.options.height=i,this.checksum=this.calculateChecksum(this.value),this.leftPart=this.value.substr(0,4),this.rightPart=this.value.substr(4)+this.checksum,this.pattern=[],this.baseUnit=e/(67+this.quietZoneLength)}},ean13:fy};function my(n,t){const e=n.style.display;"canvas"===t&&(n.style.display="block");const i={width:n.clientWidth,height:n.clientHeight};return n.style.display=e,i}M(class jL extends U{constructor(t,e,i=Hv){super(),this.options=b({},this.options,e),this.element=t,this.onError=i,this._initElement(),this._initSurface(),this._setOptions(e),e&&k(e.value)&&this.redraw()}destroy(){this._destroySurface()}_initElement(){Et(this.element,"k-barcode")}_initSurface(){const{options:t,surface:e}=this;(!e||e.options.type!==t.renderAs)&&(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())}_createSurface(){return Qr.create(this.surfaceElement,{type:this.options.renderAs})}_destroySurface(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())}_initSurfaceElement(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))}_destroySurfaceElement(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)}setOptions(t){this._setOptions(t),this._initSurface(),this.redraw()}redraw(){let t=this._getSize();this.surface.clear(),this.surface.setSize({width:t.width,height:t.height}),this.createVisual(),this.surface.draw(this.visual)}getSize(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}}_resize(){this.redraw()}createVisual(){this.visual=this._render()}_render(){const t=this.options,e=t.value,i=t.text,s=ke(i.margin),o=this._getSize(),r=t.border||{},a=this.encoding,c=new P(0,0,o.width,o.height).unpad(r.width).unpad(t.padding);let u,d,p,h=c.height();const f=new ge;this.contentBox=c,f.append(this._getBackground(o)),i.visible&&(p=ur(e,{font:i.font}).height,h-=p+s.top+s.bottom);try{u=a.encode(e,c.width(),h)}catch(g){return this.onError(g),f}return i.visible&&(d=e,t.checksum&&k(a.checksum)&&(d+=" "+a.checksum),f.append(this._getText(d))),this.barHeight=h,this._bandsGroup=this._getBands(u.pattern,u.baseUnit),f.append(this._bandsGroup),f}exportVisual(){return this._render()}_getSize(){const e=my(this.element,this.options.renderAs),i=new En(300,100);return e.width>0&&(i.width=e.width),e.height>0&&(i.height=e.height),this.options.width&&(i.width=this.options.width),this.options.height&&(i.height=this.options.height),i}value(t){if(!k(t))return this.options.value;this.options.value=String(t),this.redraw()}_getBands(t,e){const i=this.contentBox;let o,r,s=i.x1;const a=new ge;for(let c=0;c<t.length;c++){if(r=_i(t[c])?t[c]:{width:t[c],y1:0,y2:this.barHeight},o=r.width*e,c%2){const h=ue.fromPoints(new A(s,r.y1+i.y1),new A(s+o,r.y2+i.y1)),u=G.fromRect(h,{fill:{color:this.options.color},stroke:null});a.append(u)}s+=o}return a}_getBackground(t){const e=this.options,i=e.border||{},s=new P(0,0,t.width,t.height).unpad(i.width/2);return G.fromRect(s.toRect(),{fill:{color:e.background},stroke:{color:i.width?i.color:"",width:i.width,dashType:i.dashType}})}_getText(t){const e=this.options.text,i=this._textbox=new Vt(t,{font:e.font,color:e.color,align:"center",vAlign:"bottom",margin:e.margin});return i.reflow(this.contentBox),i.renderVisual(),i.visual}_setOptions(t){if(this.type=(t.type||this.options.type).toLowerCase(),"upca"===this.type&&(this.type="ean13",t.value="0"+t.value),"upce"===this.type&&(this.type="ean8",t.value="0"+t.value),!gy[this.type])throw new Error(`Encoding '${this.type}' is not supported.`);this.encoding=new gy[this.type],this.options=b({},this.options,t)}},{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}});const Mo=Object.assign;function _y(n,t){let e=[],i=0;for(;i<n.length;)e.push(n.substring(i,i+t)),i+=t;return e}function It(n,t){let e=Number(n).toString(2);return e.length<t&&(e=new Array(t-e.length+1).join(0)+e),e}function Ac(n){return parseInt(n,2)}class $L extends U{constructor(t){super(),this.matrix=t,this.row=t.length-1,this.column=t.length-1,this.startColumn=this.column,this.dir=-1,this.c=0}move(){this.row+=this.dir*this.c,this.c^=1,this.column=this.startColumn-this.c}getNextCell(){for(;void 0!==this.matrix[this.row][this.column];)this.move(),(this.row<0||this.row>=this.matrix.length)&&(this.dir=-this.dir,this.startColumn-=8!==this.startColumn?2:3,this.column=this.startColumn,this.row=this.dir<0?this.matrix.length-1:0);return{row:this.row,column:this.column}}getNextRemainderCell(){if(this.move(),void 0===this.matrix[this.row][this.column])return{row:this.row,column:this.column}}}class vy extends U{constructor(t,e){super(),this.dataString=t,this.version=e}}class YL extends U{getEncodingResult(t,e){let i=function IB(n){let e,t=[],i=0,s=n;for(t.push(Ey(s,8,5,8,e)),e=t[0].mode,s=s.substr(t[0].modeString.length);s.length>0;){let o=Ey(s,17,9,16,e);o.mode!==e?(e=o.mode,t.push(o),i++):t[i].modeString+=o.modeString,s=s.substr(o.modeString.length)}return t}(t),s=function OB(n){let e,t=0;for(let i=0;i<n.length;i++)e=rf[n[i].mode],t+=e.getStringBitsLength(n[i].modeString.length);return Math.ceil(t/8)}(i),o=ky(s,e),r=function RB(n,t){let i,e="";for(let s=0;s<n.length;s++)i=rf[n[s].mode],e+=i.encode(n[s].modeString,t);return e}(i,o);return new vy(r,o)}}class sf extends U{constructor(){super(),this.initProperties()}initProperties(){Mo(this,{modeIndicator:"",bitsInCharacterCount:[]})}getVersionIndex(t){return t<10?0:t>26?2:1}getBitsCharacterCount(t){return this.bitsInCharacterCount[this.getVersionIndex(t||40)]}getModeCountString(t,e){return this.modeIndicator+It(t,this.getBitsCharacterCount(e))}encode(){}getStringBitsLength(){}getValue(){}}let rf={numeric:new class qL extends sf{initProperties(){super.initProperties(),Mo(this,{bitsInCharacterCount:[10,12,14],modeIndicator:"0001"})}getValue(t){return parseInt(t,10)}encode(t,e){let r,s=_y(t,3),o=this.getModeCountString(t.length,e);for(r=0;r<s.length-1;r++)o+=It(s[r],10);return o+It(s[r],1+3*s[r].length)}getStringBitsLength(t,e){let i=t%3;return 4+this.getBitsCharacterCount(e)+10*Math.floor(t/3)+3*i+(0===i?0:1)}},alphanumeric:new class KL extends sf{initProperties(){super.initProperties(),Mo(this,{characters:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010"})}getValue(t){return this.characters[t]}encode(t,e){let o,r,i=_y(t,2),s=this.getModeCountString(t.length,e);for(r=0;r<i.length-1;r++)o=45*this.getValue(i[r].charAt(0))+this.getValue(i[r].charAt(1)),s+=It(o,11);return o=2===i[r].length?45*this.getValue(i[r].charAt(0))+this.getValue(i[r].charAt(1)):this.getValue(i[r].charAt(0)),s+It(o,1+5*i[r].length)}getStringBitsLength(t,e){return 4+this.getBitsCharacterCount(e)+11*Math.floor(t/2)+t%2*6}},byte:new class JL extends sf{initProperties(){super.initProperties(),Mo(this,{bitsInCharacterCount:[8,16,16],modeIndicator:"0100"})}getValue(t){let e=t.charCodeAt(0);if(e<=127||160<=e&&e<=255)return e;throw new Error(`Unsupported character in QR Code: "${t}".`)}encode(t,e){let i=this,s=i.getModeCountString(t.length,e);for(let o=0;o<t.length;o++)s+=It(i.getValue(t.charAt(o)),8);return s}getStringBitsLength(t,e){return 4+this.getBitsCharacterCount(e)+8*t}}};class iB extends U{constructor(){super(),this.initProperties(),this.mode=rf[this.encodingMode]}initProperties(){Mo(this,{encodingMode:"byte",utfBOM:"111011111011101110111111",initialModeCountStringLength:20,ranges:[128,2048,65536,2097152,67108864]})}getEncodingResult(t,e){let i=this.encode(t),o=ky(this.getDataCodewordsCount(i),e),r=this.mode.getModeCountString(i.length/8,o)+i;return new vy(r,o)}getDataCodewordsCount(t){return Math.ceil((this.initialModeCountStringLength+t.length)/8)}encode(t){let e=this.utfBOM;for(let i=0;i<t.length;i++)e+=this.encodeCharacter(t.charCodeAt(i));return e}encodeCharacter(t){let e=this.getBytesCount(t),i=e-1,s="";if(1===e)s=It(t,8);else{let o=8-e;for(let r=0;r<i;r++)s=It(t>>6*r&63|128,8)+s;s=(t>>6*i|255>>o<<o).toString(2)+s}return s}getBytesCount(t){let e=this.ranges;for(let i=0;i<e.length;i++)if(t<e[i])return i+1}}const ra=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}];let by="alphanumeric",af={1:0},$n={0:1},oB={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},lf=[1,0,1,1,1],rB=[1,0,1],aB={L:"01",M:"00",Q:"11",H:"10"},uB=["11101100","00010001"],cf=[(n,t)=>(n+t)%2==0,(n,t)=>n%2==0,(n,t)=>t%3==0,(n,t)=>(n+t)%3==0,(n,t)=>(Math.floor(n/2)+Math.floor(t/3))%2==0,(n,t)=>n*t%2+n*t%3==0,(n,t)=>(n*t%2+n*t%3)%2==0,(n,t)=>((n+t)%2+n*t%3)%2==0],pB=/^\d+/,yy="A-Z0-9 $%*+./:-",gB=new RegExp("^[A-Z $%*+./:-]+"),Sy=new RegExp("^["+yy+"]+"),wy=new RegExp("^[^"+yy+"]+");const hf=[[1,0],[1,25,0]];function Tt(n,t,e,i){for(let s=0;s<n.length;s++)n[s][e][i]=t}function Cy(n,t,e,i){for(let s=0;s<cf.length;s++)n[s][e][i]=cf[s](e,i)?1^t:parseInt(t,10)}function EB(n,t){let e=[];for(let s=n.length-2;s>=0;s--)e[s]=n[s]^t[s];return e}function kB(n,t){let e=[];for(let i=0;i<n.length;i++)for(let s=0;s<t.length;s++)e[i+s]=void 0===e[i+s]?(n[i]+(t[s]>=0?t[s]:0))%255:af[$n[e[i+s]]^$n[(n[i]+t[s])%255]];return e}function TB(n,t){let e=[],i=n.length-1;do{e[i]=$n[(n[i]+t)%255],i--}while(void 0!==n[i]);return e}function MB(n,t){let a,c,e=hf[t-1],i=new Array(t).concat(n),s=new Array(i.length-e.length).concat(e),o=n.length,r=[];for(c=0;c<o;c++)a=TB(s,af[i[i.length-1]]),s.splice(0,1),i=EB(a,i);for(c=i.length-1;c>=0;c--)r[t-1-c]=It(i[c],8);return r}function Ey(n,t,e,i,s){let d,p,o=pB.exec(n),r=o?o[0]:"",a=gB.exec(n),c=a?a[0]:"",h=Sy.exec(n),u=h?h[0]:"";return r&&(r.length>=t||n.length===r.length||r.length>=e&&!Sy.test(n.charAt(r.length)))?(d="numeric",p=r):u&&(n.length===u.length||u.length>=i||s===by)?(d=by,p=r||c):(d="byte",p=u?u+wy.exec(n.substring(u.length))[0]:wy.exec(n)[0]),{mode:d,modeString:p}}function ky(n,t){let e=0,i=ra.length-1,s=Math.floor(ra.length/2);do{n<ra[s][t].totalDataCodewords?i=s:e=s,s=e+Math.floor((i-e)/2)}while(i-e>1);return n<=ra[e][t].totalDataCodewords?s+1:i+1}function Ay(n,t,e){let i=Ac(t),s=t.length-1,o=n<<s,a=It(n,e-s),c=function PB(n,t){let e=t.toString(2).length,i=n.toString(2).length,s=n;do{s^=t<<i-e,i=s.toString(2).length}while(i>=e);return s}(o,i);return c=a+It(c,s),c}function aa(n,t){return parseInt(n.charAt(t),10)}function Ty(n,t){let i,s,e=n[0],o=0,r=t.length;for(i=0,s=8;i<=8;i++)6!==i&&Tt(n,aa(t,r-1-o++),i,s);for(i=8,s=7;s>=0;s--)6!==s&&Tt(n,aa(t,r-1-o++),i,s);for(o=0,s=e.length-1,i=8;s>=e.length-8;s--)Tt(n,aa(t,r-1-o++),i,s);for(Tt(n,1,e.length-8,8),i=e.length-7,s=8;i<e.length;i++)Tt(n,aa(t,r-1-o++),i,s)}function My(n,t){let c,h,u,i=n[0].length,o=i-11,r=i-11;for(let d=0;d<t.length;d++)c=Math.floor(d/3),h=d%3,u=aa(t,t.length-d-1),Tt(n,u,0+c,o+h),Tt(n,u,r+h,0+c)}function Tc(n,t,e,i){let r,s=t.length+2,o=t.length+1;for(let a=0;a<t.length;a++)for(let c=a;c<s-a;c++)r=t[a],Tt(n,r,e+c,i+a),Tt(n,r,e+a,i+c),Tt(n,r,e+o-c,i+o-a),Tt(n,r,e+o-a,i+o-c)}function uf(n,t,e,i){let s=e,o=i,r=n[0];do{Tt(n,0,s,i),Tt(n,0,e,o),s+=t[0],o+=t[1]}while(s>=0&&s<r.length)}function Dy(n,t,e,i,s){t[n][i]=(t[n][i]<<1^s)%128,93===t[n][i]&&(e[n]+=40)}function Iy(n,t,e,i,s,o){e[n][o]===i?s[n][o]++:(e[n][o]=i,s[n][o]>=5&&(t[n]+=3+s[n][o]-5),s[n][o]=1)}function HB(n,t){let e=Math.floor(n/t*100),i=e%5,s=Math.abs(e-i-50),o=Math.abs(e+5-i-50);return 10*Math.min(s/5,o/5)}(function CB(){let n,t;for(t=1;t<255;t++)n=2*$n[t-1],n>255&&(n^=285),$n[t]=n,af[n]=t;n=2*$n[t-1]^285,$n[t]=n,$n[-1]=0})(),function AB(){for(let t=2;t<=68;t++)hf[t]=kB(hf[t-1],[t,0])}();const la=Math.round,WB=[[0,1],[1,1],[1,2],[2,2],[2,1],[3,1],[3,0],[2,0],[2,-1],[1,-1],[1,0]],Oy=[[0,1],[1,1],[1,0]];M(class ZB extends U{constructor(t,e,i=Hv){super(),this.options=b({},this.options,e),this.element=t,this.wrapper=this.element,this.onError=i,this._initElement(),this._initSurface(),this.setOptions(e)}destroy(){this._destroySurface()}_initElement(){Et(this.element,"k-qrcode")}_initSurface(){const{options:t,surface:e}=this;(!e||e.options.type!==t.renderAs)&&(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())}_createSurface(){return Qr.create(this.surfaceElement,{type:this.options.renderAs})}_destroySurface(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())}_initSurfaceElement(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))}_destroySurfaceElement(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)}redraw(){let t=this._getSize();this.surface.clear(),this.surface.setSize({width:t,height:t}),this.createVisual(),this.surface.draw(this.visual)}getSize(){const t=this.element,e=t.clientWidth,i=t.clientHeight,s={width:0,height:0};return e>0&&(s.width=e),i&&(s.height=i),s}_resize(){this.redraw()}createVisual(){this.visual=this._render()}exportVisual(){return this._render()}_render(){let e,r,a,c,h,u,t=this._value,i=this.options.border||{},s=this.options.padding||0,o=i.width||0;i.width=o;let d=new ge;try{t&&(a=function jB(n,t,e){let i=function VB(n){return n&&n.toLowerCase().indexOf("utf_8")>=0?new iB:new YL}(e),s=i.getEncodingResult(n,t),o=s.version,r=ra[o-1][t],a=function wB(n,t){let e=8*t,i=0,s=0,o=n;for(;o.length<e&&i<"0000".length;)o+="0000".charAt(i++);for(o.length%8!=0&&(o+=new Array(9-o.length%8).join("0"));o.length<e;)o+=uB[s],s^=1;return o}(s.dataString,r.totalDataCodewords),c=function DB(n,t){let o,a,c,h,u,e=0,i=[],s=[],r=t.groups;for(let d=0;d<r.length;d++){c=r[d][0];for(let p=0;p<c;p++){a=r[d][1],o=[],h=[];for(let f=1;f<=a;f++)u=n.substring(e,e+8),o.push(u),h[a-f]=Ac(u),e+=8;i.push(o),s.push(MB(h,t.errorCodewordsPerBlock))}}return[i,s]}(a,r),h=function LB(n){let t=[],e=17+4*n;for(let i=0;i<cf.length;i++){t[i]=new Array(e);for(let s=0;s<e;s++)t[i][s]=new Array(e)}return t}(o);(function FB(n){let t=n[0].length;Tc(n,lf,0,0),uf(n,[-1,-1],7,7),Tc(n,lf,t-7,0),uf(n,[1,-1],t-8,7),Tc(n,lf,0,t-7),uf(n,[-1,1],7,t-8)})(h),function zB(n,t){if(t<2)return;let r,a,e=n[0],i=e.length,s=Math.floor(t/7),o=[6],c=0;for((r=oB[t])?a=(i-13-r)/s:r=a=(i-13)/(s+1),o.push(o[c++]+r);o[c]+a<i;)o.push(o[c++]+a);for(let h=0;h<o.length;h++)for(let u=0;u<o.length;u++)void 0===e[o[h]][o[u]]&&Tc(n,rB,o[h]-2,o[u]-2)}(h,o),function GB(n){let i=1,s=n[0].length;for(let o=8;o<s-8;o++)Tt(n,i,6,o),Tt(n,i,o,6),i^=1}(h),o>=7&&My(h,It(0,18)),Ty(h,It(0,15)),function SB(n,t){let i,s,o,e=new $L(n[0]);for(let r=0;r<t.length;r++)for(i=t[r],s=0;i.length>0;){for(let a=0;a<i.length;a++)for(let c=0;c<8;c++)o=e.getNextCell(),Cy(n,i[a][s].charAt(c),o.row,o.column);for(s++;i[0]&&s===i[0].length;)i.splice(0,1)}for(;o=e.getNextRemainderCell();)Cy(n,0,o.row,o.column)}(h,c);let u=function UB(n){let r,a,t=[],e=[],i=[],s=[],o=[],u=n[0].length;for(a=0;a<n.length;a++)t[a]=0,i[a]=0,o[a]=[0,0],s[a]=[0,0],e[a]=[];for(let g=0;g<u;g++)for(let m=0;m<u;m++)for(let _=0;_<n.length;_++)r=n[_],i[_]+=parseInt(r[g][m],10),e[_][0]===r[g][m]&&g+1<u&&m-1>=0&&r[g+1][m]===e[_][0]&&r[g+1][m-1]===e[_][0]&&(t[_]+=3),Dy(_,s,t,0,r[g][m]),Dy(_,s,t,1,r[m][g]),Iy(_,t,e,r[g][m],o,0),Iy(_,t,e,r[m][g],o,1);let p,d=u*u,f=Number.MAX_VALUE;for(a=0;a<t.length;a++)t[a]+=HB(i[a],d),t[a]<f&&(f=t[a],p=a);return p}(h),d=h[u];return o>=7&&My([d],function BB(n){return Ay(n,"1111100100101",18)}(o)),Ty([d],function NB(n){let e,i="";if(0===Ac(n))return"101010000010010";e=Ay(Ac(n),"10100110111",15);for(let s=0;s<e.length;s++)i+=e.charAt(s)^"101010000010010".charAt(s);return i}(aB[t]+It(u,3))),d}(t,this.options.errorCorrection,this.options.encoding),c=this._getSize(),u=c-2*(o+s),e=this._calculateBaseUnit(u,a.length),h=a.length*e,r=o+s+(u-h)/2,d.append(this._renderBackground(c,i)),d.append(this._renderMatrix(a,e,r)),this._hasCustomLogo()?d.append(this._renderLogo(c,e)):this._isSwiss()&&d.append(this._renderSwissCode(c,e)))}catch(p){this.onError(p)}return d}_renderLogo(t,e){let i,s,o=la(t/2),r=this._getLogoSize(7*e),a=this.options.overlay.imageUrl,c={x:o-r.width/2,y:o-r.height/2};return s=new ue(new A(c.x,c.y),new En(r.width,r.height)),i=new rl(a,s),i}_renderSwissCode(t,e){let i=this._getLogoSize(7*e);i=Math.max(i.width,i.height);let s=i/4,o=s/2,r=t/2,a={},c=new ge;return a.x=a.y=Math.ceil(r-e-i/2),c.append(this._renderShape(a,Math.ceil(i+2*e),Oy,"#fff")),a.x=a.y=r-i/2,c.append(this._renderShape(a,i,Oy,this.options.color)),a.x=r+o-i/2,a.y=r+o+s-i/2,c.append(this._renderShape(a,s,WB,"#fff")),c}_renderShape(t,e,i,s){let o=new Oi({fill:{color:s},stroke:null});o.moveTo(t.x,t.y);for(let r=0;r<i.length;r++)o.lineTo(t.x+e*i[r][0],t.y+e*i[r][1]);return o.close(),o}_getSize(){let t;if(this.options.size)t=parseInt(this.options.size,10);else{const i=my(this.element,this.options.renderAs),s=Math.min(i.width,i.height);t=s>0?s:200}return t}_calculateBaseUnit(t,e){let i=Math.floor(t/e);if(i<1){const s=Math.ceil(1*e);this.onError(new Error(`Insufficient size for QR Code: the current size is ${t}px and the minimum size is ${s}px.`))}else i*e>=t&&i-1>=1&&i--;return i}_renderMatrix(t,e,i){let s=new Oi({fill:{color:this.options.color},stroke:null});for(let o=0;o<t.length;o++){let r=i+o*e,a=0;for(;a<t.length;){for(;0===t[o][a]&&a<t.length;)a++;if(a<t.length){let c=a;for(;1===t[o][a];)a++;let h=la(i+c*e),u=la(r),d=la(i+a*e),p=la(r+e);s.moveTo(h,u).lineTo(h,p).lineTo(d,p).lineTo(d,u).close()}}}return s}_renderBackground(t,e){const i=new P(0,0,t,t).unpad(e.width/2);return G.fromRect(i.toRect(),{fill:{color:this.options.background},stroke:{color:e.color,width:e.width}})}setOptions(t){this.options=Mo(this.options,t||{}),void 0!==t.value&&(this._value=String(this.options.value)),this._initSurface(),this.redraw()}value(t){if(void 0===t)return this._value;this._value=String(t),this.redraw()}_hasCustomLogo(){return Boolean(this.options.overlay.imageUrl)}_isSwiss(){return"swiss"===this.options.overlay.type}_getLogoSize(t){let e=this.options.overlay.width,i=this.options.overlay.height;return e||i?e&&!i?i=e:!e&&i&&(e=i):e=i=t,{width:e,height:i}}},{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:"L",background:"#fff",color:"#000",size:"",padding:0,border:{color:"",width:0},overlay:{type:"image",imageUrl:"",width:0,height:0}});const df={WGS84:{a:6378137,b:6356752.314245179,f:.0033528106647474805,e:.08181919084262149}};function Gi(n){return n*n}let Yn=Math,YB=Yn.abs,Ry=Yn.atan,Mc=Yn.atan2,qn=Yn.cos,mn=Yn.sin,Ny=Yn.tan;class Re extends U{constructor(t,e){super(),this.initProperties(),1===arguments.length?(this.lat=t[0],this.lng=t[1]):(this.lat=t,this.lng=e)}initProperties(){b(this,{DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6}{1:N6}"})}toArray(){return[this.lat,this.lng]}equals(t){return t&&t.lat===this.lat&&t.lng===this.lng}clone(){return new Re(this.lat,this.lng)}round(t){return this.lng=N(this.lng,t),this.lat=N(this.lat,t),this}wrap(){return this.lng=this.lng%180,this.lat=this.lat%90,this}distanceTo(t,e){return this.greatCircleTo(t,e).distance}destination(t,e,i){let s=Xe(e),o=i||df.WGS84,r=Xe(this.lat),a=Xe(this.lng),c=t/o.a,h=Yn.asin(mn(r)*qn(c)+qn(r)*mn(c)*qn(s)),u=a+Mc(mn(s)*mn(c)*qn(r),qn(c)-mn(r)*mn(h));return new Re(Bn(h),Bn(u))}greatCircleTo(t,e){let i=Re.create(i),s=e||df.WGS84;if(!i||this.clone().round(8).equals(i.clone().round(8)))return{distance:0,azimuthFrom:0,azimuthTo:0};let _,S,T,D,I,F,O,$,o=s.a,r=s.b,a=s.f,c=Xe(i.lng-this.lng),h=Ry((1-a)*Ny(Xe(this.lat))),u=mn(h),d=qn(h),p=Ry((1-a)*Ny(Xe(i.lat))),f=mn(p),g=qn(p),m=c,v=this.DISTANCE_ITERATIONS,x=!1;for(;!x&&v-- >0;){S=mn(m),T=qn(m),D=Yn.sqrt(Gi(g*S)+Gi(d*f-u*g*T)),F=u*f+d*g*T,$=Mc(D,F);let R=d*g*S/D;I=1-Gi(R),O=0,0!==I&&(O=F-2*u*f/I),_=m;let B=a/16*I*(4+a*(4-3*I));m=c+(1-B)*a*R*($+B*D*(O+B*F*(2*Gi(O)-1))),x=YB(m-_)<=this.DISTANCE_CONVERGENCE}let q=I*(Gi(o)-Gi(r))/Gi(r),C=1+q/16384*(4096+q*(q*(320-175*q)-768)),z=q/1024*(256+q*(q*(74-47*q)-128)),w=z*D*(O+z/4*(F*(2*Gi(O)-1)-z/6*O*(4*Gi(D)-3)*(4*Gi(O)-3))),Z=Mc(g*S,d*f-u*g*T),E=Mc(d*S,-u*g+d*f*T);return{distance:N(r*C*($-w),this.DISTANCE_PRECISION),azimuthFrom:Bn(Z),azimuthTo:Bn(E)}}toString(){return String(this.lat)+","+String(this.lng)}static fromLngLat(t){return new Re(t[1],t[0])}static fromLatLng(t){return new Re(t[0],t[1])}static create(t,e){if(k(t))return t instanceof Re?t.clone():1===arguments.length&&2===t.length?Re.fromLatLng(t):new Re(t,e)}}let Kn=Math,pf=Kn.atan,Py=Kn.exp,Ly=Kn.pow,By=Kn.sin,Fy=Kn.log,zy=Kn.tan,Gy=A,Dc=Kn.PI,ff=Dc/2,Uy=Dc/4,qB=Dc/180,KB=df.WGS84;class gf extends U{constructor(t){super(),this.initProperties(),this._initOptions(t)}_initOptions(t){this.options=b({},this.options,t)}initProperties(){b(this,{MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12})}forward(t,e){let i=this,s=i.options,r=s.datum.a,a=s.centralMeridian,c=J(t.lat,-i.MAX_LAT,i.MAX_LAT),h=e?J(t.lng,-i.MAX_LNG,i.MAX_LNG):t.lng,u=Xe(h-a)*r,d=i._projectLat(c);return new Gy(u,d)}_projectLat(t){let e=this.options.datum,i=e.e,s=e.a,o=Xe(t),r=zy(Uy+o/2),a=i*By(o),c=Ly((1-a)/(1+a),i/2);return s*Fy(r*c)}inverse(t,e){let i=this,s=i.options,c=t.x/(qB*s.datum.a)+s.centralMeridian,h=J(i._inverseY(t.y),-i.MAX_LAT,i.MAX_LAT);return e&&(c=J(c,-i.MAX_LNG,i.MAX_LNG)),new Re(h,c)}_inverseY(t){let h,e=this,i=e.options.datum,o=i.e,r=o/2,a=Py(-t/i.a),c=ff-2*pf(a);for(h=0;h<=e.INVERSE_ITERATIONS;h++){let u=o*By(c),d=Ly((1-u)/(1+u),r),p=ff-2*pf(a*d)-c;if(c+=p,Kn.abs(p)<=e.INVERSE_CONVERGENCE)break}return Bn(c)}}M(gf,{centralMeridian:0,datum:KB});class JB extends gf{initProperties(){super.initProperties(),b(this,{MAX_LAT:85.0511287798})}_projectLat(t){let e=this.options.datum.a,i=Xe(t),s=zy(Uy+i/2);return e*Fy(s)}_inverseY(t){let i=Py(-t/this.options.datum.a);return Bn(ff-2*pf(i))}}class XB extends U{constructor(){super();let e=this._proj=new JB,i=this.c=2*Dc*e.options.datum.a;this._tm=me().translate(.5,.5).scale(1/i,-1/i),this._itm=me().scale(i,-i).translate(-.5,-.5)}toPoint(t,e,i){return this._proj.forward(t,i).transform(this._tm).scale(e||1)}toLocation(t,e,i){let s=t.clone().scale(1/(e||1)).transform(this._itm);return this._proj.inverse(s,i)}}const Hy=Object.defineProperty;let Do=n=>{const t=document.createElement("div");return t.innerHTML=n,t.firstChild},ca=n=>{for(;n.firstChild;)n.removeChild(n.firstChild)},Vy=(n,t)=>{t.insertBefore(n,t.firstChild)},jy=n=>n.replace(/([a-z][A-Z])/g,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()}),Wy=n=>{let t;return t=n&&String(n).endsWith("px")?n:String(n)+"px",t};const Zy=n=>{let e,t=!1,i=[],s={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},o={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},r={tablet:/playbook|ipad|fire/i},a={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(let c in s)if(s.hasOwnProperty(c)&&(i=n.match(s[c]),i)){if("windows"===c&&"plugins"in navigator)return!1;t={},t.device=c,t.tablet=mf(c,r,!1),t.browser=mf(n,a,"default"),t.name=mf(c,o),t[t.name]=!0,t.majorVersion=i[2],t.minorVersion=(i[3]||"0").replace("_","."),e=t.minorVersion.replace(".","").substr(0,2),t.flatVersion=t.majorVersion+e+new Array(3-(e.length<3?e.length:2)).join("0");break}return t};function mf(n,t,e){for(let i in t)if(t.hasOwnProperty(i)&&t[i].test(n))return i;return void 0!==e?e:n}let _f=()=>{let n={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};const t=Ds();return t.touch&&(t.mobileOS.ios||t.mobileOS.android)?n={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:t.pointers?n={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:t.msPointers&&(n={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),n};const Ds=()=>{const n=Zy(navigator.userAgent),t=(n=>{let t=!1,e=[],i={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(let s in i)if(i.hasOwnProperty(s)&&(e=n.match(i[s]),e)){t={},t[s]=!0,t[e[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||e[2],10);break}return t})(navigator.userAgent);let e=t.chrome,i=t.crios,s=t.mozilla,o=t.safari;const r={};r.mobileOS=n,r.touch="ontouchstart"in window,r.pointers=!e&&!i&&!s&&!o&&window.PointerEvent,r.msPointers=!e&&window.MSPointerEvent,r.mouseAndTouchPresent=r.touch&&!(r.mobileOS.ios||r.mobileOS.android),r.eventCapture=document.documentElement.addEventListener;let a=document.createElement("table"),c=r.transitions=!1,h=r.transforms=!1;const u="string";return["Moz","webkit","O","ms"].forEach(function(d){let p=typeof a.style[d+"Transition"]===u;if(p||typeof a.style[d+"Transform"]===u){let f=d.toLowerCase();return h={css:"ms"!==f?"-"+f+"-":"",prefix:d,event:"o"===f||"webkit"===f?f:""},p&&(c=h,c.event=c.event?c.event+"TransitionEnd":"transitionend"),!1}}),a=null,r.transforms=h,r.transitions=c,r.delayedClick=function(){if(r.touch){if(r.mobileOS.ios)return!0;if(r.mobileOS.android){if(!r.browser.chrome)return!0;if(r.browser.version<32)return!1;const d=document.querySelector("meta[name=viewport]");return!(d?d.getAttribute("content"):"").match(/user-scalable=no/i)}}return!1},r},Oe=(n,t)=>n.bind(t),Mt=(n,t,e,i,s)=>{aF(n,t,e,i,s)},aF=(n,t,e,i,s)=>{(ut(t)?t:(t||"").split(" ")).forEach(function(r){lF(n,r,e,i,s)})},lF=(n,t,e,i,s)=>{let r,o=i;e&&Pe(e)&&!i?o=e:e&&function rF(n){return"string"==typeof n}(e)&&Pe(o)&&(r=e),n.addEventListener(t,function(a){const c=a.target?a.target.closest(r):null;(!r||r&&a.target&&c)&&(Hy(a,"currentTarget",{value:r?c:a.currentTarget}),Hy(a,"delegateTarget",{value:n}),o(a))},Boolean(s))},Ot=(n,t,e,i,s)=>{cF(n,t,e,i,s)},cF=(n,t,e,i)=>{(ut(t)?t:(t||"").split(" ")).forEach(function(o){hF(n,o,e,i)})},hF=(n,t,e,i)=>{n.removeEventListener(t,e,Boolean(i))},si=n=>{const t=_f(navigator);return n.replace(/([^ ]+)/g,function e(o){return t[o]||o})},Ic=(n,t)=>{const e=n.prototype;e.events?t.forEach(i=>{e.events.indexOf(i)<0&&e.events.push(i)}):e.events=t},_n=()=>Number(new Date),$y=()=>{},qy="function";let dF=function(){this._defaultPrevented=!0},pF=function(){return!0===this._defaultPrevented};class Ei extends U{constructor(){super(),this._events={}}destroy(){this.unbind()}bind(t,e,i){let o,a,c,h,d,s=this,r="string"==typeof t?[t]:t||[],u=typeof e===qy;if(void 0===e){for(o in t)s.bind(o,t[o]);return s}for(o=0,a=r.length;o<a;o++){let p=r[o];h=u?e:e[p],h&&(i&&(c=h,h=function(){s.unbind(p,h),c.apply(s,arguments)},h.original=c),d=s._events[p]=s._events[p]||[],d.push(h))}return s}one(t,e){return this.bind(t,e,!0)}first(t,e){let s,r,a,h,i=this,o="string"==typeof t?[t]:t,c=typeof e===qy;for(s=0,r=o.length;s<r;s++){let u=o[s];a=c?e:e[u],a&&(h=i._events[u]=i._events[u]||[],h.unshift(a))}return i}trigger(t,e){let o,r,i=this,s=i._events[t];if(s){let a=e||{};for(a.sender=i,a._defaultPrevented=!1,a.preventDefault=dF,a.isDefaultPrevented=pF,s=s.slice(),o=0,r=s.length;o<r;o++)s[o].call(i,a);return!0===a._defaultPrevented}return!1}unbind(t,e){let o,i=this,s=i._events[t];if(void 0===t)i._events={};else if(s)if(e)for(o=s.length-1;o>=0;o--)(s[o]===e||s[o].original===e)&&s.splice(o,1);else i._events[t]=[];return i}_setEvents(t){const e=(this.events||[]).length;for(let i=0;i<e;i++){let s=this.events[i];this.options[s]&&t[s]&&(this.unbind(s,this.options[s]),this._events&&this._events[s]&&delete this._events[s])}this.bind(this.events,t)}}class Ky extends Ei{constructor(t,e){super(),this.element=t,this._initOptions(e),this.items=[],Et(this.element,"k-widget k-attribution")}_initOptions(t){this.options=b({},this.options,t)}filter(t,e){this._extent=t,this._zoom=e,this._render()}add(t){let e=t;k(t)&&("string"==typeof t&&(e={text:t}),this.items.push(e),this._render())}remove(t){let e=[];for(let i=0;i<this.items.length;i++){let s=this.items[i];s.text!==t&&e.push(s)}this.items=e,this._render()}clear(){this.items=[],ca(this.element)}_render(){let t=[];for(let e=0;e<this.items.length;e++){let s=this._itemText(this.items[e]);""!==s&&t.push(s)}t.length>0?(ca(this.element),((n,t)=>{const e=document.createElement("div");for(e.innerHTML=n;e.childNodes.length>0;)t.appendChild(e.childNodes[0])})(t.join(this.options.separator),this.element),this.showElement()):this.hideElement()}hideElement(){this.element.style.display="none"}showElement(){this.element.style.display=""}_itemText(t){let e="",i=this._inZoomLevel(t.minZoom,t.maxZoom),s=this._inArea(t.extent);return i&&s&&(e+=t.text),e}_inZoomLevel(t,e){let i=!0,s=ie(t,-Number.MAX_VALUE),o=ie(e,Number.MAX_VALUE);return i=this._zoom>s&&this._zoom<o,i}_inArea(t){let e=!0;return t&&(e=t.contains(this._extent)),e}}M(Ky,{name:"Attribution",separator:"&nbsp;|&nbsp;"});const Qy={up:{className:"k-navigator-n",iconClass:"k-i-caret-alt-up"},down:{className:"k-navigator-s",iconClass:"k-i-caret-alt-down"},right:{className:"k-navigator-e",iconClass:"k-i-caret-alt-right"},left:{className:"k-navigator-w",iconClass:"k-i-caret-alt-left"}};function Oc(n){return Do('<button class="k-button k-button-square k-rounded-full k-button-flat k-button-flat-base k-icon-button '+Qy[n].className+'" aria-label="move '+n+'"><span class="k-icon '+Qy[n].iconClass+'" /></button>')}class vf extends Ei{constructor(t,e){super(),this.element=t,this._initOptions(e);const i=Oc("up"),s=Oc("right"),o=Oc("down"),r=Oc("left");this.element.appendChild(i),this.element.appendChild(s),this.element.appendChild(o),this.element.appendChild(r),Et(this.element,"k-widget k-navigator"),Mt(this.element,"click",".k-button",Oe(this._click,this));let a=this.element.parentNode.closest("[data-role]");this._keyroot=a||this.element,this._tabindex(this._keyroot),this._keydownHandler=Oe(this._keydown,this),Mt(this._keyroot,"keydown",this._keydownHandler)}destroy(){this.dispose()}dispose(){Ot(this._keyroot,"keydown",this._keydownHandler)}_tabindex(t){const e=t||this.wrapper||this.element;let i=this.element,s="tabindex",o=e.getAttribute(s)||i.getAttribute(s);i.removeAttribute(s),e.setAttribute(s,isNaN(o)?0:o)}_initOptions(t){this.options=b({},this.options,t)}_pan(t,e){let i=this.options.panStep;this.trigger("pan",{x:t*i,y:e*i})}_click(t){let e=0,i=0,s=t.currentTarget;s.matches(".k-navigator-n")?i=1:s.matches(".k-navigator-s")?i=-1:s.matches(".k-navigator-e")?e=1:s.matches(".k-navigator-w")&&(e=-1),this._pan(e,i),t.preventDefault()}_keydown(t){switch(t.which){case 38:this._pan(0,1),t.preventDefault();break;case 40:this._pan(0,-1),t.preventDefault();break;case 39:this._pan(1,0),t.preventDefault();break;case 37:this._pan(-1,0),t.preventDefault()}}}function Xy(n,t){return Do('<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-zoom-'+n+'" title="zoom-'+n+'" aria-label="zoom-'+n+'"><span class="k-icon '+t+'"></span></button>')}M(vf,{name:"Navigator",panStep:1}),Ic(vf,["pan"]);class xf extends Ei{constructor(t,e){super(),this.element=t,this._initOptions(e);const i=Xy("in","k-i-plus"),s=Xy("out","k-i-minus");this.element.appendChild(i),this.element.appendChild(s),Et(this.element,"k-widget k-zoom-control k-button-group k-group-horizontal"),this._clickHandler=this._click.bind(this),Mt(this.element,"click",".k-button",this._clickHandler);let o=this.element.parentNode.closest("[data-role]");this._keyroot=o||this.element,this._tabindex(this._keyroot),this._keydownHandler=this._keydown.bind(this),Mt(this._keyroot,"keydown",this._keydownHandler)}destroy(){this.element&&Ot(this.element,"click",this._clickHandler),this._keyroot&&Ot(this._keyroot,"keydown",this._keydownHandler)}_tabindex(t){const e=t||this.wrapper||this.element;let i=this.element,s="tabindex",o=e.getAttribute(s)||i.getAttribute(s);i.removeAttribute(s),e.setAttribute(s,isNaN(o)?0:o)}_initOptions(t){this.options=b({},this.options,t)}_change(t){this.trigger("change",{delta:t*this.options.zoomStep})}_click(t){let i=1;Er(t.currentTarget,"k-zoom-out")&&(i=-1),this._change(i),t.preventDefault()}_keydown(t){switch(t.which){case 107:case 187:case 61:this._change(1);break;case 109:case 189:case 173:this._change(-1)}}}M(xf,{name:"ZoomControl",zoomStep:1}),Ic(xf,["change"]);let tS=Math,iS=tS.max,nS=tS.min;class vn extends U{constructor(t,e){super();let i=Re.create(t),s=Re.create(e);i.lng+180>s.lng+180&&i.lat+90<s.lat+90?(this.se=i,this.nw=s):(this.se=s,this.nw=i)}contains(t){let e=this.nw,i=this.se,s=ie(t.lng,t[1]),o=ie(t.lat,t[0]);return t&&s+180>=e.lng+180&&s+180<=i.lng+180&&o+90>=i.lat+90&&o+90<=e.lat+90}center(){let t=this.nw,e=this.se;return new Re(t.lat+(e.lat-t.lat)/2,t.lng+(e.lng-t.lng)/2)}containsAny(t){let e=!1;for(let i=0;i<t.length;i++)e=e||this.contains(t[i]);return e}include(t){let e=this.nw,i=this.se,s=ie(t.lng,t[1]),o=ie(t.lat,t[0]);e.lng=nS(e.lng,s),e.lat=iS(e.lat,o),i.lng=iS(i.lng,s),i.lat=nS(i.lat,o)}includeAll(t){for(let e=0;e<t.length;e++)this.include(t[e])}edges(){let t=this.nw,e=this.se;return{nw:this.nw,ne:new Re(t.lat,e.lng),se:this.se,sw:new Re(e.lat,t.lng)}}toArray(){let t=this.nw,e=this.se;return[t,new Re(t.lat,e.lng),e,new Re(e.lat,t.lng)]}overlaps(t){return this.containsAny(t.toArray())||t.containsAny(this.toArray())}static create(t,e){return t instanceof vn?t:t&&e?new vn(t,e):t&&4===t.length&&!e?new vn([t[0],t[1]],[t[2],t[3]]):void 0}static get World(){return new vn([90,-180],[-90,180])}}const sS="centerChange";class oS extends U{constructor(t,e){super(),this.widgetService=t,this.options=b({},this.options,e),this.offset={x:0,y:0}}show(t,e){this.location!==e.location&&(this.anchor=t,this.location=e.location,this.widgetService.notify("showTooltip",Object.assign({anchor:this.anchor},e)),this.visible=!0)}hide(){this.widgetService&&this.widgetService.notify("hideTooltip"),this.visible=!1,this.location=null}get anchor(){return this._anchor}set anchor(t){const e=this.widgetService.widget._toDocumentCoordinates({x:t.left-this.offset.x,y:t.top-this.offset.y});this._anchor={left:e.left,top:e.top}}destroy(){this.widgetService=null}}M(oS,{border:{width:1},opacity:1});class bf extends U{constructor(t,e){super(),this.support=Ds(),this._initOptions(e),this.map=t;let i=document.createElement("div");Et(i,"k-layer"),i.style.zIndex=this.options.zIndex,i.style.opacity=this.options.opacity,this.element=i,t.scrollElement.appendChild(this.element),this._beforeReset=this._beforeReset.bind(this),this._reset=this._reset.bind(this),this._resize=this._resize.bind(this),this._panEnd=this._panEnd.bind(this),this._activate(),this._updateAttribution()}destroy(){this._deactivate()}_initOptions(t){this.options=b({},this.options,t)}show(){this.reset(),this._activate(),this._applyExtent(!0)}hide(){this._deactivate(),this._setVisibility(!1)}reset(){this._beforeReset(),this._reset()}_reset(){this._applyExtent()}_beforeReset(){}_resize(){}_panEnd(){this._applyExtent()}_applyExtent(){let t=this.options,e=this.map.zoom(),i=!k(t.minZoom)||e>=t.minZoom,s=!k(t.maxZoom)||e<=t.maxZoom,o=vn.create(t.extent),r=!o||o.overlaps(this.map.extent());this._setVisibility(i&&s&&r)}_setVisibility(t){this.element.style.display=t?"":"none"}_activate(){let t=this.map;this._deactivate(),t.bind("beforeReset",this._beforeReset),t.bind("reset",this._reset),t.bind("resize",this._resize),t.bind("panEnd",this._panEnd)}_deactivate(){let t=this.map;t.unbind("beforeReset",this._beforeReset),t.unbind("reset",this._reset),t.unbind("resize",this._resize),t.unbind("panEnd",this._panEnd)}_updateAttribution(){const t=this.map.attribution;t&&t.add(this.options.attribution)}_readData(){return this.options.data||[]}_hasData(){return this._data&&this._data.length>0}_layerIndex(){return(this.map.layers||[]).indexOf(this)}}let Jn=Math,yf=A;function rS(n){return Pe(n)?n:Ov.compile(n)}function SF(n){return new yf(N(n.x),N(n.y))}function aS(n){let t=n;return"string"!=typeof n&&(t+="px"),t}class lS extends bf{constructor(t,e){super(t,e),"string"==typeof this.options.subdomains&&(this.options.subdomains=this.options.subdomains.split(""));let i=this._viewType();this._view=new i(this.element,this.options)}destroy(){super.destroy(),this._view.destroy(),this._view=null}_beforeReset(){let t=this.map,e=t.locationToLayer(t.extent().nw).round();this._view.viewOrigin(e)}_reset(){super._reset(),this._updateView(),this._view.reset()}_viewType(){return wF}_activate(){super._activate(),this.support.mobileOS||(this._pan||(this._pan=Yh(this._render.bind(this),100)),this.map.bind("pan",this._pan))}_deactivate(){super._deactivate(),this._pan&&this.map.unbind("pan",this._pan)}_updateView(){let t=this._view,e=this.map,i=e.extent(),s={nw:e.locationToLayer(i.nw).round(),se:e.locationToLayer(i.se).round()};t.center(e.locationToLayer(e.center())),t.extent(s),t.zoom(e.zoom())}_resize(){this._render()}_panEnd(t){super._panEnd(t),this._render()}_render(){this._updateView(),this._view.render()}}M(lS,{tileSize:256,subdomains:["a","b","c"],urlTemplate:"",zIndex:1});class wF extends U{constructor(t,e){super(),this.element=t,this._initOptions(e),this.pool=new hS}_initOptions(t){this.options=b({},this.options,t)}center(t){this._center=t}extent(t){this._extent=t}viewOrigin(t){this._viewOrigin=t}zoom(t){this._zoom=t}pointToTileIndex(t){return new yf(Jn.floor(t.x/this.options.tileSize),Jn.floor(t.y/this.options.tileSize))}tileCount(){let t=this.size(),e=this.pointToTileIndex(this._extent.nw),i=this._extent.nw,s=this.indexToPoint(e).translate(-i.x,-i.y);return{x:Jn.ceil((Jn.abs(s.x)+t.width)/this.options.tileSize),y:Jn.ceil((Jn.abs(s.y)+t.height)/this.options.tileSize)}}size(){let t=this._extent.nw,i=this._extent.se.clone().translate(-t.x,-t.y);return{width:i.x,height:i.y}}indexToPoint(t){return new yf(t.x*this.options.tileSize,t.y*this.options.tileSize)}subdomainText(){let t=this.options.subdomains;return t[this.subdomainIndex++%t.length]}destroy(){ca(this.element),this.pool.empty()}reset(){this.pool.reset(),this.subdomainIndex=0,this.render()}render(){let i,s,o,t=this.tileCount(),e=this.pointToTileIndex(this._extent.nw);for(s=0;s<t.x;s++)for(o=0;o<t.y;o++)i=this.createTile({x:e.x+s,y:e.y+o}),i.visible||i.show()}createTile(t){let e=this.tileOptions(t),i=this.pool.get(this._center,e);return i.element.parentNode||this.element.append(i.element),i}tileOptions(t){let e=this.wrapIndex(t),i=this.indexToPoint(t),s=this._viewOrigin,o=i.clone().translate(-s.x,-s.y);return{index:e,currentIndex:t,point:i,offset:SF(o),zoom:this._zoom,size:this.options.tileSize,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate}}wrapIndex(t){let e=Jn.pow(2,this._zoom);return{x:this.wrapValue(t.x,e),y:J(t.y,0,e-1)}}wrapValue(t,e){let i=Jn.abs(t)%e,s=t;return s=t>=0?i:e-(0===i?e:i),s}}class cS extends U{constructor(t,e){super(),this.id=t,this.visible=!0,this._initOptions(e),this.createElement(),this.show()}destroy(){const t=this.element,e=t?t.parentNode:null;t&&(e&&e.removeChild(t),this.element=null)}_initOptions(t){this.options=b({},this.options,t)}createElement(){let t=document.createElement("img");const e=this.options.size+"px";t.style.position="absolute",t.style.display="block",t.style.width=t.style.maxWidth=e,t.style.height=t.style.maxHeight=e,this.element=t}show(){let t=this.element;t.style.top=aS(this.options.offset.y),t.style.left=aS(this.options.offset.x);let e=this.url();e&&t.setAttribute("src",e),t.style.visibility="visible",this.visible=!0}hide(){this.element.style.visibility="hidden",this.visible=!1}url(){return rS(this.options.urlTemplate)(this.urlOptions())}errorUrl(){return rS(this.options.errorUrlTemplate)(this.urlOptions())}urlOptions(){let t=this.options;return{zoom:t.zoom,subdomain:t.subdomain,z:t.zoom,x:t.index.x,y:t.index.y,s:t.subdomain,quadkey:t.quadkey,q:t.quadkey,culture:t.culture,c:t.culture}}}M(cS,{urlTemplate:"",errorUrlTemplate:""});class hS extends U{constructor(){super(),this._items=[]}get(t,e){return this._items.length>=this.options.maxSize&&this._remove(t),this._create(e)}empty(){let t=this._items;for(let e=0;e<t.length;e++)t[e].destroy();this._items=[]}reset(){let t=this._items;for(let e=0;e<t.length;e++)t[e].hide()}_create(t){let i,e=this._items,s=FI(t.point.toString()+t.offset.toString()+t.zoom+t.urlTemplate);for(let o=0;o<e.length;o++)if(e[o].id===s){i=e[o];break}return i?i.show():(i=new cS(s,t),this._items.push(i)),i}_remove(t){let e=this._items,i=-1,s=-1;for(let o=0;o<e.length;o++){let r=e[o].options.point.distanceTo(t);r>i&&!e[o].visible&&(s=o,i=r)}-1!==s&&(e[s].destroy(),e.splice(s,1))}}M(hS,{maxSize:100});const Is=Object.assign,ha="change";class CF extends Ei{constructor(t,e){super();let i=this,s=t[0]||t;i.capture=!1;const o=_f(navigator);s.addEventListener?(o.down.split(" ").forEach(function(r){s.addEventListener(r,Oe(i._press,i),!0)}),o.up.split(" ").forEach(function(r){s.addEventListener(r,Oe(i._release,i),!0)})):(o.down.split(" ").forEach(function(r){s.attachEvent(r,Oe(i._press,i))}),o.up.split(" ").forEach(function(r){s.attachEvent(r,Oe(i._release,i))})),i.bind(["press","release"],e||{})}captureNext(){this.capture=!0}cancelCapture(){this.capture=!1}_press(t){this.trigger("press"),this.capture&&t.preventDefault()}_release(t){let e=this;e.trigger("release"),e.capture&&(t.preventDefault(),e.cancelCapture())}}class uS extends Ei{constructor(t){super();let e=this;e.forcedEnabled=!1,Is(e,t),e.scale=1,e.horizontal?(e.measure="offsetWidth",e.scrollSize="scrollWidth",e.axis="x"):(e.measure="offsetHeight",e.scrollSize="scrollHeight",e.axis="y")}makeVirtual(){Is(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})}virtualSize(t,e){(this._virtualMin!==t||this._virtualMax!==e)&&(this._virtualMin=t,this._virtualMax=e,this.update())}outOfBounds(t){return t>this.max||t<this.min}forceEnabled(){this.forcedEnabled=!0}getSize(){return this.container[this.measure]}getTotal(){return this.element[this.scrollSize]}rescale(t){this.scale=t}update(t){let e=this,i=e.virtual?e._virtualMax:e.getTotal(),s=i*e.scale,o=e.getSize();0===i&&!e.forcedEnabled||(e.max=e.virtual?-e._virtualMin:0,e.size=o,e.total=s,e.min=Math.min(e.max,o-s),e.minScale=o/i,e.centerOffset=(s-o)/2,e.enabled=e.forcedEnabled||s>o,t||e.trigger(ha,e))}}class EF extends Ei{constructor(t){super();let e=this;e.x=new uS(Is({horizontal:!0},t)),e.y=new uS(Is({horizontal:!1},t)),e.container=t.container,e.forcedMinScale=t.minScale,e.maxScale=t.maxScale||100,e.bind(ha,t)}rescale(t){this.x.rescale(t),this.y.rescale(t),this.refresh()}centerCoordinates(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}}refresh(){let t=this;t.x.update(),t.y.update(),t.enabled=t.x.enabled||t.y.enabled,t.minScale=t.forcedMinScale||Math.min(t.x.minScale,t.y.minScale),t.fitScale=Math.max(t.x.minScale,t.y.minScale),t.trigger(ha)}}class dS extends Ei{constructor(t){super(),Is(this,t)}outOfBounds(){return this.dimension.outOfBounds(this.movable[this.axis])}dragMove(t){let e=this,i=e.dimension,s=e.axis,o=e.movable,r=o[s]+t;if(!i.enabled)return;let a=t;(r<i.min&&t<0||r>i.max&&t>0)&&(a*=e.resistance),o.translateAxis(s,a),e.trigger(ha,e)}}class kF extends U{constructor(t){super();let i,s,o,r,e=this;Is(e,{elastic:!0},t),o=e.elastic?.5:0,r=e.movable,e.x=i=new dS({axis:"x",dimension:e.dimensions.x,resistance:o,movable:r}),e.y=s=new dS({axis:"y",dimension:e.dimensions.y,resistance:o,movable:r}),e.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart(a){e.gesture=a,e.offset=ro(e.dimensions.container)},press(a){const c=a.event.target.closest("a");c&&c.matches("[data-navigate-on-press=true]")&&a.sender.cancel()},gesturechange(a){let g,c=e.gesture,h=c.center,u=a.center,d=a.distance/c.distance,f=e.dimensions.maxScale;r.scale<=e.dimensions.minScale&&d<1&&(d+=.8*(1-d)),r.scale*d>=f&&(d=f/r.scale);let m=r.x+e.offset.left,_=r.y+e.offset.top;g={x:(m-h.x)*d+u.x-m,y:(_-h.y)*d+u.y-_},r.scaleWith(d),i.dragMove(g.x),s.dragMove(g.y),e.dimensions.rescale(r.scale),e.gesture=a,a.preventDefault()},move(a){a.event.target.tagName.match(/textarea|input/i)||(i.dimension.enabled||s.dimension.enabled?(i.dragMove(a.x.delta),s.dragMove(a.y.delta),a.preventDefault()):a.touch.skip())},end(a){a.preventDefault()}})}}let pS=function(n,t,e){return"translate3d("+n+"px,"+t+"px,0) scale("+e+")"};class Sf extends Ei{constructor(t){super();let e=this;e.support=Ds(),this.transformStyle=this.support.transitions.prefix+"Transform",e.element=t,e.element.style.webkitTransformOrigin="left top",e.x=0,e.y=0,e.scale=1;const i=pS(e.x,e.y,e.scale);e.element.style[this.transformStyle]=i,e._saveCoordinates(i)}translateAxis(t,e){this[t]+=e,this.refresh()}scaleTo(t){this.scale=t,this.refresh()}scaleWith(t){this.scale*=t,this.refresh()}translate(t){this.x+=t.x,this.y+=t.y,this.refresh()}moveAxis(t,e){this[t]=e,this.refresh()}moveTo(t){Is(this,t),this.refresh()}refresh(){let s,t=this,e=t.x,i=t.y;t.round&&(e=Math.round(e),i=Math.round(i)),s=pS(e,i,t.scale),s!==t.coordinates&&(t.element.style[this.transformStyle]=s,t._saveCoordinates(s),t.trigger(ha))}_saveCoordinates(t){this.coordinates=t}}const wf=ge;class Cf extends bf{constructor(t,e){super(t,e),this._pan=Oe(this._pan,this),this.surface=Qr.create(this.element,{width:t.scrollElement.clientWidth,height:t.scrollElement.clientHeight}),this._initRoot(),this.movable=new Sf(this.surface.element),this._markers=[],this._click=this._handler("shapeClick"),this.surface.bind("click",this._click),this._mouseleave=this._handler("shapeMouseLeave"),this.surface.bind("mouseleave",this._mouseleave),this.surface.bind("mouseenter",this._mouseenter.bind(this))}destroy(){super.destroy(),this.surface.destroy()}_reset(){super._reset(),this._translateSurface(),this._data=this._readData(),this._hasData()&&this._load(this._data)}_initRoot(){this._root=new wf,this.surface.draw(this._root)}_beforeReset(){this.surface.clear(),this._initRoot()}_resize(){this.surface.size(this.map.size())}_readData(){const t=super._readData();return"FeatureCollection"===t.type?t.features:"GeometryCollection"===t.type?t.geometries:t}_load(t){this._data=t,this._clearMarkers(),this._loader||(this._loader=new AF(this.map,this.options.style,this));let e=new wf;for(let i=0;i<t.length;i++){let s=this._loader.parse(t[i]);s&&e.append(s)}this._root.clear(),this._root.append(e)}shapeCreated(t){let e=!1;return t instanceof fi&&this.map.options.renderPointsAsMarkers&&(e=k(this._createMarker(t))),e||(e=this.map.trigger("shapeCreated",{layer:this,shape:t})),e}featureCreated(t){t.layer=this,this.map.trigger("shapeFeatureCreated",t)}_createMarker(t){let e=this.map.markers.bind({location:t.location},t.dataItem);return e&&this._markers.push(e),e}_clearMarkers(){for(let t=0;t<this._markers.length;t++)this.map.markers.remove(this._markers[t]);this._markers=[]}_pan(){this._panning||(this._panning=!0,this.surface.suspendTracking())}_panEnd(t){super._panEnd(t),this._translateSurface(),this.surface.resumeTracking(),this._panning=!1}_translateSurface(){let t=this.map,e=t.locationToView(t.extent().nw);this.surface.translate&&(this.surface.translate(e),this.movable.moveTo({x:e.x,y:e.y}))}_eventArgs(t){return{layer:this,layerIndex:this._layerIndex(),shape:t.element,shapeIndex:(this._data||[]).indexOf(t.element.dataItem),originalEvent:t.originalEvent}}_handler(t){return e=>{e.element&&this.map.trigger(t,this._eventArgs(e))}}_mouseenter(t){if(!t.element)return;this.map.trigger("shapeMouseEnter",this._eventArgs(t));const e=t.element,i=this._tooltipAnchor(t);this.map._tooltip.show(i,this._tooltipContext(e))}_tooltipContext(t){return{type:"shape",layerIndex:this._layerIndex(),className:"k-map-shape-tooltip",dataItem:t.dataItem,location:t.location}}_tooltipAnchor(t){const e=this.map.eventOffset(t.originalEvent);return{top:e.y,left:e.x}}_activate(){super._activate(),this._panHandler=Oe(this._pan,this),this.map.bind("pan",this.panHandler)}_deactivate(){super._deactivate(),this.map.unbind("pan",this._panHandler)}}M(Cf,{autoBind:!0,zIndex:100});class AF extends U{constructor(t,e,i){super(),this.observer=i,this.locator=t,this.style=e}parse(t){let e=new wf,i=!0;return"Feature"===t.type?(i=!1,this._loadGeometryTo(e,t.geometry,t),this._featureCreated(e,t)):this._loadGeometryTo(e,t,t),i&&e.children.length<2&&(e=e.children[0]),e}_shapeCreated(t){let e=!1;return this.observer&&this.observer.shapeCreated&&(e=this.observer.shapeCreated(t)),e}_featureCreated(t,e){this.observer&&this.observer.featureCreated&&this.observer.featureCreated({group:t,dataItem:e,properties:e.properties})}_loadGeometryTo(t,e,i){let o,r,s=e.coordinates;switch(e.type){case"LineString":r=this._loadPolygon(t,[s],i),this._setLineFill(r);break;case"MultiLineString":for(o=0;o<s.length;o++)r=this._loadPolygon(t,[s[o]],i),this._setLineFill(r);break;case"Polygon":this._loadPolygon(t,s,i);break;case"MultiPolygon":for(o=0;o<s.length;o++)this._loadPolygon(t,s[o],i);break;case"Point":this._loadPoint(t,s,i);break;case"MultiPoint":for(o=0;o<s.length;o++)this._loadPoint(t,s[o],i)}}_setLineFill(t){let e=t.segments;(e.length<4||!e[0].anchor().equals(We(e).anchor()))&&(t.options.fill=null)}_loadShape(t,e){return this._shapeCreated(e)||t.append(e),e}_loadPolygon(t,e,i){let s=this._buildPolygon(e);return s.dataItem=i,s.location=this.locator.viewToLocation(s.bbox().center()),this._loadShape(t,s)}_buildPolygon(t){let i=new(t.length>1?Oi:G)(this.style);for(let s=0;s<t.length;s++)for(let o=0;o<t[s].length;o++){let r=this.locator.locationToView(Re.fromLngLat(t[s][o]));0===o?i.moveTo(r.x,r.y):i.lineTo(r.x,r.y)}return i}_loadPoint(t,e,i){let s=Re.fromLngLat(e),o=this.locator.locationToView(s),r=new wt(o,10),a=new fi(r,this.style);return a.dataItem=i,a.location=s,this._loadShape(t,a)}}class fS extends Cf{_readData(){return this.options.data||[]}_load(t){if(this._data=t,this.surface.clear(),0===t.length)return;let e=this.options,i=en(e.valueField),s=t.slice(0);s.sort(function(c,h){return i(h)-i(c)});let r,o=this._scaleType(),a=en(this.options.locationField);for(let c=0;c<s.length;c++){let h=s[c],u=a(h),d=i(h);if(k(u)&&k(d)){r||(r=new o([0,d],[e.minSize,e.maxSize])),u=Re.create(u);let p=this.map.locationToView(u),f=r.map(d),g=this._createSymbol({center:p,size:f,style:e.style,dataItem:h,location:u});g.dataItem=h,g.location=u,g.value=d,this._drawSymbol(g)}}}_scaleType(){let t=this.options.scale;return Pe(t)?t:MF[t]}_createSymbol(t){let e=this.options.symbol;return Pe(e)||(e=DF[e]),e(t)}_drawSymbol(t){this.map.trigger("shapeCreated",{layer:this,shape:t})||this.surface.draw(t)}_tooltipContext(t){return{type:"bubble",layerIndex:this._layerIndex(),className:"k-map-bubble-tooltip",dataItem:t.dataItem,location:t.location,value:t.value}}_tooltipAnchor(t){const i=t.element.bbox().center();return{top:i.y,left:i.x}}}M(fS,{locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle",zIndex:200});let MF={sqrt:class TF extends U{constructor(t,e){super(),this._domain=t,this._range=e;let i=Math.sqrt(t[1])-Math.sqrt(t[0]);this._ratio=(e[1]-e[0])/i}map(t){let e=(Math.sqrt(t)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+e}}},DF={circle:function(n){let t=new wt(n.center,n.size/2);return new fi(t,n.style)},square:function(n){let t=new G(n.style),e=n.size/2,i=n.center;return t.moveTo(i.x-e,i.y-e).lineTo(i.x+e,i.y-e).lineTo(i.x+e,i.y+e).lineTo(i.x-e,i.y+e).close(),t}};const mS="mouseenter",_S="mouseleave",IF=Object.assign,Ef=".k-marker";class kf extends bf{constructor(t,e){super(t,e),this._markerClickHandler=Oe(this._markerClick,this),Mt(this.element,"click",Ef,this._markerClickHandler),this.items=[],this._load(this._readData())}destroy(){super.destroy(),Ot(this.element,"click",this._markerClickHandler),this.clear()}add(t){if(!ut(t))return this._addOne(t);for(let e=0;e<t.length;e++)this._addOne(t[e])}remove(t){t.destroy();let e=(this.items||[]).indexOf(t);e>-1&&this.items.splice(e,1)}clear(){for(let t=0;t<this.items.length;t++)this.items[t].destroy();this.items=[]}update(t){let e=t.location();e&&(t.showAt(this.map.locationToView(e)),this.map.trigger("markerActivate",{marker:t,layer:this}))}_reset(){super._reset();let t=this.items;for(let e=0;e<t.length;e++)this.update(t[e])}bind(t,e){let i=ua.create(t,this.options);if(i.dataItem=e,!this.map.trigger("markerCreated",{marker:i,layer:this}))return this.add(i),i}_addOne(t){let e=ua.create(t,this.options);return e.addTo(this),e}_readData(){return this.options.data||[]}_load(t){this._data=t,this.clear();let e=en(this.options.locationField),i=en(this.options.titleField);for(let s=0;s<t.length;s++){let o=t[s];this.bind({location:e(o),title:i(o)},o)}}_markerClick(t){const e=t.target._kendoNode;let i={layer:this,layerIndex:this._layerIndex(),marker:e,markerIndex:(this.items||[]).indexOf(e),originalEvent:t};this.map.trigger("markerClick",i)}_markerMouseEnter(t){const e=this._createMarkerEventArgs(t);this.map.trigger("markerMouseEnter",e)}_markerMouseLeave(t){const e=this._createMarkerEventArgs(t);this.map.trigger("markerMouseLeave",e)}_createMarkerEventArgs(t){const e=t.marker;return IF({},{layer:this,layerIndex:this._layerIndex(),marker:e,markerIndex:(this.items||[]).indexOf(e)},t)}}M(kf,{zIndex:1e3,autoBind:!0,locationField:"location",titleField:"title"});class ua extends U{constructor(t){super(),this.options=t||{}}destroy(){this.layer=null,this.unbindEvents(),this.hide()}addTo(t){this.layer=t.markers||t,this.layer.items.push(this),this.layer.update(this)}location(t){return t?(this.options.location=Re.create(t).toArray(),this.layer&&this.layer.update(this),this):Re.create(this.options.location)}showAt(t){this.render(),this._anchor={left:Math.round(t.x),top:Math.round(t.y)},this.element.style.left=Wy(this._anchor.left),this.element.style.top=Wy(this._anchor.top)}hide(){this.element&&(this.element.remove(),this.element=null)}bindEvents(){!this.element||(this._mouseEnterHandler=Oe(this._mouseEnter,this),Mt(this.element,mS,Ef,this._mouseEnterHandler),this._mouseLeaveHandler=Oe(this._mouseLeave,this),Mt(this.element,_S,Ef,this._mouseLeaveHandler))}unbindEvents(){!this.element||(Ot(this.element,mS,this._mouseEnterHandler),Ot(this.element,_S,this._mouseLeaveHandler))}render(){if(!this.element){let t=this.options,e=this.layer;const i=document.createElement("span");Et(i,"k-marker k-icon k-i-marker-"+jy(t.shape||"pin")),t.title&&i.setAttribute("title",t.title);const s=t.attributes||{};Object.keys(s).forEach(function(o){i.setAttribute(o,s[o])}),i._kendoNode=this,i.style.zIndex=t.zIndex,this.element=i,e&&e.element.appendChild(this.element),this.bindEvents()}}_mouseEnter(t){const e=this._createEventArgs(t);this.layer._markerMouseEnter(e),this.layer.map._tooltip.show({top:this._anchor.top-this.element.offsetHeight,left:this._anchor.left},this._tooltipContext())}_tooltipContext(){return{type:"marker",layerIndex:this.layer._layerIndex(),className:"k-map-marker-tooltip",dataItem:this.dataItem,title:this.options.title,location:this.location()}}_mouseLeave(t){const e=this._createEventArgs(t);this.layer._markerMouseLeave(e)}_createEventArgs(t){return{marker:this,originalEvent:t}}static create(t,e){return t instanceof ua?t:new ua(b({},e,t))}}const OF=Object.assign;function vS(n){window.requestAnimationFrame(n)}class Rc extends U{constructor(){super();let t=this;t._tickProxy=Oe(t._tick,t),t._started=!1}tick(){}done(){}onEnd(){}onCancel(){}start(){!this.enabled()||(this.done()?this.onEnd():(this._started=!0,vS(this._tickProxy)))}enabled(){return!0}cancel(){this._started=!1,this.onCancel()}_tick(){let t=this;!t._started||(t.tick(),t.done()?(t._started=!1,t.onEnd()):vS(t._tickProxy))}}class xS extends Rc{constructor(t){super(),OF(this,t)}done(){return this.timePassed()>=this.duration}timePassed(){return Math.min(this.duration,_n()-this.startDate)}moveTo(t){let e=this;e.initial=e.movable[e.axis],e.delta=t.location-e.initial,e.duration="number"==typeof t.duration?t.duration:300,e.tick=e._easeProxy(t.ease),e.startDate=_n(),e.start()}_easeProxy(t){let e=this;return function(){e.movable.moveAxis(e.axis,t(e.timePassed(),e.initial,e.delta,e.duration))}}static easeOutExpo(t,e,i,s){return t===s?e+i:i*(1-Math.pow(2,-10*t/s))+e}}const Nc=Object.assign,RF=n=>{n.preventDefault()};let bS=800,yS=0,Af="move",Pc="tap",AS="doubleTap",TS="release",MS="gesturechange",DS="gestureend",IS="gesturetap",LF={api:0,touch:0,mouse:9,pointer:9};function OS(n){const t=Ds();let r,a,c,e=[],i=n.originalEvent||n,s=n.currentTarget,o=0;if(n.api)e.push({id:2,event:n,target:n.target,currentTarget:n.target,location:n,type:"api"});else if(n.type.match(/touch/))for(a=i?i.changedTouches:[],r=a.length;o<r;o++)c=a[o],e.push({location:c,event:n,target:c.target,currentTarget:s,id:c.identifier,type:"touch"});else e.push(t.pointers||t.msPointers?{location:i,event:n,target:n.target,currentTarget:s,id:i.pointerId,type:"pointer"}:{id:1,event:n,target:n.target,currentTarget:s,location:n,type:"mouse"});return e}class RS extends U{constructor(t,e){super();let i=this;i.support=Ds(),i.invalidZeroEvents=this.support.mobileOS&&this.support.mobileOS.android,i.axis=t,i._updateLocationData(e),i.startLocation=i.location,i.velocity=i.delta=0,i.timeStamp=_n()}move(t){let e=this,i=t["page"+e.axis],s=_n(),o=s-e.timeStamp||1;!i&&this.invalidZeroEvents||(e.delta=i-e.location,e._updateLocationData(t),e.initialDelta=i-e.startLocation,e.velocity=e.delta/o,e.timeStamp=s)}_updateLocationData(t){let e=this,i=e.axis;e.location=t["page"+i],e.client=t["client"+i],e.screen=t["screen"+i]}}class FF extends U{constructor(t,e,i){super(),Nc(this,{x:new RS("X",i.location),y:new RS("Y",i.location),type:i.type,useClickAsTap:t.useClickAsTap,threshold:t.threshold||LF[i.type],userEvents:t,target:e,currentTarget:i.currentTarget,initialTouch:i.target,id:i.id,pressEvent:i,_clicks:t._clicks,supportDoubleTap:t.supportDoubleTap,_moved:!1,_finished:!1})}press(){this._holdTimeout=setTimeout(Oe(this._hold,this),this.userEvents.minHold),this._trigger("press",this.pressEvent)}_tap(t){let e=this;e.userEvents._clicks++,1===e.userEvents._clicks&&(e._clickTimeout=setTimeout(function(){e._trigger(1===e.userEvents._clicks?Pc:AS,t),e.userEvents._clicks=0},300))}_hold(){this._trigger("hold",this.pressEvent)}move(t){let e=this;if(!(e._finished||"api"!==t.type&&e.userEvents._shouldNotMove)){if(e.x.move(t.location),e.y.move(t.location),!e._moved){if(e._withinIgnoreThreshold())return;if(Io.current&&Io.current!==e.userEvents)return e.dispose();e._start(t)}e._finished||e._trigger(Af,t)}}end(t){this.endTime=_n(),!this._finished&&(this._finished=!0,this._trigger(TS,t),this._moved?this._trigger("end",t):this.useClickAsTap||(this.supportDoubleTap?this._tap(t):this._trigger(Pc,t)),clearTimeout(this._holdTimeout),this.dispose())}dispose(){let e=this.userEvents.touches||[];this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout);const i=e.indexOf(this);e.splice(i,1)}skip(){this.dispose()}cancel(){this.dispose()}isMoved(){return this._moved}_start(t){clearTimeout(this._holdTimeout),this.startTime=_n(),this._moved=!0,this._trigger("start",t)}_trigger(t,e){let i=this,s=e.event;i.userEvents.notify(t,{touch:i,x:i.x,y:i.y,target:i.target,event:s})&&s.preventDefault()}_withinIgnoreThreshold(){let t=this.x.initialDelta,e=this.y.initialDelta;return Math.sqrt(t*t+e*e)<=this.threshold}}function NS(n){let e=_f(navigator).up.split(" "),i=0,s=e.length;for(;i<s;i++)n(e[i])}class Io extends Ei{constructor(t,e){super();let s,i=this;const o=Ds();if(this.support=o,this.options=e=e||{},s=i.filter=e.filter,i.threshold=e.threshold||yS,i.minHold=e.minHold||bS,i.touches=[],i._maxTouches=e.multiTouch?2:1,i.allowSelection=e.allowSelection,i.captureUpIfMoved=e.captureUpIfMoved,i.useClickAsTap=!e.fastTap&&!o.delayedClick(),i._clicks=0,i.supportDoubleTap=e.supportDoubleTap,Nc(i,{element:t,surface:!e.global||o.touch&&!o.mouseAndTouchPresent?e.surface||t:t.ownerDocument.documentElement,stopPropagation:e.stopPropagation,pressed:!1}),this._surfaceMoveHandler=Oe(this._move,this),Mt(i.surface,si("move"),this._surfaceMoveHandler),this._surfaceEndHandler=Oe(this._end,this),Mt(i.surface,si("up cancel"),this._surfaceEndHandler),this._elementStartHandler=Oe(this._start,this),Mt(t,si("down"),s,this._elementStartHandler),i.useClickAsTap&&(this._elementClickHandler=Oe(this._click,this),Mt(t,si("click"),s,this._elementClickHandler)),o.pointers||o.msPointers)if(o.browser.version<11){let a="pinch-zoom double-tap-zoom";t.style["-ms-touch-action"]=e.touchAction&&"none"!==e.touchAction?a+" "+e.touchAction:a}else t.style["touch-action"]=e.touchAction||"none";if(e.preventDragEvent&&(this._elementDragStartHandler=RF,Mt(t,si("dragstart"),this._elementDragStartHandler)),this._elementSelectHandler=Oe(this._select,this),Mt(t,si("mousedown"),s,this._elementSelectHandler),i.captureUpIfMoved&&o.eventCapture){let a=i.surface,c=Oe(i.preventIfMoving,i);NS(function(h){a.addEventListener(h,c,!0)})}i.bind(["press","hold",Pc,AS,"start",Af,"end",TS,"cancel","gesturestart",MS,DS,IS,"select"],e)}preventIfMoving(t){this._isMoved()&&t.preventDefault()}destroy(){let t=this;const e=this.options,i=this.element;if(!t._destroyed){if(t._destroyed=!0,t.captureUpIfMoved&&this.support.eventCapture){let s=t.surface;NS(function(o){s.removeEventListener(o,t.preventIfMoving)})}Ot(t.surface,si("move"),this._surfaceMoveHandler),Ot(t.surface,si("up cancel"),this._surfaceEndHandler),Ot(i,si("down"),this._elementStartHandler),t.useClickAsTap&&Ot(i,si("click"),this._elementClickHandler),e.preventDragEvent&&Ot(i,si("dragstart"),this._elementDragStartHandler),Ot(i,si("mousedown"),this._elementSelectHandler),t._disposeAll(),t.unbind(),delete t.surface,delete t.element,delete t.currentTarget}}capture(){Io.current=this}cancel(){this._disposeAll(),this.trigger("cancel")}notify(t,e){let s=this.touches,o=t;if(this._isMultiTouch()){switch(o){case Af:o=MS;break;case"end":o=DS;break;case Pc:o=IS}Nc(e,{touches:s},function BF(n,t){let e=n.x.location,i=n.y.location,s=t.x.location,o=t.y.location,r=e-s,a=i-o;return{center:{x:(e+s)/2,y:(i+o)/2},distance:Math.sqrt(r*r+a*a)}}(s[0],s[1]))}return this.trigger(o,Nc(e,{type:o}))}press(t,e,i){this._apiCall("_start",t,e,i)}move(t,e){this._apiCall("_move",t,e)}end(t,e){this._apiCall("_end",t,e)}_isMultiTouch(){return this.touches.length>1}_maxTouchesReached(){return this.touches.length>=this._maxTouches}_disposeAll(){let t=this.touches;for(;t.length>0;)t.pop().dispose()}_isMoved(){return Ut(this.touches,function(t){return t.isMoved()}).length}_select(t){(!this.allowSelection||this.trigger("select",{event:t}))&&t.preventDefault()}_start(t){let o,c,e=this,i=0,s=e.filter,r=OS(t),a=r.length,h=t.which;if(!(h&&h>1||e._maxTouchesReached()))for(Io.current=null,e.currentTarget=t.currentTarget,e.stopPropagation&&t.stopPropagation();i<a&&!e._maxTouchesReached();i++)c=r[i],o=s?c.currentTarget:e.element,(!o||0!==o.length)&&(c=new FF(e,o,c),e.touches.push(c),c.press(),e._isMultiTouch()&&e.notify("gesturestart",{}))}_move(t){this._eachTouch("move",t)}_end(t){this._eachTouch("end",t)}_click(t){let e={touch:{initialTouch:t.target,target:t.currentTarget,endTime:_n(),x:{location:t.pageX,client:t.clientX},y:{location:t.pageY,client:t.clientY}},x:t.pageX,y:t.pageY,target:t.currentTarget,event:t,type:"tap"};this.trigger("tap",e)&&t.preventDefault()}_eachTouch(t,e){let a,c,h,u,s={},o=OS(e),r=this.touches;for(a=0;a<r.length;a++)c=r[a],s[c.id]=c;for(a=0;a<o.length;a++)h=o[a],u=s[h.id],u&&u[t](h)}_apiCall(t,e,i,s){this[t]({api:!0,pageX:e,pageY:i,clientX:e,clientY:i,target:s||this.element,stopPropagation:$y,preventDefault:$y})}static defaultThreshold(t){yS=t}static minHold(t){bS=t}}let Oo=Object.assign,Os=Math.abs,Lc="change";class $F extends Rc{constructor(t){super(t);let e=this;Oo(e,t),e.userEvents.bind("gestureend",e.start.bind(this)),e.tapCapture.bind("press",e.cancel.bind(this))}enabled(){return this.movable.scale<this.dimensions.minScale}done(){return this.dimensions.minScale-this.movable.scale<.01}tick(){let t=this.movable;t.scaleWith(1.1),this.dimensions.rescale(t.scale)}onEnd(){let t=this.movable;t.scaleTo(this.dimensions.minScale),this.dimensions.rescale(t.scale)}}class YF extends Rc{constructor(t){super();let e=this;Oo(e,t,{transition:new xS({axis:t.axis,movable:t.movable,onEnd(){e._end()}})}),e.tapCapture.bind("press",function(){e.cancel()}),e.userEvents.bind("end",Oe(e.start,e)),e.userEvents.bind("gestureend",Oe(e.start,e)),e.userEvents.bind("tap",Oe(e.onEnd,e))}onCancel(){this.transition.cancel()}freeze(t){this.cancel(),this._moveTo(t)}onEnd(){let t=this;t.paneAxis.outOfBounds()?t._snapBack():t._end()}done(){return Os(this.velocity)<1}start(t){let i,e=this;!e.dimension.enabled||(e.paneAxis.outOfBounds()?e.transition._started?(e.transition.cancel(),e.velocity=Math.min(t.touch[e.axis].velocity*e.velocityMultiplier,55),super.start()):e._snapBack():(i=2===t.touch.id?0:t.touch[e.axis].velocity,e.velocity=Math.max(Math.min(i*e.velocityMultiplier,55),-55),e.tapCapture.captureNext(),super.start()))}tick(){let t=this,e=t.dimension,i=t.paneAxis.outOfBounds()?.5:t.friction,s=t.velocity*=i,o=t.movable[t.axis]+s;!t.elastic&&e.outOfBounds(o)&&(o=Math.max(Math.min(o,e.max),e.min),t.velocity=0),t.movable.moveAxis(t.axis,o)}_end(){this.tapCapture.cancelCapture(),this.end()}_snapBack(){let t=this,e=t.dimension;t._moveTo(t.movable[t.axis]>e.max?e.max:e.min)}_moveTo(t){this.transition.moveTo({location:t,duration:500,ease:xS.easeOutExpo})}}class qF extends Rc{constructor(t){super(t),Oo(this,t,{origin:{},destination:{},offset:{}})}tick(){this._updateCoordinates(),this.moveTo(this.origin)}done(){return Os(this.offset.y)<5&&Os(this.offset.x)<5}onEnd(){this.moveTo(this.destination),this.callback&&this.callback.call()}setCoordinates(t,e){this.offset={},this.origin=t,this.destination=e}setCallback(t){t&&Pe(t)?this.callback=t:t=void 0}_updateCoordinates(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}class KF extends U{constructor(t){super();let e=this,i="x"===t.axis;const o=Do('<div class="km-touch-scrollbar km-'+(i?"horizontal":"vertical")+'-scrollbar" />');Oo(e,t,{element:o,elementSize:0,movable:new Sf(o),scrollMovable:t.movable,alwaysVisible:t.alwaysVisible,size:i?"width":"height"}),e.scrollMovable.bind(Lc,e.refresh.bind(e)),e.container.appendChild(o),t.alwaysVisible&&e.show()}refresh(){let t=this,e=t.axis,i=t.dimension,s=i.size,r=s/i.total,a=Math.round(-t.scrollMovable[e]*r),c=Math.round(s*r);this.element.style.display=r>=1?"none":"",a+c>s?c=s-a:a<0&&(c+=a,a=0),t.elementSize!==c&&(t.element.style[t.size]=c+"px",t.elementSize=c),t.movable.moveAxis(e,a)}show(){this.element.style.opacity=.7,this.element.style.visibility="visible"}hide(){this.alwaysVisible||(this.element.style.opacity=0)}}class Df extends Ei{constructor(t,e){super();let i=this;this.element=t,this._initOptions(e);const s=(n=>{const t=Zy(n);return t.ios||t.android})(navigator.userAgent);i._native=i.options.useNative&&s;const o=Do('<div class="km-scroll-header"/>');if(i._native)return Et(t,"km-native-scroller"),Vy(o,t),void Oo(i,{scrollElement:t,fixedContainer:t.children[0]});t.style.overflow="hidden",Et(t,"km-scroll-wrapper"),((n,t)=>{for(n.appendChild(t);n.firstChild!==t;)t.appendChild(n.firstChild)})(t,Do('<div class="km-scroll-container"/>')),Vy(o,t);let a=t.children[1],c=new CF(t),h=new Sf(a),u=new EF({element:a,container:t,forcedEnabled:i.options.zoom}),d=this.options.avoidScrolling,p=new Io(t,{touchAction:"pan-y",fastTap:!0,allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:i.options.zoom,supportDoubleTap:i.options.supportDoubleTap,start(_){u.refresh();let v=Os(_.x.velocity),x=Os(_.y.velocity),S=2*v>=x,T=((n,t)=>n===t||((n,t)=>{if(!t)return!1;let e=t.parentNode;for(;null!==e;){if(e===n)return!0;e=e.parentNode}return!1})(n,t))(i.fixedContainer,_.event.target),D=2*x>=v;!T&&!d(_)&&i.enabled&&(u.x.enabled&&S||u.y.enabled&&D)?p.capture():p.cancel()}}),f=new kF({movable:h,dimensions:u,userEvents:p,elastic:i.options.elastic}),g=new $F({movable:h,dimensions:u,userEvents:p,tapCapture:c}),m=new qF({moveTo(_){i.scrollTo(_.x,_.y)}});h.bind(Lc,function(){i.scrollTop=-h.y,i.scrollLeft=-h.x,i.trigger("scroll",{scrollTop:i.scrollTop,scrollLeft:i.scrollLeft})}),i.options.mousewheelScrolling&&(this._wheelScrollHandler=this._wheelScroll.bind(this),Mt(t,"DOMMouseScroll mousewheel",this._wheelScrollHandler)),Oo(i,{movable:h,dimensions:u,zoomSnapBack:g,animatedScroller:m,userEvents:p,pane:f,tapCapture:c,pulled:!1,enabled:!0,scrollElement:a,scrollTop:0,scrollLeft:0,fixedContainer:t.children[0]}),i._initAxis("x"),i._initAxis("y"),i._wheelEnd=function(){i._wheel=!1,i.userEvents.end(0,i._wheelY)},u.refresh(),i.options.pullToRefresh&&i._initPullToRefresh()}_initOptions(t){this.options=b({},this.options,t)}_wheelScroll(t){if(t.ctrlKey)return;this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);let e=(n=>{const t=n.originalEvent||n,e=t.wheelDeltaY;let i;return t.wheelDelta?(void 0===e||e)&&(i=t.wheelDelta):t.detail&&t.axis===t.VERTICAL_AXIS&&(i=10*-t.detail),i})(t);e&&(this._wheelY+=e,this.userEvents.move(0,this._wheelY)),t.preventDefault()}makeVirtual(){this.dimensions.y.makeVirtual()}virtualSize(t,e){this.dimensions.y.virtualSize(t,e)}height(){return this.dimensions.y.size}scrollHeight(){return this.scrollElement.scrollHeight}scrollWidth(){return this.scrollElement.scrollWidth}_resize(){this._native||this.contentResized()}setOptions(t){this._initOptions(t),t.pullToRefresh&&this._initPullToRefresh()}reset(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))}contentResized(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)}zoomOut(){let t=this.dimensions;t.refresh(),this._scale(t.fitScale),this.movable.moveTo(t.centerCoordinates())}enable(){this.enabled=!0}disable(){this.enabled=!1}scrollTo(t,e){this._native?(this.scrollElement.scrollLeft(Os(t)),this.scrollElement.scrollTop(Os(e))):(this.dimensions.refresh(),this.movable.moveTo({x:t,y:e}))}animatedScrollTo(t,e,i){let s,o;this._native?this.scrollTo(t,e):(s={x:this.movable.x,y:this.movable.y},o={x:t,y:e},this.animatedScroller.setCoordinates(s,o),this.animatedScroller.setCallback(i),this.animatedScroller.start())}pullHandled(){}destroy(){Ot(this.element,"DOMMouseScroll mousewheel",this._wheelScrollHandler),this.userEvents&&this.userEvents.destroy()}_scale(t){this.dimensions.rescale(t),this.movable.scaleTo(t)}_initPullToRefresh(){}_dragEnd(){}_paneChange(){}_initAxis(t){let e=this,i=e.movable,s=e.dimensions[t],o=e.tapCapture,r=e.pane[t],a=new KF({axis:t,movable:i,dimension:s,container:e.element,alwaysVisible:e.options.visibleScrollHints});s.bind(Lc,function(){a.refresh()}),r.bind(Lc,function(){a.show()}),e[t+"inertia"]=new YF({axis:t,paneAxis:r,movable:i,tapCapture:o,userEvents:e.userEvents,dimension:s,elastic:e.options.elastic,friction:e.options.friction||.96,velocityMultiplier:e.options.velocityMultiplier||10,end(){a.hide(),e.trigger("scrollEnd",{axis:t,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft})}})}}M(Df,{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:()=>!1,pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}}),Ic(Df,["pull","scroll","resize"]);let Qn=Math,BS=Qn.min,If=Qn.pow,FS=A,Bc="marker",Fc="location",zS="DOMMouseScroll mousewheel";const nz={bubble:fS,shape:Cf,tile:lS,[Bc]:kf};function GS(n){let t=[];if(n){let e=jy(n).split("-");for(let i=0;i<e.length;i++)t.push("k-pos-"+e[i])}return t.join(" ")}class US extends Ei{constructor(t,e={},i={},s={}){super(),this._init(t,e,i,s)}destroy(){this.scroller.destroy(),this._tooltip&&this._tooltip.destroy(),this.navigator&&this.navigator.destroy(),this.attribution&&this.attribution.destroy(),this.zoomControl&&this.zoomControl.destroy(),ut(this.markers)?this.markers.forEach(t=>{t.destroy()}):this.markers.destroy();for(let t=0;t<this.layers.length;t++)this.layers[t].destroy();Ot(this.element,zS,this._mousewheelHandler),super.destroy()}_init(t,e={},i={},s={}){this.support=Ds(),this.context=s,this.initObserver(s),this.initServices(s),this._notifyObserver("init"),this._initOptions(e),this._setEvents(e),this.crs=new XB,this._initElement(t),this._viewOrigin=this._getOrigin(),this._tooltip=this._createTooltip(),this._initScroller(),this._initMarkers(),this._initControls(),this._initLayers(),this._reset(),this._mousewheelHandler=this._mousewheel.bind(this),Mt(this.element,zS,this._mousewheelHandler)}_initOptions(t){this.options=b({},this.options,t)}_initElement(t){this.element=t,Et(t,"k-map"),t.style.position="relative",t.setAttribute("data-role","map"),ca(t);const e=Do("<div />");this.element.appendChild(e)}initServices(t={}){this.widgetService=new class JF{constructor(t,e={}){this.sender=e.sender||t,this.widget=t,this.rtl=Boolean(e.rtl)}notify(t,e){this.widget&&this.widget.trigger(t,e)}}(this,t)}initObserver(t={}){this.observers=[],this.addObserver(t.observer)}addObserver(t){t&&this.observers.push(t)}removeObserver(t){const e=this.observers.indexOf(t);e>=0&&this.observers.splice(e,1)}requiresHandlers(t){const e=this.observers;for(let i=0;i<e.length;i++)if(e[i].requiresHandlers(t))return!0}trigger(t,e={}){e.sender=this;const i=this.observers;let s=!1;for(let o=0;o<i.length;o++)i[o].trigger(t,e)&&(s=!0);return s||super.trigger(t,e),s}_notifyObserver(t,e={}){e.sender=this;const i=this.observers;let s=!1;for(let o=0;o<i.length;o++)i[o].trigger(t,e)&&(s=!0);return s}zoom(t){let i,e=this.options;if(k(t)){const s=Qn.round(J(t,e.minZoom,e.maxZoom));e.zoom!==s&&(e.zoom=s,this.widgetService.notify("zoomChange",{zoom:e.zoom}),this._reset()),i=this}else i=e.zoom;return i}center(t){let e;if(t){const i=Re.create(t),s=Re.create(this.options.center);i.equals(s)||(this.options.center=i.toArray(),this.widgetService.notify(sS,{center:this.options.center}),this._reset()),e=this}else e=Re.create(this.options.center);return e}extent(t){let e;return t?(this._setExtent(t),e=this):e=this._getExtent(),e}setOptions(t={}){const e=this.element;this.destroy(),ca(e),this._init(e,t,{},this.context),this._reset()}locationToLayer(t,e){let i=!this.options.wraparound;const s=Re.create(t);return this.crs.toPoint(s,this._layerSize(e),i)}layerToLocation(t,e){let i=!this.options.wraparound;const s=FS.create(t);return this.crs.toLocation(s,this._layerSize(e),i)}locationToView(t){const e=Re.create(t);let i=this.locationToLayer(this._viewOrigin);return this.locationToLayer(e).translateWith(i.scale(-1))}viewToLocation(t,e){const i=this.locationToLayer(this._getOrigin(),e),o=FS.create(t).clone().translateWith(i);return this.layerToLocation(o,e)}eventOffset(t){let e,i,s=ro(this.element);if(t.x&&t.x[Fc]||t.y&&t.y[Fc])e=t.x[Fc]-s.left,i=t.y[Fc]-s.top;else{let r=t.originalEvent||t;e=ie(r.pageX,r.clientX)-s.left,i=ie(r.pageY,r.clientY)-s.top}return new A(e,i)}eventToView(t){let e=this.eventOffset(t);return this.locationToView(this.viewToLocation(e))}eventToLayer(t){return this.locationToLayer(this.eventToLocation(t))}eventToLocation(t){let e=this.eventOffset(t);return this.viewToLocation(e)}viewSize(){let t=this.element,e=this._layerSize(),i=t.clientWidth;return this.options.wraparound||(i=BS(e,i)),{width:i,height:BS(e,t.clientHeight)}}exportVisual(){return this._reset(),!1}hideTooltip(){this._tooltip&&this._tooltip.hide()}_setOrigin(t,e){let s,i=this.viewSize();const o=this._origin=Re.create(t);return s=this.locationToLayer(o,e),s.x+=i.width/2,s.y+=i.height/2,this.options.center=this.layerToLocation(s,e).toArray(),this.widgetService.notify(sS,{center:this.options.center}),this}_getOrigin(t){let i,e=this.viewSize();return(t||!this._origin)&&(i=this.locationToLayer(this.center()),i.x-=e.width/2,i.y-=e.height/2,this._origin=this.layerToLocation(i)),this._origin}_setExtent(t){let e=vn.create(t),i=e.se.clone();this.options.wraparound&&i.lng<0&&t.nw.lng>0&&(i.lng=180+(180+i.lng));const s=new vn(e.nw,i);this.center(s.center());let a,o=this.element.clientWidth,r=this.element.clientHeight;for(a=this.options.maxZoom;a>=this.options.minZoom;a--){let c=this.locationToLayer(s.nw,a),h=this.locationToLayer(s.se,a),u=Qn.abs(h.x-c.x),d=Qn.abs(h.y-c.y);if(u<=o&&d<=r)break}this.zoom(a)}_getExtent(){let t=this._getOrigin(),e=this.locationToLayer(t),i=this.viewSize();e.x+=i.width,e.y+=i.height;let s=this.layerToLocation(e);return new vn(t,s)}_zoomAround(t,e){this._setOrigin(this.layerToLocation(t,e),e),this.zoom(e)}_initControls(){let t=this.options.controls;t.attribution&&this._createAttribution(t.attribution),this.support.mobileOS||(t.navigator&&this._createNavigator(t.navigator),t.zoom&&this._createZoomControl(t.zoom))}_createControlElement(t,e){let i=t.position||e,s="."+GS(i).replace(" ","."),o=this.element.querySelector(".k-map-controls"+s)||[];if(0===o.length){let a=document.createElement("div");Et(a,"k-map-controls "+GS(i)),o=a,this.element.appendChild(o)}let r=document.createElement("div");return o.appendChild(r),r}_createAttribution(t){let e=this._createControlElement(t,"bottomRight");this.attribution=new Ky(e,t)}_createNavigator(t){let e=this._createControlElement(t,"topLeft"),i=this.navigator=new vf(e,t);this._navigatorPan=this._navigatorPan.bind(this),i.bind("pan",this._navigatorPan),this._navigatorCenter=this._navigatorCenter.bind(this),i.bind("center",this._navigatorCenter)}_navigatorPan(t){let e=this.scroller,i=e.scrollLeft+t.x,s=e.scrollTop-t.y,o=this._virtualSize,a=this.element.clientHeight;i=J(i,o.x.min,o.x.max-this.element.clientWidth),s=J(s,o.y.min,o.y.max-a),this.scroller.one("scroll",Oe(this._scrollEnd,this)),this.scroller.scrollTo(-i,-s)}_navigatorCenter(){this.center(this.options.center)}_createZoomControl(t){let e=this._createControlElement(t,"topLeft"),i=this.zoomControl=new xf(e,t);this._zoomControlChange=this._zoomControlChange.bind(this),i.bind("change",this._zoomControlChange)}_zoomControlChange(t){this.trigger("zoomStart",{originalEvent:t})||(this.zoom(this.zoom()+t.delta),this.trigger("zoomEnd",{originalEvent:t}))}_initScroller(){let i=this.scroller=new Df(this.element.children[0],{friction:this.support.mobileOS?.93:.9,velocityMultiplier:5,zoom:!1!==this.options.zoomable,mousewheelScrolling:!1,supportDoubleTap:!0});i.bind("scroll",Oe(this._scroll,this)),i.bind("scrollEnd",Oe(this._scrollEnd,this)),i.userEvents.bind("gesturestart",Oe(this._scaleStart,this)),i.userEvents.bind("gestureend",Oe(this._scale,this)),i.userEvents.bind("doubleTap",Oe(this._doubleTap,this)),i.userEvents.bind("tap",Oe(this._tap,this)),this.scrollElement=i.scrollElement}_initLayers(){let t=this.options.layers,e=this.layers=[];for(let i=0;i<t.length;i++){const o=this._createLayer(t[i]);e.push(o)}}_createLayer(t){let e=t.type||"shape",s=b({},e===Bc?this.options.markerDefaults:this.options.layerDefaults[e],t),r=new(0,nz[e])(this,s);return e===Bc&&(this.markers=r),r}_createTooltip(){return new oS(this.widgetService,this.options.tooltip)}_initMarkers(){(this.options.layers||[]).filter(e=>e&&e.type===Bc).length>0||(this.markers=new kf(this,this.options.markerDefaults),this.markers.add(this.options.markers))}_scroll(t){let e=this.locationToLayer(this._viewOrigin).round(),i=t.sender.movable,s=new A(i.x,i.y).scale(-1).scale(1/i.scale);e.x+=s.x,e.y+=s.y,this._scrollOffset=s,this._tooltip.offset=s,this.hideTooltip(),this._setOrigin(this.layerToLocation(e)),this.trigger("pan",{originalEvent:t,origin:this._getOrigin(),center:this.center()})}_scrollEnd(t){!this._scrollOffset||!this._panComplete()||(this._scrollOffset=null,this._panEndTimestamp=_n(),this.trigger("panEnd",{originalEvent:t,origin:this._getOrigin(),center:this.center()}))}_panComplete(){return _n()-(this._panEndTimestamp||0)>50}_scaleStart(t){if(this.trigger("zoomStart",{originalEvent:t})){let e=t.touches[1];e&&e.cancel()}}_scale(t){let i=this._scaleToZoom(this.scroller.movable.scale),s=new A(t.center.x,t.center.y),o=this.viewToLocation(s,i),a=this.locationToLayer(o,i).translate(-s.x,-s.y);this._zoomAround(a,i),this.trigger("zoomEnd",{originalEvent:t})}_scaleToZoom(t){let i=this._layerSize()*t/this.options.minSize,s=Qn.log(i)/Qn.log(2);return Qn.round(s)}_reset(){this.attribution&&this.attribution.filter(this.center(),this.zoom()),this._viewOrigin=this._getOrigin(!0),this._resetScroller(),this.hideTooltip(),this.trigger("beforeReset"),this.trigger("reset")}_resetScroller(){let t=this.scroller,e=t.dimensions.x,i=t.dimensions.y,s=this._layerSize(),o=this.extent().nw,r=this.locationToLayer(o).round();t.movable.round=!0,t.reset(),t.userEvents.cancel();let a=this.zoom();t.dimensions.forcedMinScale=If(2,this.options.minZoom-a),t.dimensions.maxScale=If(2,this.options.maxZoom-a);let c={min:-r.x,max:s-r.x},h={min:-r.y,max:s-r.y};if(this.options.wraparound&&(c.max=20*s,c.min=-c.max),!1===this.options.pannable){let u=this.viewSize();c.min=h.min=0,c.max=u.width,h.max=u.height}e.makeVirtual(),i.makeVirtual(),e.virtualSize(c.min,c.max),i.virtualSize(h.min,h.max),this._virtualSize={x:c,y:h}}_renderLayers(){}_layerSize(t){const e=ie(t,this.options.zoom);return this.options.minSize*If(2,e)}_tap(t){if(!this._panComplete())return;let e=this.eventOffset(t);this.hideTooltip(),this.trigger("click",{originalEvent:t,location:this.viewToLocation(e)})}_doubleTap(t){if(!1!==this.options.zoomable&&!this.trigger("zoomStart",{originalEvent:t})){let i=this.zoom()+1,s=this.eventOffset(t),o=this.viewToLocation(s),a=this.locationToLayer(o,i).translate(-s.x,-s.y);this._zoomAround(a,i),this.trigger("zoomEnd",{originalEvent:t})}}_mousewheel(t){t.preventDefault();let e=rd(t)>0?-1:1,i=this.options,s=this.zoom(),o=J(s+e,i.minZoom,i.maxZoom);if(!1!==i.zoomable&&o!==s&&!this.trigger("zoomStart",{originalEvent:t})){let r=this.eventOffset(t),a=this.viewToLocation(r),h=this.locationToLayer(a,o).translate(-r.x,-r.y);this._zoomAround(h,o),this.trigger("zoomEnd",{originalEvent:t})}}_toDocumentCoordinates(t){const e=ro(this.element);return{left:N(t.x+e.left),top:N(t.y+e.top)}}}M(US,{name:"Map",controls:{attribution:!0,navigator:{panStep:100},zoom:!0},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}},bubble:{style:{fill:{color:"#fff",opacity:.5},stroke:{color:"#aaa",width:.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:!0,renderPointsAsMarkers:!1}),Ic(US,["beforeReset","click","markerActivate","markerClick","markerCreated","markerMouseEnter","markerMouseLeave","pan","panEnd","reset","shapeClick","shapeCreated","shapeFeatureCreated","shapeMouseEnter","shapeMouseLeave","zoomEnd","zoomStart"]);const Sz=["surface"];function tw(n){return"object"==typeof n}function iw(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!0;for(let e in n)if("value"!==e&&n.hasOwnProperty(e)){const i=n[e],s=t[e];if(tw(i)&&tw(s)?iw(i,s):i!==s)return!0}}let Ce=(()=>{class n{constructor(){this.options={}}copyChanges(e,i){for(let s in i)i.hasOwnProperty(s)&&this.set((e?e+".":"")+s,i[s].currentValue)}read(){return this.hasChanges=!1,this.valueChange=!1,this.options}readValues(){return this.valueChange=!1,[].concat(this.options.pointer).map(i=>i.value)}readValue(){return this.valueChange=!1,this.options.value}set(e,i){const{key:s,options:o}=this.optionContext(e);this.hasChanges||"value"!==s&&("pointer"!==s||function Tz(n,t){if(!n||!t||(n=[].concat(n),t=[].concat(t),n.length!==t.length))return!0;for(let e=0;e<n.length;e++)if(iw(n[e],t[e]))return!0}(this.options.pointer,i))?(this.hasChanges=!0,this.valueChange=!1):this.valueChange=!0,o[s]=i}optionContext(e){const i=e.split(".");let s=this.options,o=i.shift();for(;i.length>0;)s=s[o]=s[o]||{},o=i.shift();return{key:o,options:s}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),pa=(()=>{class n{read(){return this.options||this.load(),this.options}load(){if(typeof document>"u")return void(this.options={});const e=document.createElement("div");e.style.display="none",e.innerHTML='\n    <div class="k-var--gauge-pointer"></div>\n    <div class="k-var--gauge-track"></div>\n    <div class="k-var--normal-text-color"></div>\n',document.body.appendChild(e);try{const i=this.getColor(e,"gauge-pointer"),s=this.getColor(e,"gauge-track"),o=this.getColor(e,"normal-text-color");this.options={pointer:{color:i},scale:{labels:{color:o},rangePlaceholderColor:s,minorTicks:{color:o},majorTicks:{color:o},line:{color:o}}}}finally{document.body.removeChild(e)}}getColor(e,i){return window.getComputedStyle(e.querySelector(`.k-var--${i}`)).backgroundColor}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Gc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[pa],imports:[Ko]}),n})();const Dz={name:"@progress/kendo-angular-gauges",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1668698832,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"};let Rf=(()=>{class n{constructor(e,i,s,o,r,a,c){this.configurationService=e,this.themeService=i,this.intlService=s,this.localizationService=o,this.element=r,this.renderer=a,this.ngZone=c,this.resizeRateLimit=10,this.className=!0,this.theme=null,this.rtl=!1,bt(Dz)}ngOnInit(){this.setDirection(),this.subscriptions=this.intlService.changes.subscribe(this.intlChange.bind(this)),this.subscriptions.add(this.localizationService.changes.subscribe(this.rtlChange.bind(this)))}ngAfterViewChecked(){if(typeof document>"u")return;let e;this.instance?this.configurationService.hasChanges?e=this.updateOptions:this.configurationService.valueChange&&(e=this.setValues):e=this.init,e&&(clearTimeout(this.redrawTimeout),this.instance||(n=>{let t=this.element.nativeElement;for(;t&&t!==document.body;)t=t.parentNode;return Boolean(t)})()?this.updateCall(e):this.defer(()=>{this.updateCall(e)}))}updateCall(e){this.updateDirection(),e.call(this),this.updateSize()}updateOptions(){this.instance.setOptions(this.configurationService.read())}setValues(){this.instance.allValues(this.configurationService.readValues())}ngOnChanges(e){this.configurationService.copyChanges("",e)}ngOnDestroy(){this.instance&&this.instance.destroy(),this.subscriptions.unsubscribe(),clearTimeout(this.redrawTimeout)}exportImage(e={}){return this.exportVisual().then(i=>Rm(i,e))}exportSVG(e={}){return this.exportVisual().then(i=>Zm(i,e))}exportVisual(){return Promise.resolve(this.instance.exportVisual())}onResize(e){this.autoResize&&this.resize()}resize(){this.instance&&this.instance.resize()}init(){!this.surfaceElement||this.createInstance(this.surfaceElement.nativeElement,this.configurationService.read(),this.themeService.read(),{intlService:this.intlService,rtl:this.rtl})}get autoResize(){return this.resizeRateLimit>0}updateSize(){this.resizeSensor.acceptSize()}intlChange(){this.instance&&this.deferredRedraw()}rtlChange(){this.instance&&this.rtl!==this.isRTL&&this.deferredRedraw()}deferredRedraw(){this.defer(()=>{this.updateDirection(),this.instance.noTransitionsRedraw()})}defer(e){this.ngZone.runOutsideAngular(()=>{clearTimeout(this.redrawTimeout),this.redrawTimeout=setTimeout(e,0)})}updateDirection(){const e=this.isRTL;this.rtl!==e&&(this.setDirection(),this.instance&&this.instance.setDirection(e))}setDirection(){this.rtl=this.isRTL,this.element&&this.renderer.setAttribute(this.element.nativeElement,"dir",this.rtl?"rtl":"ltr")}get isRTL(){return Boolean(this.localizationService.rtl)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ce),l.Y36(pa),l.Y36(Nn),l.Y36(Y),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,viewQuery:function(e,i){if(1&e&&(l.Gf(Sz,7),l.Gf(Vi,7)),2&e){let s;l.iGM(s=l.CRH())&&(i.surfaceElement=s.first),l.iGM(s=l.CRH())&&(i.resizeSensor=s.first)}},hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("k-gauge",i.className)},inputs:{gaugeArea:"gaugeArea",renderAs:"renderAs",resizeRateLimit:"resizeRateLimit",scale:"scale",transitions:"transitions"},features:[l.TTD]}),n})(),Oz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Gc,L.ez]]}),n})(),Fz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Gc]]}),n})(),fw=(()=>{class n extends Rf{constructor(e,i,s,o,r,a,c){super(e,i,s,o,r,a,c)}createInstance(e,i,s,o){this.instance=new ny(e,i,s,o)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ce),l.Y36(pa),l.Y36(Nn),l.Y36(Y),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["kendo-radialgauge"]],inputs:{pointer:"pointer",scale:"scale"},exportAs:["kendoRadialGauge"],features:[l._Bn([Ce,Y,{provide:Ne,useValue:"kendo.radialgauge"}]),l.qOj],decls:3,vars:1,consts:[[1,"k-chart-surface"],["surface",""],[3,"rateLimit","resize"]],template:function(e,i){1&e&&(l._UZ(0,"div",0,1),l.TgZ(2,"kendo-resize-sensor",2),l.NdJ("resize",function(o){return i.onResize(o)}),l.qZA()),2&e&&(l.xp6(2),l.Q6J("rateLimit",i.resizeRateLimit))},dependencies:[Vi],encapsulation:2,changeDetection:0}),n})(),Hz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Gc]]}),n})(),Vz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Gc,L.ez]]}),n})(),jz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Oz,Vz,Fz,Hz]}),n})();const Wz=function(n){return{value:n}},Zz=function(){return{max:100}};let $z=(()=>{class n{constructor(e){this.thService=e,this.name="T0",this.value=0}onSend(){this.thService.getThermometerData(this.name).subscribe({next:e=>{this.value=e.ok?e.data.value:0},error:e=>console.error(e)})}onValueChange(e){e.target.checked?this.timer=setInterval(()=>this.onSend(),4e3):(clearInterval(this.timer),this.value=0)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(nE))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mmj-gauge"]],inputs:{name:"name"},decls:10,vars:10,consts:[[1,"card-gauge"],[1,"form-check","form-switch"],["type","checkbox",1,"form-check-input",3,"change"],[2,"text-align","center","color","black","font-size","1.2rem"],[2,"height","200px"],[3,"pointer","scale"],[2,"text-align","center","color","black"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"input",2),l.NdJ("change",function(o){return i.onValueChange(o)}),l.qZA()(),l.TgZ(3,"p",3),l._uU(4),l.qZA(),l.TgZ(5,"div",4),l._UZ(6,"kendo-radialgauge",5),l.qZA(),l.TgZ(7,"p",6),l._uU(8),l.ALo(9,"number"),l.qZA()()),2&e&&(l.xp6(4),l.Oqu(i.name),l.xp6(2),l.Q6J("pointer",l.VKq(7,Wz,i.value))("scale",l.DdM(9,Zz)),l.xp6(2),l.Oqu(l.xi3(9,4,i.value,"1.2")))},dependencies:[fw,L.JJ],styles:[".card-gauge[_ngcontent-%COMP%]{background-color:var(--color-white);padding:1rem}"]}),n})();const Yz=[{path:"",component:J1,children:[{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"dashboard",component:eE},{path:"devices",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mmj-devices"]],decls:25,vars:8,consts:[[1,"row","mt-3"],[1,"col-lg-3","col-sm-6"],[1,"card-home"],[3,"name"],[1,"bg-white"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l._UZ(3,"mmj-switch-round",3),l.qZA()(),l.TgZ(4,"div",1)(5,"div",2),l._UZ(6,"mmj-switch-square",3),l.qZA()(),l.TgZ(7,"div",1)(8,"div",2),l._UZ(9,"mmj-switch-square",3),l.qZA()(),l.TgZ(10,"div",1)(11,"div",2),l._UZ(12,"mmj-switch-round",3),l.qZA()(),l.TgZ(13,"div",1)(14,"div",2),l._UZ(15,"mmj-switch-round",3),l.qZA()(),l.TgZ(16,"div",1)(17,"div",4),l._UZ(18,"mmj-gauge",3),l.qZA()(),l.TgZ(19,"div",1)(20,"div",4),l._UZ(21,"mmj-gauge",3),l.qZA()(),l.TgZ(22,"div",1)(23,"div",4),l._UZ(24,"mmj-gauge",3),l.qZA()()()),2&e&&(l.xp6(3),l.Q6J("name","S1"),l.xp6(3),l.Q6J("name","S2"),l.xp6(3),l.Q6J("name","S3"),l.xp6(3),l.Q6J("name","S4"),l.xp6(3),l.Q6J("name","S5"),l.xp6(3),l.Q6J("name","T1"),l.xp6(3),l.Q6J("name","T2"),l.xp6(3),l.Q6J("name","T3"))},dependencies:[tE,iE,$z]}),n})()},{path:"subscriptions",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mmj-subscriptions"]],decls:2,vars:0,consts:[[1,"mt-3"]],template:function(e,i){1&e&&(l.TgZ(0,"p",0),l._uU(1,"Subscriptions"),l.qZA())}}),n})()},{path:"topics",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mmj-topics"]],decls:2,vars:0,consts:[[1,"mt-3"]],template:function(e,i){1&e&&(l.TgZ(0,"p",0),l._uU(1,"Topics"),l.qZA())}}),n})()},{path:"logs",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mmj-logs"]],decls:2,vars:0,consts:[[1,"mt-3"]],template:function(e,i){1&e&&(l.TgZ(0,"p",0),l._uU(1,"Logs"),l.qZA())}}),n})()},{path:"settings",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mmj-settings"]],decls:2,vars:0,consts:[[1,"mt-3"]],template:function(e,i){1&e&&(l.TgZ(0,"p",0),l._uU(1,"Settings"),l.qZA())}}),n})()}]}];let qz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Fs.Bz.forChild(Yz),Fs.Bz]}),n})();ne(433);var Hc=ne(7579),oi=ne(5698),Xz=(ne(4351),ne(8675),ne(5032));const bw=()=>typeof window<"u",Bf={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)(\.(\d+(\.\d+)?))?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},nG={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},Ff={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},sG={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},yw=(n,t,e)=>{for(let i in t)if(t.hasOwnProperty(i)&&t[i].test(n))return i;return void 0!==e?e:n},Sw=n=>{let t,e=[];for(let i in Bf)if(Bf.hasOwnProperty(i)){if(e=n.match(Bf[i]),!e)continue;if("windows"===i&&"plugins"in window.navigator)return null;const s={};return s.device=i,s.browser=yw(n,sG,"default"),s.name=yw(i,nG),s[s.name]=!0,s.majorVersion=e[2],s.minorVersion=e[3]?e[3].replace("_","."):".0",t=s.minorVersion.replace(".","").substr(0,2),s.flatVersion=s.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),s.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,s.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||s.cordova,s}return null},ww=n=>{let t=null,e=[];for(let i in Ff)if(Ff.hasOwnProperty(i)&&(e=n.match(Ff[i]),e)){t={},t[i]=!0,t[e[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||e[2],10);break}return t},Vc=bw()&&window.navigator?window.navigator.userAgent:null,jc=Vc?ww(Vc):null;(Vc&&Sw(Vc),bw()&&window,jc&&!jc.chrome&&window,jc&&!jc.chrome&&window,{}).undefined=n=>n;function Aw(n){return n.ownerDocument||n.document||n}const zf=n=>Aw(n).defaultView,Wc=n=>Aw(n).documentElement;let Gf=0;function Zc(n){const t=zf(n),e=Wc(n),i={height:t.innerHeight,width:t.innerWidth};return e.scrollHeight-e.clientHeight>0&&(i.width-=function cG(){if(!Gf&&typeof document<"u"){const n=document.createElement("div");n.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",n.innerHTML="&nbsp;",document.body.appendChild(n),Gf=n.offsetWidth-n.scrollWidth,document.body.removeChild(n)}return Gf}()),i}const ki=n=>{let t=n.getBoundingClientRect(),{left:e,top:i}=t;return!t.height&&!t.width&&(t=(n=>{const{display:t,left:e,position:i}=n.style;n.style.display="",n.style.left="-10000px",n.style.position="absolute";const s=n.getBoundingClientRect();return n.style.display=t,n.style.left=e,n.style.position=i,s})(n)),{top:i,left:e,height:t.height,width:t.width}},Uf=(n,t)=>{const e=[];let i=n.parentNode;for(;i&&(e.push(i),i!==t);)i=i.parentNode;return e};function $c(n){const t=Wc(n),e=zf(n);return{x:e.pageXOffset||t.scrollLeft||0,y:e.pageYOffset||t.scrollTop||0}}const Mw=n=>n===(n.ownerDocument||{}).body?$c(n):{x:n.scrollLeft,y:n.scrollTop},Hf=n=>{let t=n.offsetParent;for(;t&&"static"===t.style.position;)t=t.offsetParent;return t||Wc(n)},Vf=(n,t,e=1)=>{const i=t?Hf(t):null,{top:s,left:o,height:r,width:a}=((n,t)=>{const e=zf(n),i=e.getComputedStyle(n),s=ki(n),o=t||Hf(n),r=n.ownerDocument;let c={top:0,left:0};if("fixed"!==i.position&&o!==r.body&&o!==r.documentElement){const h=e.getComputedStyle(o);c=ki(o),c.top+=parseInt(h.borderTopWidth,10),c.left+=parseInt(h.borderLeftWidth,10)}return{top:s.top-c.top,left:s.left-c.left,height:s.height,width:s.width}})(n,i),{x:c,y:h}=((n,t)=>n?Mw(n):function uG(n){const t=Hf(n);return t?Mw(t):{x:0,y:0}}(t))(i,n),u=n.ownerDocument,d=i===u.body||i===u.documentElement?1:e;return{top:s+h*d,left:o+c*d,height:r,width:a}};const Iw=function(n,t,e){let i=0;return n+t>e&&(i=e-(n+t)),n<0&&(i=-n),i},Ow=function({offset:n,size:t,anchorSize:e,viewPortSize:i,anchorAlignPoint:s,elementAlignPoint:o,margin:r}){let a=0;const u=2*r;if(o!==s&&"center"!==o&&"middle"!==o&&"center"!==s&&"middle"!==s){const d="top"===s||"left"===s;n<0&&d?(a=t+e+u,n+a+t>i&&(a=0)):n>=0&&!d&&(n+t>i&&(a+=-(e+t+u)),n+a<0&&(a=0))}return a},fG=n=>{const t=[];let e=n.parentNode.firstElementChild;for(;e;)e!==n&&t.push(e),e=e.nextElementSibling;return t};!function vG(n){let t,e=!1}(n=>{if(!Pw())return!1;const t=n?n.ownerDocument:document;if(!t||!t.body)return!1;const i=t.createElement("div");i.style.transform="matrix(10, 0, 0, 10, 0, 0)",i.innerHTML='<div style="position: fixed; top: 10px;">child</div>',t.body.appendChild(i);const s=10!==i.children[0].getBoundingClientRect().top;return t.body.removeChild(i),s});const Pw=()=>Boolean(typeof window<"u"&&window.document&&window.document.createElement);class jf{}function zG(n,t){return{type:7,name:n,definitions:t,options:{}}}function Ui(n,t=null){return{type:4,styles:t,timings:n}}function pt(n){return{type:6,styles:n,offset:null}}function GG(n,t,e){return{type:0,name:n,styles:t,options:e}}function zw(n){return{type:5,steps:n}}function UG(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}const HG=["container"];function VG(n,t){}const jG=["*"],Wf=(n,t)=>n||{height:0,left:t.left,top:t.top,width:0},qc=()=>typeof window<"u",$G=/auto|scroll/,KG=n=>(n=>`${n.style.overflow}${n.style.overflowX}${n.style.overflowY}`)(n)||(n=>{const t=window.getComputedStyle(n);return`${t.overflow}${t.overflowX}${t.overflowY}`})(n),Vw=1e3/60,XG=function QG(n){let t,e=!1;return(...i)=>(e||(t=n(...i),e=!0),t)}(()=>{if(!Ee()&&null!==document.body)return!1;const t=document.createElement("div");t.style.transform="matrix(10, 0, 0, 10, 0, 0)",t.innerHTML='<div style="position: fixed; top: 10px;">child</div>',document.body.appendChild(t);const e=10!==t.children[0].getBoundingClientRect().top;return document.body.removeChild(t),e}),xa=(n,t)=>n&&1!==t?{height:n.height/t,left:n.left/t,top:n.top/t,width:n.width/t}:n,jw=new l.OlP("Popup Document Scale"),tU=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];let No=(()=>{class n{addOffset(e,i){return{left:e.left+i.left,top:e.top+i.top}}addScroll(e,i){return function kw(n,t){return{top:n.top+t.y,left:n.left+t.x,height:n.height,width:n.width}}(e,i)}align(e){return(n=>{const{anchorRect:t,anchorAlign:e,elementRect:i,elementAlign:s,margin:o={}}=n,r=e.horizontal,a=e.vertical,c=s.horizontal,h=s.vertical;let u=o.horizontal||0,d=o.vertical||0,p=t.top,f=t.left;return"bottom"===a&&(p+=t.height),("center"===a||"middle"===a)&&(p+=Math.round(t.height/2)),"bottom"===h&&(p-=i.height,d*=-1),("center"===h||"middle"===h)&&(p-=Math.round(i.height/2),d*=-1),"right"===r&&(f+=t.width),("center"===r||"middle"===r)&&(f+=Math.round(t.width/2)),"right"===c&&(f-=i.width,u*=-1),("center"===c||"middle"===c)&&(f-=Math.round(i.width/2),u*=-1),{top:p+d,left:f+u}})(e)}boundingOffset(e){return(n=>{if(!n.getBoundingClientRect){const o=Zc(n);return{bottom:o.height,left:0,right:o.width,top:0}}const{bottom:t,left:e,right:i,top:s}=n.getBoundingClientRect();return{bottom:t,left:e,right:i,top:s}})(e)}getFontStyles(e){const i=this.getWindow();if(!i||!e)return[];const s=i.getComputedStyle(e);return tU.map(o=>({key:o,value:s[o]}))}getWindow(){return qc()?window:null}hasOffsetParent(e){return!!e&&!!this.nativeElement(e).offsetParent}offset(e){return e?ki(e):null}offsetAtPoint(e,i){if(!e)return null;const s=this.nativeElement(e),{left:o,top:r,transition:a}=s.style;s.style.transition="none",s.style.left=`${i.left}px`,s.style.top=`${i.top}px`;const c=ki(s);return s.style.left=o,s.style.top=r,s.style.transition=a,c}nativeElement(e){return e?e.nativeElement||e:null}position(e,i,s=1){return e&&i?Vf(e,this.nativeElement(i),s):null}removeScroll(e,i){return function Dw(n,t){return{top:n.top-t.y,left:n.left-t.x,height:n.height,width:n.width}}(e,i)}restrictToView(e){return(n=>{const{anchorRect:t,anchorAlign:e,elementRect:i,elementAlign:s,collisions:o,viewPort:r,margin:a={}}=n,{top:c,left:h,height:u,width:d}=i,{height:p,width:f}=r,g=a.horizontal||0,m=a.vertical||0;let _=0,v=0;const x="fit"===o.vertical,S="fit"===o.horizontal,T="flip"===o.vertical,D="flip"===o.horizontal;x&&(v+=Iw(c,u,p)),S&&(_+=Iw(h,d,f)),T&&(v+=Ow({margin:m,offset:c,size:u,anchorSize:t.height,viewPortSize:p,anchorAlignPoint:e.vertical,elementAlignPoint:s.vertical})),D&&(_+=Ow({margin:g,offset:h,size:d,anchorSize:t.width,viewPortSize:f,anchorAlignPoint:e.horizontal,elementAlignPoint:s.horizontal}));const I=T&&0!==v,F=D&&0!==_,O=x&&0!==v,$=S&&0!==_;return{flipped:F||I,fitted:O||$,flip:{horizontal:F,vertical:I},fit:{horizontal:$,vertical:O},offset:{left:_,top:v}}})(e)}scrollPosition(e){return $c(this.nativeElement(e))}scrollableParents(e){return(n=>{const t=[];if(!Ee()||!qc())return t;let e=n.parentElement;for(;e;)($G.test(KG(e))||e.hasAttribute("data-scrollable"))&&t.push(e),e=e.parentElement;return t.push(window),t})(e)}stackingElementOffset(e){const i=this.getRelativeContextElement(e);return i?ki(i):null}stackingElementScroll(e){const i=this.getRelativeContextElement(e);return i?{x:i.scrollLeft,y:i.scrollTop}:{x:0,y:0}}getRelativeContextElement(e){if(!e||!XG())return null;let i=this.nativeElement(e).parentElement;for(;i;){if("none"!==window.getComputedStyle(i).transform)return i;i=i.parentElement}return null}useRelativePosition(e){return!!this.getRelativeContextElement(e)}windowViewPort(e){return Zc(this.nativeElement(e))}zIndex(e,i){return((n,t)=>{if(!n||!Ee()||!qc())return null;const e=((n,t)=>{const e=Uf(n);let s,o,i=t;for(;i&&(s=fG(i),o=e.reduce((r,a)=>r.concat(s.filter(c=>c===a)),[])[0],!o);)i=i.parentElement;return o})(n,t);if(!e)return null;const i=[n].concat(Uf(n,e)).reduce((s,o)=>{const r=o.style.zIndex||window.getComputedStyle(o).zIndex,a=parseInt(r,10);return a>s?a:s},0);return i?i+1:null})(e,this.nativeElement(i))}zoomLevel(){return Ee()&&qc()&&parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2))||1}isZoomed(){return this.zoomLevel()>1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ww=(()=>{class n{constructor(e,i=1){this._dom=e,this.scale=i}alignElement(e){const{anchor:i,element:s,anchorAlign:o,elementAlign:r,margin:a,offset:c,positionMode:h}=e,u=this.scale||1,p="fixed"!==h&&this._dom.hasOffsetParent(s)?this.relativeRect(i,s,c,u):this.absoluteRect(i,s,c,u),f=xa(this._dom.offset(s.nativeElement),u);return this._dom.align({anchorAlign:o,anchorRect:p,elementAlign:r,elementRect:f,margin:a})}absoluteRect(e,i,s,o){const r=this.elementScrollPosition(e,i),a=Wf(this._dom.offset(e),s),c=2*o,h=this._dom.stackingElementScroll(i);1!==o&&h&&(h.x/=c,h.y/=c);const u=this._dom.stackingElementOffset(i);return 1!==o&&u&&(u.left/=c,u.top/=c),this._dom.removeScroll(this._dom.addScroll(((n,t)=>t?{height:n.height,left:n.left-t.left,top:n.top-t.top,width:n.width}:n)(xa(a,o),u),h),r)}elementScrollPosition(e,i){return e?{x:0,y:0}:this._dom.scrollPosition(i)}relativeRect(e,i,s,o){const r=Wf(this._dom.position(e,i,o),s);return xa(r,o)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(No),l.LFG(jw,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Zw=(()=>{class n{constructor(e,i=1){this._dom=e,this.scale=i}positionElement(e){const{anchor:i,currentLocation:s,element:o,anchorAlign:r,elementAlign:a,collisions:c,margin:h}=e,u=this._dom,d=this.scale||1,p=u.offsetAtPoint(o,s),f=xa(p,d),g=xa(u.offset(i),d),m=Wf(g,s),_=e.viewPort||u.windowViewPort(o);_.width=_.width/d,_.height=_.height/d;const v=u.restrictToView({anchorAlign:r,anchorRect:m,collisions:c,elementAlign:a,elementRect:f,margin:h,viewPort:_}),x=u.addOffset(s,v.offset);return{flip:v.flip,flipped:v.flipped,offset:x}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(No),l.LFG(jw,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),$w=(()=>{class n{constructor(e,i){this._dom=e,this._zone=i}subscribe(e){!Ee()||this._zone.runOutsideAngular(()=>{this.subscription=ci(this._dom.getWindow(),"resize").pipe(Dh(Vw)).subscribe(()=>e())})}unsubscribe(){!this.subscription||this.subscription.unsubscribe()}isUnsubscribed(){return this.subscription&&this.subscription.closed}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(No),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Yw=(()=>{class n{constructor(e,i){this._dom=e,this._zone=i}forElement(e){return this.unsubscribe(),this.element=e,this}subscribe(e){if(!e||!Ee()||!this.element)return;const i=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular(()=>{const s=i.map(r=>ci(r,"scroll").pipe(Dh(Vw)));this.subscription=(0,wn.T)(...s).subscribe(r=>{const a=r.target;(i.filter(d=>d===a).length>0||a===document||a===window)&&e(this.isVisible(this.element,a))})})}unsubscribe(){!this.subscription||this.subscription.unsubscribe()}isVisible(e,i){const s=this._dom.boundingOffset(e),o=this._dom.boundingOffset(this._dom.nativeElement(i));return!(1<o.top-s.bottom||1<s.top-o.bottom||1<s.left-o.right||1<o.left-s.right)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(No),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ba="left",Po="right",Lo="down",ya={expand:n=>{const t="up"===n||n===Lo?"scaleY":"scaleX";let s;return s=n===Lo?"top":n===ba?Po:n===Po?ba:"bottom",{start:{transform:`${t}(0)`,transformOrigin:s},end:{transform:`${t}(1)`}}},slide:n=>{const t=n===ba||n===Po?"translateX":"translateY";return{start:{transform:`${t}(${n===Po||n===Lo?-100:100}%)`},end:{transform:`${t}(0%)`}}},fade:()=>({start:{opacity:0},end:{opacity:1}}),zoom:()=>({start:{transform:"scale(0)"},end:{transform:"scale(1)"}})};let qw=(()=>{class n{constructor(e){this.animationBuilder=e,this.start=new l.vpe,this.end=new l.vpe}play(e,i,s){if(!this.flip||this.flip.horizontal!==s.horizontal||this.flip.vertical!==s.vertical){this.flip=s;const o=i.type||"slide",r=ya[o];if(r){const c=r(this.getDirection(s,i));this.playStates(e,c,i)}else if((0,l.X6Q)())throw new Error(`Unsupported animation type: "${o}". The supported types are slide, expand, fade and zoom.`)}}ngOnDestroy(){this.stopPlayer()}playStates(e,i,s){this.stopPlayer();const o=s.duration||100,r=this.animationBuilder.build([pt(i.start),Ui(`${o}ms ease-in`,pt(i.end))]),a=this.player=r.create(e);a.onDone(()=>{this.end.emit(),this.stopPlayer()}),this.start.emit(),a.play()}getDirection(e,i){let s=i.direction||Lo;return e.horizontal&&(s===ba?s=Po:s===Po&&(s=ba)),e.vertical&&(s===Lo?s="up":"up"===s&&(s=Lo)),s}stopPlayer(){this.player&&(this.player.destroy(),this.player=null)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(jf))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const sU={name:"@progress/kendo-angular-popup",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1668698035,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"},Kw={left:-1e4,top:0};let Jw=(()=>{class n{constructor(e,i,s,o,r,a,c,h,u){this.container=e,this._alignService=i,this.domService=s,this._positionService=o,this._resizeService=r,this._scrollableService=a,this.animationService=c,this._renderer=h,this._zone=u,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.copyAnchorStyles=!1,this.positionMode="fixed",this.offset=Kw,this.anchorViewportLeave=new l.vpe,this.close=new l.vpe,this.open=new l.vpe,this.positionChange=new l.vpe,this.resolvedPromise=Promise.resolve(null),this.initialCheck=!0,bt(sU),this._renderer.addClass(e.nativeElement,"k-animation-container"),this.updateFixedClass()}ngOnInit(){this.reposition=this.reposition.bind(this),this._resizeService.subscribe(this.reposition),this.animationSubscriptions=this.animationService.start.subscribe(this.onAnimationStart.bind(this)),this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this))),this._scrollableService.forElement(this.domService.nativeElement(this.anchor)||this.container.nativeElement).subscribe(this.onScroll.bind(this)),this.currentOffset=Kw,this.setZIndex(),this.copyFontStyles(),this.updateFixedClass(),this.reposition()}ngOnChanges(e){e.copyAnchorStyles&&this.copyFontStyles(),e.positionMode&&this.updateFixedClass()}ngAfterViewInit(){this.animate||this.resolvedPromise.then(()=>{this.onAnimationEnd()})}ngAfterViewChecked(){this.initialCheck?this.initialCheck=!1:this._zone.runOutsideAngular(()=>{this.unsubscribeReposition(),this.repositionSubscription=(0,Sg.D)(this.resolvedPromise).subscribe(this.reposition)})}ngOnDestroy(){this.anchorViewportLeave.complete(),this.positionChange.complete(),this.close.emit(),this.close.complete(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe(),this.animationSubscriptions.unsubscribe(),this.unsubscribeReposition()}onResize(){this.reposition()}onAnimationStart(){this._renderer.removeClass(this.container.nativeElement,"k-animation-container-shown")}onAnimationEnd(){this._renderer.addClass(this.container.nativeElement,"k-animation-container-shown"),this.open.emit(),this.open.complete()}get currentOffset(){return this._currentOffset}set currentOffset(e){this.setContainerStyle("left",`${e.left}px`),this.setContainerStyle("top",`${e.top}px`),this._currentOffset=e}setZIndex(){this.anchor&&this.setContainerStyle("z-index",String(this.domService.zIndex(this.domService.nativeElement(this.anchor),this.container)))}reposition(){if(!Ee())return;const{flip:e,offset:i}=this.position();(!this.currentOffset||((n,t)=>{const{left:e,top:i}=n,{left:s,top:o}=t;return Math.abs(e-s)>=1||Math.abs(i-o)>=1})(this.currentOffset,i))&&(this.currentOffset=i,Ai(this.positionChange)&&this._zone.run(()=>this.positionChange.emit({offset:i,flip:e}))),this.animate&&this.animationService.play(this.contentContainer.nativeElement,this.animate,e),this.resizeSensor.acceptSize()}position(){const e=this._alignService.alignElement({anchor:this.domService.nativeElement(this.anchor),anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,margin:this.margin,offset:this.offset,positionMode:this.positionMode});return this._positionService.positionElement({anchor:this.domService.nativeElement(this.anchor),anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:e,element:this.container,elementAlign:this.popupAlign,margin:this.margin})}onScroll(e){const i=Ai(this.anchorViewportLeave);e||!i?this.reposition():i&&this._zone.run(()=>{this.anchorViewportLeave.emit()})}copyFontStyles(){!this.anchor||!this.copyAnchorStyles||this.domService.getFontStyles(this.domService.nativeElement(this.anchor)).forEach(e=>this.setContainerStyle(e.key,e.value))}updateFixedClass(){this._renderer["fixed"===this.positionMode?"addClass":"removeClass"](this.container.nativeElement,"k-animation-container-fixed")}setContainerStyle(e,i){this._renderer.setStyle(this.container.nativeElement,e,i)}unsubscribeReposition(){this.repositionSubscription&&this.repositionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Ww),l.Y36(No),l.Y36(Zw),l.Y36($w),l.Y36(Yw),l.Y36(qw),l.Y36(l.Qsj),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["kendo-popup"]],viewQuery:function(e,i){if(1&e&&(l.Gf(HG,7),l.Gf(Vi,7)),2&e){let s;l.iGM(s=l.CRH())&&(i.contentContainer=s.first),l.iGM(s=l.CRH())&&(i.resizeSensor=s.first)}},inputs:{animate:"animate",anchor:"anchor",anchorAlign:"anchorAlign",collision:"collision",popupAlign:"popupAlign",copyAnchorStyles:"copyAnchorStyles",popupClass:"popupClass",positionMode:"positionMode",offset:"offset",margin:"margin"},outputs:{anchorViewportLeave:"anchorViewportLeave",close:"close",open:"open",positionChange:"positionChange"},exportAs:["kendo-popup"],features:[l._Bn([Ww,qw,No,Zw,$w,Yw]),l.TTD],ngContentSelectors:jG,decls:5,vars:4,consts:[[1,"k-popup",3,"ngClass"],["container",""],[3,"ngTemplateOutlet","ngIf"],[3,"rateLimit","resize"]],template:function(e,i){1&e&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.YNc(3,VG,0,0,"ng-template",2),l.TgZ(4,"kendo-resize-sensor",3),l.NdJ("resize",function(){return i.onResize()}),l.qZA()()),2&e&&(l.Q6J("ngClass",i.popupClass),l.xp6(3),l.Q6J("ngTemplateOutlet",i.content)("ngIf",i.content),l.xp6(1),l.Q6J("rateLimit",100))},dependencies:[Vi,L.mk,L.tP,L.O5],encapsulation:2}),n})();const lU=new l.OlP("Popup Container");let $f=(()=>{class n{constructor(e,i,s,o){this.applicationRef=e,this.componentFactoryResolver=i,this.injector=s,this.container=o}get rootViewContainer(){const e=this.applicationRef.components||[];if(e[0])return e[0];throw new Error("\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        ")}get rootViewContainerNode(){return this.container?this.container.nativeElement:this.getComponentRootNode(this.rootViewContainer)}open(e={}){const{component:i,nodes:s}=this.contentFrom(e.content),o=this.appendPopup(s,e.appendTo),r=o.instance;this.projectComponentInputs(o,e),o.changeDetectorRef.detectChanges(),i&&i.changeDetectorRef.detectChanges();const a=this.getComponentRootNode(o);return{close:()=>{i&&i.destroy(),o.destroy(),(n=>{n&&n.parentNode&&n.parentNode.removeChild(n)})(a)},content:i,popup:o,popupAnchorViewportLeave:r.anchorViewportLeave,popupClose:r.close,popupElement:a,popupOpen:r.open,popupPositionChange:r.positionChange}}appendPopup(e,i){const s=this.createComponent(Jw,e,i);return i||this.rootViewContainerNode.appendChild(this.getComponentRootNode(s)),s}getComponentRootNode(e){return e.location.nativeElement}getComponentFactory(e){return this.componentFactoryResolver.resolveComponentFactory(e)}createComponent(e,i,s){const o=this.getComponentFactory(e);if(s)return s.createComponent(o,void 0,this.injector,i);{const r=o.create(this.injector,i);return this.applicationRef.attachView(r.hostView),r}}projectComponentInputs(e,i){return Object.getOwnPropertyNames(i).filter(s=>"content"!==s||i.content instanceof l.Rgc).map(s=>{e.instance[s]=i[s]}),e}contentFrom(e){if(!e||e instanceof l.Rgc)return{component:null,nodes:[[]]};const i=this.createComponent(e);return{component:i,nodes:[i?[i.location.nativeElement]:[]]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.z2F),l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(lU,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),cU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[$f],imports:[[L.ez,Ko]]}),n})();const Sa={name:"@progress/kendo-angular-buttons",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1668698044,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"};Promise.resolve(null);const Yf={small:"sm",medium:"md",large:"lg"},Xw={small:"sm",medium:"md",large:"lg",full:"full"};let WU=(()=>{class n{constructor(){this.buttonClicked=new Hc.x,this.buttonClicked$=this.buttonClicked.asObservable()}click(e){this.buttonClicked.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Jc=(()=>{class n{constructor(e,i,s,o,r){this.renderer=i,this.service=s,this.ngZone=r,this.toggleable=!1,this.role="button",this.selectedChange=new l.vpe,this.click=new l.vpe,this.isDisabled=!1,this.isIcon=!1,this.isIconClass=!1,this._size="medium",this._rounded="medium",this._fillMode="solid",this._themeColor="base",this._focused=!1,this.subs=new rt.w0,bt(Sa),this.direction=o.rtl?"rtl":"ltr",this.subs.add(o.changes.subscribe(({rtl:a})=>this.direction=a?"rtl":"ltr")),this.element=e.nativeElement}get togglable(){return this.toggleable}set togglable(e){this.toggleable=e}get selected(){return this._selected||!1}set selected(e){this._selected=e}set tabIndex(e){this.element.tabIndex=e}get tabIndex(){return this.element.tabIndex}set icon(e){e?this.iconSetter(e,()=>{this.isIcon=!0,this.addIcon("k-button-icon k-icon k-i-"+e)}):(this.isIcon=!1,this.updateIconNode())}set iconClass(e){e?this.iconSetter(e,()=>{this.isIconClass=!0,this.addIcon("k-button-icon "+e)}):(this.isIconClass=!1,this.updateIconNode())}set imageUrl(e){e?this.iconSetter(e,this.addImgIcon.bind(this)):this.removeImageNode()}set disabled(e){e&&Ee()&&(n=>{const t=ww(n),e=Sw(n);return t&&t.mozilla||e&&"firefox"===e.browser})(navigator.userAgent)&&this.blur(),this.isDisabled=e,this.renderer.setProperty(this.element,"disabled",e)}get disabled(){return this.isDisabled}set size(e){const i=e||"medium";this.handleClasses(i,"size"),this._size=i}get size(){return this._size}set rounded(e){const i=e||"medium";this.handleClasses(i,"rounded"),this._rounded=i}get rounded(){return this._rounded}set fillMode(e){const i=e||"solid";this.handleClasses(i,"fillMode"),this._fillMode=i}get fillMode(){return this._fillMode}set themeColor(e){const i=e||"base";this.handleThemeColor(i),this._themeColor=i}get themeColor(){return this._themeColor}set isFocused(e){this.toggleClass("k-focus",e),this._focused=e}get isFocused(){return this._focused}get classButton(){return!0}get isToggleable(){return this.toggleable}get roleSetter(){return this.role}get classDisabled(){return this.isDisabled}get classActive(){return this.selected}get getDirection(){return this.direction}onFocus(){this.isFocused=!0}onBlur(){this.isFocused=!1}set primary(e){this.themeColor=e?"primary":"base"}set look(e){this.fillMode="default"===e?"solid":e}ngOnInit(){const e="SPAN"===this.element.tagName;this.addTextSpan(),!this.element.hasAttribute("role")&&this.togglable&&this.toggleAriaPressed(this.toggleable),this.role&&this.setAttribute("role",this.role),this.ngZone.runOutsideAngular(()=>{this.subs.add(this.renderer.listen(this.element,"click",this._onButtonClick.bind(this))),this.subs.add(this.renderer.listen(this.element,"keydown",i=>{e&&(i.keyCode===oe.Space||i.keyCode===oe.Enter)&&(this.click.emit(i),this._onButtonClick())}))})}ngOnChanges(e){($t("togglable",e)||$t("toggleable",e))&&this.toggleAriaPressed(this.toggleable)}ngAfterViewInit(){["size","rounded","fillMode"].forEach(i=>{this.handleClasses(this[i],i)})}ngAfterViewChecked(){this.setIconTextClasses()}ngOnDestroy(){this.imageNode=null,this.iconNode=null,this.iconSpanNode=null,this.subs.unsubscribe(),clearTimeout(this.deferTimeout)}focus(){Ee()&&(this.element.focus(),this.isFocused=!0)}blur(){Ee()&&(this.element.blur(),this.isFocused=!1)}setAttribute(e,i){this.renderer.setAttribute(this.element,e,i)}removeAttribute(e){this.renderer.removeAttribute(this.element,e)}setSelected(e){const i=this.selected!==e;this.selected=e,this.setAttribute("aria-pressed",this.selected.toString()),this.toggleClass("k-selected",this.selected),i&&Ai(this.selectedChange)&&this.ngZone.run(()=>{this.selectedChange.emit(e)})}toggleAriaPressed(e){!Ee()||(e?this.setAttribute("aria-pressed",this.selected.toString()):this.removeAttribute("aria-pressed"))}hasText(){return Ee()&&this.element.textContent.trim().length>0}addImgIcon(e){let i=this.renderer;this.iconSpanNode||(this.iconSpanNode=i.createElement("span"),i.setProperty(this.iconSpanNode,"className","k-button-icon k-icon")),this.imageNode?i.setProperty(this.imageNode,"src",e):Ee()&&(this.imageNode=i.createElement("img"),i.setProperty(this.imageNode,"src",e),i.setProperty(this.imageNode,"className","k-image"),i.setAttribute(this.imageNode,"role","presentation")),this.iconSpanNode.appendChild(this.imageNode),this.prependChild(this.iconSpanNode)}addIcon(e){let i=this.renderer;this.iconNode?i.setProperty(this.iconNode,"className",e):Ee()&&(this.iconNode=i.createElement("span"),i.setProperty(this.iconNode,"className",e),i.setAttribute(this.iconNode,"role","presentation"),this.prependChild(this.iconNode))}addTextSpan(){this.ngZone.onStable.pipe((0,oi.q)(1)).subscribe(()=>{if(Ee()&&this.hasText()){const e=this.renderer.createElement("span");this.renderer.addClass(e,"k-button-text"),Array.from(this.element.childNodes).forEach(s=>this.renderer.appendChild(e,s)),this.renderer.appendChild(this.element,e)}})}prependChild(e){this.defer(()=>{this.renderer&&e!==this.element.firstChild&&this.renderer.insertBefore(this.element,e,this.element.firstChild)})}defer(e){this.ngZone.runOutsideAngular(()=>{this.deferTimeout=setTimeout(e,0)})}iconSetter(e,i){e&&i(e),this.setIconTextClasses()}removeImageNode(){this.imageNode&&this.renderer.parentNode(this.imageNode)&&(this.renderer.removeChild(this.element,this.imageNode),this.renderer.removeChild(this.element,this.iconSpanNode),this.imageNode=null,this.iconSpanNode=null)}removeIconNode(){this.iconNode&&this.renderer.parentNode(this.iconNode)&&(this.renderer.removeChild(this.element,this.iconNode),this.iconNode=null),this.iconSpanNode&&(this.renderer.removeChild(this.element,this.iconSpanNode),this.iconSpanNode=null)}updateIconNode(){!this.isIcon&&!this.isIconClass&&this.removeIconNode()}setIconTextClasses(){this.toggleClass("k-icon-button",(this.isIcon||this.isIconClass||this.imageNode)&&!this.hasText())}toggleClass(e,i){i?this.renderer.addClass(this.element,e):this.renderer.removeClass(this.element,e)}_onButtonClick(){!this.disabled&&this.service&&this.ngZone.run(()=>{this.service.click(this)}),this.togglable&&!this.service&&this.setSelected(!this.selected)}handleClasses(e,i){const s=this.element,o=((n,t,e,i)=>{switch(t){case"size":return{toRemove:`k-${n}-${Yf[e]}`,toAdd:"none"!==i?`k-${n}-${Yf[i]}`:""};case"rounded":return{toRemove:`k-rounded-${Xw[e]}`,toAdd:"none"!==i?`k-rounded-${Xw[i]}`:""};case"fillMode":return{toRemove:`k-${n}-${e}`,toAdd:"none"!==i?`k-${n}-${i}`:""}}})("button",i,this[i],e);"fillMode"===i&&this.handleThemeColor(this.themeColor,this[i],e),o.toRemove&&this.renderer.removeClass(s,o.toRemove),o.toAdd&&this.renderer.addClass(s,o.toAdd)}handleThemeColor(e,i,s){const o=this.element,a=s||this.fillMode,c=((n,t,e,i,s)=>({toRemove:`k-${n}-${t}-${i}`,toAdd:"none"!==s?`k-${n}-${e}-${s}`:""}))("button",i||this.fillMode,a,this.themeColor,e);this.renderer.removeClass(o,c.toRemove),"none"!==a&&"none"!==s&&c.toAdd&&this.renderer.addClass(o,c.toAdd)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(WU,8),l.Y36(Y),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["button","kendoButton",""],["span","kendoButton",""]],hostVars:11,hostBindings:function(e,i){1&e&&l.NdJ("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),2&e&&(l.uIk("role",i.roleSetter)("aria-disabled",i.classDisabled)("dir",i.getDirection),l.ekj("k-button",i.classButton)("k-toggle-button",i.isToggleable)("k-disabled",i.classDisabled)("k-selected",i.classActive))},inputs:{toggleable:"toggleable",togglable:"togglable",selected:"selected",tabIndex:"tabIndex",icon:"icon",iconClass:"iconClass",imageUrl:"imageUrl",disabled:"disabled",size:"size",rounded:"rounded",fillMode:"fillMode",themeColor:"themeColor",role:"role",primary:"primary",look:"look"},outputs:{selectedChange:"selectedChange",click:"click"},exportAs:["kendoButton"],features:[l._Bn([Y,{provide:Ne,useValue:"kendo.button"}]),l.TTD]}),n})(),YU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();new l.OlP("navigation.config");var vC=ne(9646),xC=ne(3099),bC=ne(3900);function n3(n,t){1&n&&l.Hsn(0,0,["*ngIf","!actions"])}function s3(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",5),l.NdJ("click",function(s){const r=l.CHM(e).$implicit,a=l.oxw(2);return l.KtG(a.onButtonClick(r,s))}),l._uU(1),l.qZA()}if(2&n){const e=t.$implicit,i=l.oxw(2);l.Q6J("ngClass",i.buttonClass(e)),l.uIk("aria-label",e.text),l.xp6(1),l.hij(" ",e.text," ")}}function o3(n,t){if(1&n&&(l.ynx(0),l.YNc(1,s3,2,3,"button",4),l.BQk()),2&n){const e=l.oxw();l.xp6(1),l.Q6J("ngForOf",e.actionsArray)}}function r3(n,t){}const Jf=["*"],a3=["dialog"];function l3(n,t){if(1&n&&(l.TgZ(0,"kendo-dialog-titlebar",8),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.Q6J("closeTitle",e.closeTitle)("id",e.titleId),l.xp6(1),l.Oqu(e.title)}}function c3(n,t){1&n&&l.Hsn(0,0,["*ngIf","!title"])}function h3(n,t){1&n&&l.Hsn(0,1,["*ngIf","!contentTemplate"])}function u3(n,t){}function d3(n,t){if(1&n&&l.YNc(0,u3,0,0,"ng-template",9),2&n){const e=l.oxw();l.Q6J("ngTemplateOutlet",e.contentTemplate)}}function p3(n,t){1&n&&l.Hsn(0,2,["*ngIf","!actions"])}function f3(n,t){if(1&n&&l._UZ(0,"kendo-dialog-actions",10),2&n){const e=l.oxw();l.Q6J("actions",e.actions)("layout",e.actionsLayout)}}const g3=[[["kendo-dialog-titlebar"]],"*",[["kendo-dialog-actions"]]],m3=["kendo-dialog-titlebar","*","kendo-dialog-actions"];function _3(n,t){1&n&&l.Hsn(0,0,["*ngIf","!template"])}function v3(n,t){}const x3=function(n){return{$implicit:n}};function b3(n,t){if(1&n&&l.YNc(0,v3,0,0,"ng-template",1),2&n){const e=l.oxw();l.Q6J("ngTemplateOutlet",e.template)("ngTemplateOutletContext",l.VKq(2,x3,e.service))}}function y3(n,t){if(1&n&&(l.TgZ(0,"kendo-window-titlebar",5)(1,"div",6),l._uU(2),l.qZA(),l.TgZ(3,"div",7),l._UZ(4,"button",8)(5,"button",9)(6,"button",10)(7,"button",11),l.qZA()()),2&n){const e=l.oxw();l.Q6J("template",e.titleBarTemplate)("id",e.titleId),l.xp6(2),l.Oqu(e.title),l.xp6(2),l.uIk("title",e.minimizeButtonTitle)("aria-label",e.minimizeButtonTitle),l.xp6(1),l.uIk("title",e.maximizeButtonTitle)("aria-label",e.maximizeButtonTitle),l.xp6(1),l.uIk("title",e.restoreButtonTitle)("aria-label",e.restoreButtonTitle),l.xp6(1),l.uIk("title",e.closeButtonTitle)("aria-label",e.closeButtonTitle)}}function S3(n,t){1&n&&l.Hsn(0,0,["*ngIf","!showDefaultTitleBar"])}function w3(n,t){1&n&&l.Hsn(0,1,["*ngIf","!contentTemplate"])}function C3(n,t){}function E3(n,t){if(1&n&&l.YNc(0,C3,0,0,"ng-template",13),2&n){const e=l.oxw(2);l.Q6J("ngTemplateOutlet",e.contentTemplate)}}function k3(n,t){if(1&n&&(l.TgZ(0,"div",12),l.YNc(1,w3,1,0,"ng-content",2),l.YNc(2,E3,1,1,null,2),l.qZA()),2&n){const e=l.oxw();l.Q6J("hidden","minimized"===e.state&&e.keepContent),l.xp6(1),l.Q6J("ngIf",!e.contentTemplate),l.xp6(1),l.Q6J("ngIf",e.contentTemplate)}}function A3(n,t){1&n&&l._UZ(0,"div",15),2&n&&l.Q6J("direction",t.$implicit)}function T3(n,t){if(1&n&&l.YNc(0,A3,1,1,"div",14),2&n){const e=l.oxw();l.Q6J("ngForOf",e.resizeDirections)}}const M3=[[["kendo-window-titlebar"]],"*"],D3=["kendo-window-titlebar","*"],ae=n=>null!=n,yC=n=>String(n).trim().split(" "),O3=/^(?:a|input|select|textarea|button|object)$/i;var De=(()=>(function(n){n[n.esc=27]="esc",n[n.tab=9]="tab",n[n.enter=13]="enter",n[n.space=32]="space",n[n.ctrl=17]="ctrl",n[n.shift=16]="shift",n[n.left=37]="left",n[n.up=38]="up",n[n.right=39]="right",n[n.down=40]="down"}(De||(De={})),De))();const SC="k-dialog-wrapper k-dialog-buttongroup k-dialog-action",Fo=(n,t)=>{const e=yC(t);return Boolean(yC(n.className).find(i=>e.indexOf(i)>=0))},wC=(n,t=!0)=>{if(n.tagName){const e=n.tagName.toLowerCase(),i=n.getAttribute("tabIndex"),s=null!==i&&!isNaN(i)&&i>-1;let o=!1;return o=O3.test(e)?!n.disabled:s,o&&(!t||(n=>{const t=n.getBoundingClientRect();return!(!t.width||!t.height)&&"hidden"!==window.getComputedStyle(n).visibility})(n))}return!1},CC=(n,t,e)=>{for(const i in n)i&&t.setAttribute(e,i,n[i])},wa=n=>U3(n)?L3(n):Qf(n)?B3(n):Array.isArray(n)?F3(n):void 0,L3=n=>{const t=[];return Object.keys(n).forEach(e=>{const i=Xf(e);n[e]&&i[0]&&t.push(...i)}),t},B3=n=>{const t=[];return Xf(n).forEach(i=>{t.push(i)}),t},F3=n=>{const t=[];return n.forEach(e=>{const i=Xf(e);i[0]&&t.push(...i)}),t},z3=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","*[tabindex]","*[contenteditable]"].join(","),EC=({originalEvent:n})=>{n.stopPropagation(),n.preventDefault()},G3=["n","e","s","w","se","sw","ne","nw"],Ca=["top","left","width","height"],Qf=n=>n instanceof String||"string"==typeof n,U3=n=>ae(n)&&!Array.isArray(n)&&"object"==typeof n,zo=n=>n+((n=>"number"==typeof n&&isFinite(n))(n)?"px":""),Xf=n=>n.trim().replace(/\s+/g," ").split(" ");let ih=(()=>{class n{constructor(e){this.el=e,this.layout="stretched",this.action=new l.vpe,this.buttonGroupClassName=!0}set actions(e){if(e instanceof l.Rgc)this.actionsTemplate=e;else{if(!Array.isArray(e))throw new Error('"actions" must be either TemplateRef or DialogAction[] instance.');this.actionsArray=e}}get className(){return"stretched"===this.layout}onButtonClick(e,i){this.action.emit(e)}buttonClass(e){let i=["k-button k-button-md k-rounded-md"];const s=e.fillMode?e.fillMode:"solid",o=e.themeColor?e.themeColor:"base",r=e.cssClass?wa(e.cssClass):[];return i.push(`k-button-${s} k-button-${s}-${o}`),r.length>0&&(i=i.concat(r)),i.join(" ")}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["kendo-dialog-actions"]],hostVars:6,hostBindings:function(e,i){2&e&&l.ekj("k-dialog-buttongroup",i.buttonGroupClassName)("k-actions",i.buttonGroupClassName)("k-actions-stretched",i.className)},inputs:{actions:"actions",layout:"layout"},outputs:{action:"action"},ngContentSelectors:Jf,decls:4,vars:4,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet"],["actionTemplate",""],["type","button",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button",3,"ngClass","click"]],template:function(e,i){if(1&e&&(l.F$t(),l.YNc(0,n3,1,0,"ng-content",0),l.YNc(1,o3,2,1,"ng-container",1),l.YNc(2,r3,0,0,"ng-template",2,3,l.W1O)),2&e){const s=l.MAs(3);l.Q6J("ngIf",!i.actions),l.xp6(1),l.Q6J("ngIf",i.actionsArray)("ngIfElse",s),l.xp6(1),l.Q6J("ngTemplateOutlet",i.actionsTemplate)}},dependencies:[L.O5,L.sg,L.mk,L.tP],encapsulation:2}),n})();class eg{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}const kC=new l.OlP("Dialog LocalizationService");let AC=(()=>{class n extends Y{constructor(e,i,s,o){super(e,i,s),this.dialogLocalization=o}get(e){return this.dialogLocalization?this.dialogLocalization.get(e):super.get(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ne),l.LFG(js,8),l.LFG(rs,8),l.LFG(kC,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),nh=(()=>{class n extends Ba{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["kendo-dialog-messages-base"]],inputs:{closeTitle:"closeTitle",restoreTitle:"restoreTitle",maximizeTitle:"maximizeTitle",minimizeTitle:"minimizeTitle"},features:[l.qOj]}),n})(),sh=(()=>{class n extends nh{constructor(e){super(),this.service=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Y))},n.\u0275dir=l.lG2({type:n,selectors:[["","kendoDialogLocalizedMessages",""],["","kendoWindowLocalizedMessages",""],["","kendoDialogTitleBarLocalizedMessages",""]],features:[l._Bn([{provide:nh,useExisting:(0,l.Gpc)(()=>n)}]),l.qOj]}),n})(),Ea=(()=>{class n{constructor(e,i,s){this.zone=e,this.hostElement=i,this.localizationService=s,this.close=new l.vpe}get className(){return!0}get closeButtonTitle(){return this.closeTitle||this.localizationService.get("closeTitle")}ngAfterViewInit(){this.zone.onStable.pipe((0,oi.q)(1)).subscribe(()=>{this.hostElement.nativeElement.querySelector(".k-dialog-title").setAttribute("id",this.id)})}onCloseClick(e){e.preventDefault();const i=new eg;this.close.emit(i)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(Y,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["kendo-dialog-titlebar"]],hostVars:4,hostBindings:function(e,i){2&e&&l.ekj("k-window-titlebar",i.className)("k-dialog-titlebar",i.className)},inputs:{id:"id",closeTitle:"closeTitle"},outputs:{close:"close"},features:[l._Bn([AC,{provide:Y,useExisting:AC},{provide:Ne,useValue:"kendo.dialog"}])],ngContentSelectors:Jf,decls:6,vars:2,consts:function(){let t;return t=$localize`:kendo.dialog.closeTitle|The title of the close button:Close`,[["kendoDialogTitleBarLocalizedMessages","","closeTitle",t],[1,"k-window-title","k-dialog-title"],[1,"k-window-actions","k-dialog-actions"],["role","button",1,"k-button","k-button-md","k-rounded-md","k-button-flat","k-button-flat-base","k-icon-button","k-window-action","k-dialog-action",3,"click"],[1,"k-button-icon","k-icon","k-i-x"]]},template:function(e,i){1&e&&(l.F$t(),l.ynx(0,0),l.TgZ(1,"div",1),l.Hsn(2),l.qZA(),l.TgZ(3,"div",2)(4,"button",3),l.NdJ("click",function(o){return i.onCloseClick(o)}),l._UZ(5,"span",4),l.qZA()(),l.BQk()),2&e&&(l.xp6(4),l.uIk("title",i.closeButtonTitle)("aria-label",i.closeButtonTitle))},dependencies:[sh],encapsulation:2}),n})();const TC={name:"@progress/kendo-angular-dialog",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1668698060,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"};class oh{}const $3={duration:300,type:"translate"};let MC=(()=>{class n{constructor(e,i,s,o,r,a){this.wrapper=e,this.renderer=i,this.cdr=o,this.ngZone=r,this.builder=a,this.actionsLayout="stretched",this.animation=!0,this.titleId=null,this.contentId=null,this.action=new l.vpe,this.close=new l.vpe,this.tabIndex=0,this.subscriptions=[],this.domSubs=new rt.w0,bt(TC),this.direction=s.rtl?"rtl":"ltr",this.subscriptions.push(s.changes.subscribe(({rtl:c})=>this.direction=c?"rtl":"ltr")),this.titleId=this.generateTitleId(),this.contentId=this.generateContentId()}set htmlAttributes(e){CC(e,this.renderer,this.wrapper.nativeElement);const i=this.wrapper.nativeElement,s=i.getAttribute("dir"),o=i.getAttribute("tabindex");this.direction!==s&&s&&(this.direction=s),this.tabIndex!==o&&o&&(this.tabIndex=o),this._htmlAttributes=e}get htmlAttributes(){return this._htmlAttributes}set cssClass(e){this.setServiceClasses(this._cssClass,e),this._cssClass=e}get cssClass(){return this._cssClass}get dir(){return this.direction}ngAfterContentInit(){this.bubble("close",this.titlebarContent.first),this.renderer.setAttribute(this.wrapper.nativeElement.querySelector(".k-dialog"),"aria-describedby",this.contentId),this.titlebarContent.first?this.titlebarContent.first.id=this.titleId:this.subscriptions.push(this.titlebarContent.changes.subscribe(()=>{ae(this.titlebarContent.first)&&(this.titlebarContent.first.id=this.titleId,this.ngZone.onStable.pipe((0,oi.q)(1)).subscribe(()=>{this.bubble("close",this.titlebarContent.first),this.renderer.setAttribute(this.wrapper.nativeElement.querySelector(".k-dialog"),"aria-labelledby",this.titleId)}))}))}ngAfterViewInit(){this.handleInitialFocus(),this.bubble("close",this.titlebarView.first),this.bubble("action",this.actionsView),this.titlebarView.first||this.titlebarContent.first?this.renderer.setAttribute(this.wrapper.nativeElement.querySelector(".k-dialog"),"aria-labelledby",this.titleId):this.subscriptions.push(this.titlebarView.changes.subscribe(()=>{ae(this.titlebarView.first)&&(this.titlebarView.first.id=this.titleId,this.ngZone.onStable.pipe((0,oi.q)(1)).subscribe(()=>{this.bubble("close",this.titlebarView.first),this.renderer.setAttribute(this.wrapper.nativeElement.querySelector(".k-dialog"),"aria-labelledby",this.titleId)}))})),this.initDomEvents()}ngOnInit(){this.animation&&((n,t,e,i)=>{let s=t;"boolean"!=typeof n&&(s=n,s.duration=s.duration?s.duration:t.duration);const o=function j3(n,t,e){switch(e){case"slide":const i="left"===t||"right"===t?"translateX":"translateY",o=0;return[pt({transform:`${i}(${"right"===t||"down"===t?-100:100}%)`}),Ui(`${n}ms ease-in`,pt({transform:`${i}(${o}%)`}))];case"expand":const r="up"===t||"down"===t?"scaleY":"scaleX",c=1;let h;return h="down"===t?"top":"left"===t?"right":"right"===t?"left":"bottom",[pt({transform:`${r}(0)`,transformOrigin:h}),Ui(`${n}ms ease-in`,pt({transform:`${r}(${c})`}))];case"zoom":const d=1;return[Ui(n,zw([pt({transform:"scale(0)"}),pt({transform:`scale(${d})`})]))];case"fade":const f=1;return[Ui(n,zw([pt({opacity:"0"}),pt({opacity:`${f}`})]))];default:return[pt({transform:"translate(0, -10%)"}),Ui(`${n}ms cubic-bezier(.2, 1, .2, 1)`)]}}(s.duration,s.direction,s.type);((n,t,e)=>{let s=n.build(t).create(e);return s.onDone(()=>{s&&(s.destroy(),s=null)}),s})(i,o,e).play()})(this.animation,$3,this.dialog.nativeElement,this.builder),this.renderer.removeAttribute(this.wrapper.nativeElement,"title"),this.cdr.detectChanges()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.subscriptions=[],this.domSubs&&this.domSubs.unsubscribe()}focus(){const e=this.wrapper.nativeElement;ae(e)&&e.focus()}initDomEvents(){!this.wrapper||this.ngZone.runOutsideAngular(()=>{this.domSubs.add(this.renderer.listen(this.wrapper.nativeElement,"keydown",e=>{this.onKeyDown(e)}))})}onKeyDown(e){const i=e.target,s=i.parentElement;(Fo(i,SC)||Fo(s,SC))&&e.keyCode===De.esc&&this.ngZone.run(()=>{this.close.emit(new oh)}),Fo(i,"k-button")&&Fo(s,"k-dialog-buttongroup")&&(e.keyCode===De.left||e.keyCode===De.right)&&this.ngZone.run(()=>{this.handleActionButtonFocus(s,e.keyCode)}),e.keyCode===De.tab&&this.ngZone.run(()=>{this.keepFocusWithinComponent(i,e)})}setServiceClasses(e,i){const s=this.wrapper.nativeElement;e&&wa(e).forEach(o=>{this.renderer.removeClass(s,o)}),i&&wa(i).forEach(o=>{this.renderer.addClass(s,o)})}handleInitialFocus(){const e=this.wrapper.nativeElement,i=this.findPrimary(e);if(this.autoFocusedElement){const s=e.querySelector(this.autoFocusedElement);s&&s.focus()}else this.shouldFocusPrimary(i)?i.focus():e.focus()}findPrimary(e){return(n=>{for(let t=n.length-1;t>=0;t--){const e=n[t].classList;for(let i=0;i<e.length;i++)if(e[i].endsWith("-primary"))return n[t]}})(e.querySelectorAll(".k-actions .k-button"))}handleActionButtonFocus(e,i){const s=this.getAllFocusableChildren(e);for(let o=0;o<s.length;o++)if(s[o]===document.activeElement){if(i===De.left&&o>0){s[o-1].focus();break}if(i===De.right&&o<s.length-1){s[o+1].focus();break}}}keepFocusWithinComponent(e,i){const s=this.wrapper.nativeElement,[o,r]=this.getFirstAndLastFocusable(s),c=i.shiftKey&&e===o;!i.shiftKey&&e===r&&(i.preventDefault(),o.focus()),c&&(i.preventDefault(),r.focus())}shouldFocusPrimary(e){return ae(e)&&wC(e)}getAllFocusableChildren(e){return e.querySelectorAll(z3)}getFirstAndLastFocusable(e){const i=this.getAllFocusableChildren(e);return[i.length>0?i[0]:e,i.length>0?i[i.length-1]:e]}generateTitleId(){return"kendo-dialog-title-"+Math.ceil(1e6*Math.random()).toString()}generateContentId(){return"kendo-dialog-content-"+Math.ceil(1e6*Math.random()).toString()}get wrapperClass(){return!0}get styles(){const e={};return this.width&&(e.width=zo(this.width)),this.height&&(e.height=zo(this.height)),this.minWidth&&(e.minWidth=zo(this.minWidth)),this.maxWidth&&(e.maxWidth=zo(this.maxWidth)),this.minHeight&&(e.minHeight=zo(this.minHeight)),this.maxHeight&&(e.maxHeight=zo(this.maxHeight)),e}bubble(e,i){if(i){const o=i[e].subscribe(r=>this[e].emit(r));this.subscriptions.push(o)}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Y),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(jf))},n.\u0275cmp=l.Xpm({type:n,selectors:[["kendo-dialog"]],contentQueries:function(e,i,s){if(1&e&&l.Suo(s,Ea,4),2&e){let o;l.iGM(o=l.CRH())&&(i.titlebarContent=o)}},viewQuery:function(e,i){if(1&e&&(l.Gf(ih,5),l.Gf(a3,7),l.Gf(Ea,5)),2&e){let s;l.iGM(s=l.CRH())&&(i.actionsView=s.first),l.iGM(s=l.CRH())&&(i.dialog=s.first),l.iGM(s=l.CRH())&&(i.titlebarView=s)}},hostVars:4,hostBindings:function(e,i){2&e&&(l.uIk("dir",i.dir)("tabIndex",i.tabIndex),l.ekj("k-dialog-wrapper",i.wrapperClass))},inputs:{actions:"actions",actionsLayout:"actionsLayout",autoFocusedElement:"autoFocusedElement",title:"title",width:"width",minWidth:"minWidth",maxWidth:"maxWidth",height:"height",minHeight:"minHeight",maxHeight:"maxHeight",animation:"animation"},outputs:{action:"action",close:"close"},exportAs:["kendoDialog"],features:[l._Bn([Y,{provide:kC,useExisting:Y},{provide:Ne,useValue:"kendo.dialog"}])],ngContentSelectors:m3,decls:11,vars:9,consts:function(){let t;return t=$localize`:kendo.dialog.closeTitle|The title of the close button:Close`,[["kendoDialogLocalizedMessages","","closeTitle",t],[1,"k-overlay"],["role","dialog","aria-modal","true",1,"k-window","k-dialog",3,"ngStyle"],["dialog",""],[3,"closeTitle","id",4,"ngIf"],[4,"ngIf"],[1,"k-content","k-window-content","k-dialog-content",3,"id"],[3,"actions","layout",4,"ngIf"],[3,"closeTitle","id"],[3,"ngTemplateOutlet"],[3,"actions","layout"]]},template:function(e,i){1&e&&(l.F$t(g3),l.ynx(0,0),l._UZ(1,"div",1),l.TgZ(2,"div",2,3),l.YNc(4,l3,2,3,"kendo-dialog-titlebar",4),l.YNc(5,c3,1,0,"ng-content",5),l.TgZ(6,"div",6),l.YNc(7,h3,1,0,"ng-content",5),l.YNc(8,d3,1,1,null,5),l.qZA(),l.YNc(9,p3,1,0,"ng-content",5),l.YNc(10,f3,1,2,"kendo-dialog-actions",7),l.qZA(),l.BQk()),2&e&&(l.xp6(1),l.Q6J("@overlayAppear",void 0),l.xp6(1),l.Q6J("ngStyle",i.styles),l.xp6(2),l.Q6J("ngIf",i.title),l.xp6(1),l.Q6J("ngIf",!i.title),l.xp6(1),l.Q6J("id",i.contentId),l.xp6(1),l.Q6J("ngIf",!i.contentTemplate),l.xp6(1),l.Q6J("ngIf",i.contentTemplate),l.xp6(1),l.Q6J("ngIf",!i.actions),l.xp6(1),l.Q6J("ngIf",i.actions))},dependencies:[Ea,ih,sh,L.PC,L.O5,L.tP],encapsulation:2,data:{animation:[zG("overlayAppear",[GG("in",pt({opacity:1})),UG("void => *",[pt({opacity:.1}),Ui(".3s cubic-bezier(.2, .6, .4, 1)")])])]}}),n})();class DC{}let Y3=(()=>{class n{constructor(e){this.dialog=e}ngAfterViewInit(){this.dialogTitleBar&&this.dialogTitleBar.close.pipe((0,Jo.h)(e=>!e.isDefaultPrevented())).subscribe(()=>{this.dialog.close()}),this.dialogActions&&this.dialogActions.actions&&this.dialogActions.action.subscribe(e=>this.dialog.dialog.instance.action.emit(e))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(DC))},n.\u0275dir=l.lG2({type:n,viewQuery:function(e,i){if(1&e&&(l.Gf(Ea,5),l.Gf(ih,5)),2&e){let s;l.iGM(s=l.CRH())&&(i.dialogTitleBar=s.first),l.iGM(s=l.CRH())&&(i.dialogActions=s.first)}}}),n})(),IC=(()=>{class n{set container(e){n.container=e}get container(){return n.container}}return n.container=null,n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class K3{constructor(t,e){this.getDialogRef=t,this.parentInjector=e}get(t,e){return t===DC?this.getDialogRef():this.parentInjector.get(t,e)}}let J3=(()=>{class n{constructor(e,i){this.resolver=e,this.containerService=i}open(e){const i=this.resolver.resolveComponentFactory(MC),s=e.appendTo||this.containerService.container;if(!s)throw new Error("\nCannot attach dialog to the page.\nAdd an element that uses the kendoDialogContainer directive, or set the 'appendTo' property.\nSee https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service/.\n          ");return this.initializeDialog(e.content,i,s,{close:()=>{},content:null,dialog:null,result:null},e)}initializeDialog(e,i,s,o,r){const a=this.contentFrom(e,s,o),c=s.createComponent(i,void 0,void 0,a.nodes);o.dialog=c,c.changeDetectorRef.markForCheck(),this.applyOptions(c.instance,r);const h=new Hc.x,u=p=>{p instanceof eg&&(p=new oh),h.next(p||new oh),a.componentRef&&a.componentRef.destroy(),c.destroy()},d=(0,wn.T)(h,(0,wn.T)(c.instance.close,c.instance.action).pipe((0,La.U)(p=>p instanceof eg?new oh:p),(0,Jo.h)(p=>{if(r.preventAction){const f=(n=>Qf(n)||n instanceof l.Rgc)(e)?void 0:o;return!r.preventAction(p,f)}return!0}))).pipe((0,oi.q)(1),(0,xC.B)());if(d.subscribe(u),o.close=u,o.result=d,e&&(0,l.X6Q)()){const p=a.nodes[0]&&a.nodes[0].length>0,f=a.nodes[2]&&a.nodes[2].length>0,g=r.title&&p,m=r.actions&&f;e.prototype instanceof Y3?(g||m)&&console.warn("\n                    Multiple Title and/or Actions configurations detected.\n                    When using a component as content, provide the title and actions either in the component's markup\n                    or via the title and actions properties of the DialogSettings object, but not both.\n                    See https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service/#toc-passing-title-content-and-actions-as-a-single-component'"):(p||f)&&console.warn("\n                    When Title and/or Actions markup is provided in content component's template,\n                    the component needs to inherit the DialogContentBase class to ensure that close and result events are properly hooked.\n                    See https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service/#toc-passing-title-content-and-actions-as-a-single-component'")}return o}applyOptions(e,i){e.title=i.title,e.actions=i.actions,e.actionsLayout=i.actionsLayout||"stretched",e.width=i.width,e.minWidth=i.minWidth,e.maxWidth=i.maxWidth,e.height=i.height,e.minHeight=i.minHeight,e.maxHeight=i.maxHeight,e.autoFocusedElement=i.autoFocusedElement,e.closeTitle=i.closeTitle,e.cssClass=i.cssClass,e.htmlAttributes=i.htmlAttributes,e.animation=void 0===i.animation||i.animation,i.content instanceof l.Rgc&&(e.contentTemplate=i.content)}contentFrom(e,i,s){const o=i.injector.get(l.Qsj);let r=[],a=[],c=[],h=null;if("string"==typeof e)r=[o.createText(e)];else if(e&&!(e instanceof l.Rgc)){const u=new K3(()=>s,i.injector),d=this.resolver.resolveComponentFactory(e);h=i.createComponent(d,void 0,u),a=Array.from(h.location.nativeElement.querySelectorAll("kendo-dialog-titlebar")),r=[h.location.nativeElement],c=Array.from(h.location.nativeElement.querySelectorAll("kendo-dialog-actions")),s.content=h}return{componentRef:h,nodes:[a,r,c]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l._Vd),l.LFG(IC))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),OC=10002;const Q3={draggable:!0,height:null,left:null,minHeight:100,minWidth:120,position:"absolute",resizable:!0,state:"default",top:null,width:null},RC=(n,t)=>e=>n.kendoDrag.pipe(function vw(n){return(0,Oa.e)((t,e)=>{(0,Ra.Xf)(n).subscribe((0,Hs.x)(e,()=>e.complete(),Xz.Z)),!e.closed&&t.subscribe(e)})}(n.kendoRelease.pipe((0,Wo.b)(()=>{t.emit()}))),(0,La.U)(({pageX:i,pageY:s})=>({originalX:e.pageX,originalY:e.pageY,pageX:i,pageY:s})));let xn=(()=>{class n{constructor(e){this.ngZone=e,this.close=new l.vpe,this.focus=new l.vpe,this.change=new l.vpe,this.stateChange=new l.vpe,this.dragStart=new l.vpe,this.dragEnd=new l.vpe,this.resizeStart=new l.vpe,this.resizeEnd=new l.vpe,this.options=Object.assign({},Q3),this.lastAction=null,this.subscriptions=new rt.w0,this.dragSubscription=new rt.w0}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),this.dragSubscription&&this.dragSubscription.unsubscribe()}init(e){const i=this.options.state;let s=this.options;this.window=e,"default"!==i&&(this.restoreOptions=Object.assign({},s)),"minimized"===i&&(s.height=0,s.minHeight=0),"maximized"===i&&(s.position="fixed")}onDrag(e){this.subscriptions.add(this.ngZone.runOutsideAngular(()=>{let i,s;this.dragSubscription=e.kendoPress.pipe((0,Wo.b)(o=>{o.isTouch||EC(o),this.focus.emit(),i=this.currentPosition(),s=!1}),(0,bC.w)(RC(e,this.dragEnd))).subscribe(({pageX:o,pageY:r,originalX:a,originalY:c})=>{s||(this.ensureWidth(),this.dragStart.emit(),s=!0),this.handleDrag({originalX:a,originalY:c,pageX:o,pageY:r,startPosition:i})})}))}handleDrag({originalX:e,originalY:i,pageX:s,pageY:o,startPosition:r}){this.options.left=r.x+s-e,this.options.top=r.y+o-i,"minimized"===this.options.state&&ae(this.restoreOptions)&&(this.restoreOptions.left=this.options.left,this.restoreOptions.top=this.options.top),this.change.emit({left:r.x+s-e,top:r.y+o-i})}onResize(e,i){this.subscriptions.add(this.ngZone.runOutsideAngular(()=>{let s,o=!1;e.kendoPress.pipe((0,Wo.b)(r=>{EC(r),this.focus.emit(),s=this.currentOffsetAndPosition(),o=!1}),(0,bC.w)(RC(e,this.resizeEnd))).subscribe(({pageX:r,pageY:a,originalX:c,originalY:h})=>{o||(this.resizeStart.emit(i),o=!0),this.handleResize(s,i,r-c,a-h)})}))}handleResize(e,i,s,o){const r=this.options;let a={};if(i.indexOf("e")>=0){const c=e.width+s;c!==r.width&&c>=r.minWidth&&(a.width=c)}if(i.indexOf("n")>=0){const c=e.height-o,h=e.y+o;c!==r.height&&c>=r.minHeight&&h!==r.top&&(a.height=c,a.top=h)}if(i.indexOf("s")>=0){const c=e.height+o;c!==r.height&&c>=r.minHeight&&(a.height=c)}if(i.indexOf("w")>=0){const c=e.x+s,h=e.width-s;h!==r.width&&h>=r.minWidth&&c!==r.left&&(a.width=h,a.left=c)}(ae(a.width)||ae(a.height))&&(Ca.forEach(c=>{ae(a[c])&&(this.options[c]=a[c])}),this.change.emit(a))}restoreAction(){this.lastAction="restore",this.defaultState()}defaultState(){ae(this.restoreOptions)&&(this.options=Object.assign({},this.restoreOptions)),this.options.state="default",this.stateChange.emit("default")}storeOptions(){this.restoreOptions=Object.assign({},this.options)}maximizeAction(){this.lastAction="maximize",this.maximizeState()}maximizeState(){this.storeOptions();const e=this.windowViewPort;this.options=Object.assign({},this.options,{height:e.height,left:0,position:"fixed",state:"maximized",top:0,width:e.width}),this.stateChange.emit("maximized")}minimizeAction(){this.lastAction="minimize",this.minimizeState()}minimizeState(){this.storeOptions(),this.options=Object.assign({},this.options,{height:null,minHeight:0,state:"minimized"}),this.stateChange.emit("minimized")}applyManualState(){switch(this.options.state){case"default":this.clearHeight(),this.defaultState();break;case"maximized":this.clearHeight(),this.maximizeState();break;case"minimized":this.minimizeState()}}closeAction(){this.close.emit()}ensureWidth(){const e=ki(this.window.nativeElement);ae(this.options.width)||(this.options.width=e.width,this.change.emit({width:e.width}))}clearHeight(){0===this.options.height&&delete this.options.height,0===this.options.minHeight&&delete this.options.minHeight}center(){if("maximized"===this.options.state)return;let e=$c(this.window.nativeElement),i=this.windowViewPort,s=ki(this.window.nativeElement),o={};ae(this.options.left)||(this.options.left=e.x+Math.max(0,(i.width-s.width)/2),o.left=this.options.left),ae(this.options.top)||(this.options.top=e.y+Math.max(0,(i.height-s.height)/2),o.top=this.options.top),this.change.emit(o)}currentOffsetAndPosition(){const e=this.options,i=ki(this.window.nativeElement);return Object.assign({},this.currentPosition(),{height:e.height?e.height:i.height,width:e.width?e.width:i.width})}currentPosition(){const e=this.options;return(!e.top||!e.left)&&this.setPosition(),{x:this.options.left,y:this.options.top}}setPosition(){const e=Vf(this.window.nativeElement,Wc(this.window.nativeElement));this.options.left=e.left,this.options.top=e.top}setRestoreOption(e,i){ae(this.restoreOptions)&&(this.restoreOptions[e]=i)}get nextPossibleZIndex(){return OC}get nextZIndex(){return OC++}get windowViewPort(){return Zc(this.window.nativeElement)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),tg=(()=>{class n{constructor(e,i,s,o){this.draggable=e,this.el=i,this.renderer=s,this.service=o,this.subscriptions=new rt.w0}get hostClass(){return!0}ngOnInit(){this.setDisplay(),this.renderer.addClass(this.el.nativeElement,"k-resize-"+this.direction),this.subscriptions.add((0,vC.of)(this.draggable).subscribe(e=>{this.service.onResize(e,this.direction)})),this.subscriptions.add(this.service.resizeStart.subscribe(e=>{e!==this.direction&&this.setDisplay("none")})),this.subscriptions.add(this.service.dragStart.subscribe(()=>{this.setDisplay("none")})),this.subscriptions.add((0,wn.T)(this.service.resizeEnd,this.service.dragEnd).subscribe(()=>{this.setDisplay("block")})),this.subscriptions.add(this.service.stateChange.subscribe(e=>{this.setDisplay("default"===e?"block":"none")}))}ngOnDestroy(){this.subscriptions.unsubscribe()}setDisplay(e="block"){this.renderer.setStyle(this.el.nativeElement,"display","default"===this.service.options.state?e:"none")}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(qo,1),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(xn))},n.\u0275dir=l.lG2({type:n,selectors:[["","kendoWindowResizeHandle",""]],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("k-resize-handle",i.hostClass)},inputs:{direction:"direction"}}),n})(),Go=(()=>{class n{constructor(e,i,s){this.el=e,this.ngZone=s,this.service=i}ngOnInit(){this.dragDirective=new qo(this.el,this.ngZone),this.dragDirective.ngOnInit(),this.isDraggable&&this.subscribeDrag(),this.subscribeStateChange()}ngAfterViewInit(){const e=this.el.nativeElement.querySelector(".k-window-title");ae(e)&&e.setAttribute("id",this.id)}ngOnDestroy(){this.dragDirective.ngOnDestroy(),this.unsubscribeDrag(),this.unsubscribeState()}subscribeDrag(){this.unsubscribeDrag(),this.dragSubscription=(0,vC.of)(this.dragDirective).subscribe(e=>{this.service.onDrag(e)})}subscribeStateChange(){this.stateSubscription=this.service.stateChange.subscribe(e=>{this.service.options.draggable&&("maximized"===e?this.unsubscribeDrag():this.subscribeDrag())})}unsubscribeDrag(){this.dragSubscription&&(this.service.dragSubscription.unsubscribe(),this.dragSubscription.unsubscribe(),this.dragSubscription=null)}unsubscribeState(){this.stateSubscription&&(this.stateSubscription.unsubscribe(),this.stateSubscription=null)}get className(){return!0}get touchAction(){if(this.isDraggable)return"none"}handle(e){const i=e.target,s=this.service.options.state;!Fo(i,"k-icon")&&!wC(i,!1)&&this.service.options.resizable&&("default"===s?this.service.maximizeAction():"maximized"===s&&this.service.restoreAction())}get isDraggable(){const e=this.service.options;return e.draggable&&"maximized"!==e.state}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(xn),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["kendo-window-titlebar"]],hostVars:6,hostBindings:function(e,i){1&e&&l.NdJ("dblclick",function(o){return i.handle(o)}),2&e&&(l.Udp("touch-action",i.touchAction),l.ekj("k-window-titlebar",i.className)("k-dialog-titlebar",i.className))},inputs:{template:"template",id:"id"},ngContentSelectors:Jf,decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(l.F$t(),l.YNc(0,_3,1,0,"ng-content",0),l.YNc(1,b3,1,4,null,0)),2&e&&(l.Q6J("ngIf",!i.template),l.xp6(1),l.Q6J("ngIf",i.template))},dependencies:[L.O5,L.tP],encapsulation:2}),n})(),NC=(()=>{class n{constructor(e,i){this.window=e,this.ngZone=i}process(e){const i=e.keyCode;switch(i){case De.up:case De.down:case De.left:case De.right:e.preventDefault(),this.ngZone.run(()=>{this.handleArrow(i,e)});break;case De.esc:this.ngZone.run(()=>{this.handleEscape()})}}handleArrow(e,i){const s=this.window.options;i.altKey?this.handleStateChange(e,s.state):(i.ctrlKey||i.metaKey)&&"default"===s.state?this.handleResize(e):this.handleDrag(e)}handleEscape(){this.window.closeAction()}handleDrag(e){let i=this.window.options;if(!i.draggable)return;const s=this.window.currentOffsetAndPosition();let o=this.window.restoreOptions,r={},a=10;switch((e===De.left||e===De.up)&&(a*=-1),e){case De.left:case De.right:r.left=s.x+a,i.left=r.left;break;case De.up:case De.down:r.top=s.y+a,i.top=r.top}"minimized"===i.state&&ae(o)&&(o.left=i.left,o.top=i.top),this.window.change.emit(r)}handleResize(e){const i=this.window.options;if(!i.resizable)return;const s=this.window.currentOffsetAndPosition();let o,r,a={},c=10;switch((e===De.left||e===De.up)&&(c*=-1),e){case De.left:case De.right:o=s.width+c,o!==i.width&&o>=i.minWidth&&(a.width=o);break;case De.up:case De.down:r=s.height+c,r!==i.height&&r>=i.minHeight&&(a.height=r)}(ae(a.width)||ae(a.height))&&(Ca.forEach(h=>{ae(a[h])&&(this.window.options[h]=a[h])}),this.window.change.emit(a))}handleStateChange(e,i){"minimized"===i&&e===De.up||"maximized"===i&&e===De.down?this.window.restoreAction():"default"===i&&(e===De.up?this.window.maximizeAction():e===De.down&&this.window.minimizeAction())}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(xn),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ig=(()=>{class n extends Jc{constructor(e,i,s,o,r){super(e,i,null,o,r),this.buttonType="button",this.buttonClass=!0,this.window=s,this.fillMode="flat",this.icon="window-minimize"}onClick(){this.isDisabled||this.window.minimizeAction()}get visible(){return"default"===this.window.options.state?"inline-flex":"none"}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(xn,8),l.Y36(Y),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["button","kendoWindowMinimizeAction",""]],hostVars:5,hostBindings:function(e,i){1&e&&l.NdJ("click",function(){return i.onClick()}),2&e&&(l.uIk("type",i.buttonType),l.Udp("display",i.visible),l.ekj("k-window-action",i.buttonClass))},inputs:{window:"window"},exportAs:["kendoWindowMinimizeAction"],features:[l._Bn([Y,{provide:Ne,useValue:"kendo.button"}]),l.qOj]}),n})(),ng=(()=>{class n extends Jc{constructor(e,i,s,o,r){super(e,i,null,o,r),this.buttonType="button",this.buttonClass=!0,this.window=s,this.fillMode="flat",this.icon="window"}onClick(){this.isDisabled||this.window.maximizeAction()}get visible(){return"default"===this.window.options.state?"inline-flex":"none"}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(xn,8),l.Y36(Y),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["button","kendoWindowMaximizeAction",""]],hostVars:5,hostBindings:function(e,i){1&e&&l.NdJ("click",function(){return i.onClick()}),2&e&&(l.uIk("type",i.buttonType),l.Udp("display",i.visible),l.ekj("k-window-action",i.buttonClass))},inputs:{window:"window"},exportAs:["kendoWindowMaximizeAction"],features:[l._Bn([Y,{provide:Ne,useValue:"kendo.button"}]),l.qOj]}),n})(),sg=(()=>{class n extends Jc{constructor(e,i,s,o,r){super(e,i,null,o,r),this.buttonType="button",this.buttonClass=!0,this.window=s,this.fillMode="flat",this.icon="window-restore"}onClick(){this.isDisabled||this.window.restoreAction()}get visible(){return"default"===this.window.options.state?"none":"inline-flex"}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(xn,8),l.Y36(Y),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["button","kendoWindowRestoreAction",""]],hostVars:5,hostBindings:function(e,i){1&e&&l.NdJ("click",function(){return i.onClick()}),2&e&&(l.uIk("type",i.buttonType),l.Udp("display",i.visible),l.ekj("k-window-action",i.buttonClass))},inputs:{window:"window"},exportAs:["kendoWindowRestoreAction"],features:[l._Bn([Y,{provide:Ne,useValue:"kendo.button"}]),l.qOj]}),n})(),og=(()=>{class n extends Jc{constructor(e,i,s,o,r){super(e,i,null,o,r),this.buttonType="button",this.buttonClass=!0,this.window=s,this.fillMode="flat",this.icon="x"}onClick(){this.isDisabled||this.window.closeAction()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(xn,8),l.Y36(Y),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["button","kendoWindowCloseAction",""]],hostVars:3,hostBindings:function(e,i){1&e&&l.NdJ("click",function(){return i.onClick()}),2&e&&(l.uIk("type",i.buttonType),l.ekj("k-window-action",i.buttonClass))},inputs:{window:"window"},exportAs:["kendoWindowCloseAction"],features:[l._Bn([Y,{provide:Ne,useValue:"kendo.button"}]),l.qOj]}),n})(),rh=(()=>{class n{constructor(e,i,s,o,r,a){this.el=e,this.renderer=i,this.service=s,this.navigation=o,this.ngZone=r,this.localization=a,this.keepContent=!1,this.dragStart=new l.vpe,this.dragEnd=new l.vpe,this.resizeStart=new l.vpe,this.resizeEnd=new l.vpe,this.close=new l.vpe,this.widthChange=new l.vpe,this.heightChange=new l.vpe,this.topChange=new l.vpe,this.leftChange=new l.vpe,this.stateChange=new l.vpe,this.messages={},this.tabIndex=0,this.role="dialog",this.titleId=null,this.draged=!1,this.resized=!1,this.windowSubscription=new rt.w0,this.domSubs=new rt.w0,bt(TC),this.direction=this.localization.rtl?"rtl":"ltr",this.localizationChangeSubscription=this.localization.changes.subscribe(({rtl:c})=>this.direction=c?"rtl":"ltr"),this.resizeDirections=G3,this.subscribeEvents(),this.titleId=this.generateTitleId()}set draggable(e){this.options.draggable=e}get draggable(){return this.options.draggable}set resizable(e){this.options.resizable=e}get resizable(){return this.options.resizable}set cssClass(e){this.setServiceClasses(this._cssClass,e),this._cssClass=e}get cssClass(){return this._cssClass}set htmlAttributes(e){CC(e,this.renderer,this.el.nativeElement);const i=this.el.nativeElement,s=i.getAttribute("dir"),o=i.getAttribute("tabindex");this.direction!==s&&(this.direction=s),this.tabIndex!==o&&(this.tabIndex=o),this._htmlAttributes=e}get htmlAttributes(){return this._htmlAttributes}set state(e){this.options.state=e}get state(){return this.options.state}set minWidth(e){this.setOption("minWidth",e)}get minWidth(){return this.options.minWidth}set minHeight(e){this.setOption("minHeight",e)}get minHeight(){return this.options.minHeight}set width(e){this.setOption("width",e)}get width(){return this.options.width}set height(e){this.setOption("height",e)}get height(){return this.options.height}set top(e){this.setOption("top",e)}get top(){return this.options.top}set left(e){this.setOption("left",e)}get left(){return this.options.left}get closeButtonTitle(){return this.messages&&this.messages.closeTitle?this.messages.closeTitle:this.localization.get("closeTitle")}get restoreButtonTitle(){return this.messages&&this.messages.restoreTitle?this.messages.restoreTitle:this.localization.get("restoreTitle")}get maximizeButtonTitle(){return this.messages&&this.messages.maximizeTitle?this.messages.maximizeTitle:this.localization.get("maximizeTitle")}get minimizeButtonTitle(){return this.messages&&this.messages.minimizeTitle?this.messages.minimizeTitle:this.localization.get("minimizeTitle")}get hostClasses(){return!0}get dir(){return this.direction}ngAfterViewInit(){this.setNextZIndex(),this.handleInitialFocus(),this.ngZone.runOutsideAngular(()=>Promise.resolve(null).then(()=>this.setInitialOffset())),this.initDomEvents(),(this.titleBarView||this.titleBarContent)&&this.renderer.setAttribute(this.el.nativeElement,"aria-labelledby",this.titleId)}ngOnInit(){this.renderer.removeAttribute(this.el.nativeElement,"title"),this.service.init(this.el)}ngOnChanges(e){if(Ca.forEach(i=>{$t(i,e)&&this.setStyle(i,this.options[i])}),$t("draggable",e)){const i=ae(this.titleBarContent)?this.titleBarContent:this.titleBarView;(n=>!!n)(e.draggable.currentValue)?i.subscribeDrag():i.unsubscribeDrag()}$t("state",e)&&(ae(this.service.lastAction)?this.service.lastAction=null:(this.service.applyManualState(),this.updateAllOffset()))}ngOnDestroy(){this.windowSubscription&&this.windowSubscription.unsubscribe(),this.domSubs&&this.domSubs.unsubscribe(),this.localizationChangeSubscription.unsubscribe()}focus(){const e=this.el.nativeElement;ae(e)&&e.focus()}bringToFront(){this.setNextZIndex()}setDimension(e,i){this.setOption(e,i),this.setStyle(e,i)}setOffset(e,i){this.setOption(e,i),this.setStyle(e,i)}get showDefaultTitleBar(){return!ae(this.titleBarContent)}get styleMinWidth(){return this.minWidth+"px"}get styleMinHeight(){return this.minHeight+"px"}get stylePosition(){return this.options.position}get wrapperMaximizedClass(){return"maximized"===this.state}get wrapperMinimizedClass(){return"minimized"===this.state}onComponentFocus(){this.renderer.addClass(this.el.nativeElement,"k-focus"),this.setNextZIndex()}onComponentBlur(){this.renderer.removeClass(this.el.nativeElement,"k-focus")}subscribeEvents(){!Ee()||(this.windowSubscription.add(this.service.focus.subscribe(()=>{this.el.nativeElement.focus()})),this.windowSubscription.add(this.service.dragStart.subscribe(()=>{this.draged=!0,this.ngZone.run(()=>{this.dragStart.emit()})})),this.windowSubscription.add(this.service.dragEnd.subscribe(()=>{this.draged&&(this.draged=!1,this.ngZone.run(()=>{this.dragEnd.emit()}))})),this.windowSubscription.add(this.service.close.subscribe(()=>{this.close.emit()})),this.windowSubscription.add(this.service.resizeStart.subscribe(()=>{this.resized=!0,this.ngZone.run(()=>{this.resizeStart.emit()})})),this.windowSubscription.add(this.service.resizeEnd.subscribe(()=>{this.resized&&(this.resized=!1,this.ngZone.run(()=>{this.resizeEnd.emit()}))})),this.windowSubscription.add(this.service.change.subscribe(e=>{Ca.forEach(i=>{if(ae(e[i])&&(this.setStyle(i,e[i]),"maximized"!==this.state)){const s=this[i+"Change"];s.observers.length&&this.ngZone.run(()=>{s.emit(e[i])})}})})),this.windowSubscription.add(this.service.stateChange.subscribe(e=>{ae(this.service.lastAction)&&(this.updateAllOffset(),this.stateChange.emit(e))})))}initDomEvents(){!this.el||this.ngZone.runOutsideAngular(()=>{this.domSubs.add(this.renderer.listen(this.el.nativeElement,"keydown",e=>{this.onKeyDown(e)}))})}onKeyDown(e){Fo(e.target,"k-window")&&this.navigation.process(e)}setServiceClasses(e,i){const s=this.el.nativeElement;e&&wa(e).forEach(o=>{this.renderer.removeClass(s,o)}),i&&wa(i).forEach(o=>{this.renderer.addClass(s,o)})}setNextZIndex(){const e=this.el.nativeElement.style["z-index"];(!e||this.service.nextPossibleZIndex-e>1)&&this.renderer.setStyle(this.el.nativeElement,"z-index",this.service.nextZIndex)}setInitialOffset(){if("maximized"!==this.state)this.updateAllOffset(),(!ae(this.left)||!ae(this.top))&&this.service.center();else{const e=this.service.windowViewPort;this.setStyle("width",e.width),this.setStyle("height",e.height),this.setStyle("top",0),this.setStyle("left",0)}}updateAllOffset(){Ca.forEach(e=>{ae(this[e])?this.setStyle(e,this[e]):this.removeStyle(e)})}setStyle(e,i){this.renderer.setStyle(this.el.nativeElement,e,i+"px")}removeStyle(e){this.renderer.removeStyle(this.el.nativeElement,e)}get options(){return this.service.options}setOption(e,i){if("number"!=typeof i&&"string"!=typeof i)return;const s="number"==typeof i?i:parseInt(i,10);this.options[e]=s,this.service.setRestoreOption(e,s)}handleInitialFocus(){if(this.autoFocusedElement){const i=this.el.nativeElement.querySelector(this.autoFocusedElement);i&&i.focus()}else this.focus()}generateTitleId(){return"kendo-window-title-"+Math.ceil(1e6*Math.random()).toString()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(xn),l.Y36(NC),l.Y36(l.R0b),l.Y36(Y))},n.\u0275cmp=l.Xpm({type:n,selectors:[["kendo-window"]],contentQueries:function(e,i,s){if(1&e&&l.Suo(s,Go,5),2&e){let o;l.iGM(o=l.CRH())&&(i.titleBarContent=o.first)}},viewQuery:function(e,i){if(1&e&&(l.Gf(Go,5),l.Gf(tg,5)),2&e){let s;l.iGM(s=l.CRH())&&(i.titleBarView=s.first),l.iGM(s=l.CRH())&&(i.resizeHandles=s)}},hostVars:15,hostBindings:function(e,i){1&e&&l.NdJ("focus",function(){return i.onComponentFocus()})("blur",function(){return i.onComponentBlur()}),2&e&&(l.uIk("tabIndex",i.tabIndex)("role",i.role)("dir",i.dir),l.Udp("min-width",i.styleMinWidth)("min-height",i.styleMinHeight)("position",i.stylePosition),l.ekj("k-window",i.hostClasses)("k-window-maximized",i.wrapperMaximizedClass)("k-window-minimized",i.wrapperMinimizedClass))},inputs:{autoFocusedElement:"autoFocusedElement",title:"title",draggable:"draggable",resizable:"resizable",keepContent:"keepContent",state:"state",minWidth:"minWidth",minHeight:"minHeight",width:"width",height:"height",top:"top",left:"left"},outputs:{dragStart:"dragStart",dragEnd:"dragEnd",resizeStart:"resizeStart",resizeEnd:"resizeEnd",close:"close",widthChange:"widthChange",heightChange:"heightChange",topChange:"topChange",leftChange:"leftChange",stateChange:"stateChange"},exportAs:["kendoWindow"],features:[l._Bn([xn,NC,Y,{provide:Ne,useValue:"kendo.window"}]),l.TTD],ngContentSelectors:D3,decls:6,vars:4,consts:function(){let t,e,i,s;return t=$localize`:kendo.window.closeTitle|The title of the close button:Close`,e=$localize`:kendo.window.restoreTitle|The title of the restore button:Restore`,i=$localize`:kendo.window.maximizeTitle|The title of the maximize button:Maximize`,s=$localize`:kendo.window.minimizeTitle|The title of the minimize button:Minimize`,[["kendoWindowLocalizedMessages","","closeTitle",t,"restoreTitle",e,"maximizeTitle",i,"minimizeTitle",s],[3,"template","id",4,"ngIf"],[4,"ngIf"],["class","k-content k-window-content",3,"hidden",4,"ngIf"],[3,"ngIf"],[3,"template","id"],[1,"k-window-title"],[1,"k-window-actions"],["kendoWindowMinimizeAction",""],["kendoWindowMaximizeAction",""],["kendoWindowRestoreAction",""],["kendoWindowCloseAction",""],[1,"k-content","k-window-content",3,"hidden"],[3,"ngTemplateOutlet"],["kendoWindowResizeHandle","","kendoDraggable","",3,"direction",4,"ngFor","ngForOf"],["kendoWindowResizeHandle","","kendoDraggable","",3,"direction"]]},template:function(e,i){1&e&&(l.F$t(M3),l.ynx(0,0)(1),l.YNc(2,y3,8,11,"kendo-window-titlebar",1),l.YNc(3,S3,1,0,"ng-content",2),l.YNc(4,k3,3,3,"div",3),l.YNc(5,T3,1,1,"ng-template",4),l.BQk()()),2&e&&(l.xp6(2),l.Q6J("ngIf",i.showDefaultTitleBar),l.xp6(1),l.Q6J("ngIf",!i.showDefaultTitleBar),l.xp6(1),l.Q6J("ngIf","minimized"!==i.state||i.keepContent),l.xp6(1),l.Q6J("ngIf",i.resizable))},dependencies:[Go,sh,L.O5,ig,ng,sg,og,L.tP,L.sg,tg,qo],encapsulation:2}),n})();class PC{}let LC=(()=>{class n{set container(e){n.container=e}get container(){return n.container}}return n.container=null,n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class t6{constructor(t,e){this.getWindowRef=t,this.parentInjector=e}get(t,e){return t===class X3{}?this.getWindowRef():this.parentInjector.get(t,e)}}let i6=(()=>{class n{constructor(e,i){this.resolver=e,this.containerService=i}open(e){const i=this.resolver.resolveComponentFactory(rh),s=e.appendTo||this.containerService.container;if(!s)throw new Error("Cannot attach window to the page.\n                Add an element that uses the kendoWindowContainer directive, or set the 'appendTo' property.\n                See https://www.telerik.com/kendo-angular-ui/components/dialogs/window/service/\n            ");const o={close:()=>{},content:null,result:null,window:null},r=this.contentFrom(e.content,s,o),a=s.createComponent(i,void 0,void 0,r.nodes);o.window=a,this.applyOptions(a.instance,e);const c=new Hc.x,h=d=>{c.next(d||new PC),r.componentRef&&r.componentRef.destroy(),a.destroy()},u=(0,wn.T)(c,a.instance.close.pipe((0,La.U)(d=>d||new PC),(0,Jo.h)(d=>{if(e.preventClose){const p=(n=>Qf(n)||n instanceof l.Rgc)(e.content)?void 0:o;return!e.preventClose(d,p)}return!0}))).pipe((0,oi.q)(1),(0,xC.B)());return u.subscribe(h),o.close=h,o.result=u,a.changeDetectorRef.markForCheck(),o}applyOptions(e,i){ae(i.htmlAttributes)&&(e.htmlAttributes=i.htmlAttributes),ae(i.cssClass)&&(e.cssClass=i.cssClass),ae(i.title)&&(e.title=i.title),ae(i.keepContent)&&(e.keepContent=i.keepContent),ae(i.width)&&(e.width=i.width),ae(i.minWidth)&&(e.minWidth=i.minWidth),ae(i.height)&&(e.height=i.height),ae(i.minHeight)&&(e.minHeight=i.minHeight),ae(i.left)&&(e.left=i.left),ae(i.top)&&(e.top=i.top),ae(i.draggable)&&(e.draggable=i.draggable),ae(i.resizable)&&(e.resizable=i.resizable),ae(i.messages&&i.messages.closeTitle)&&(e.messages.closeTitle=i.messages.closeTitle),ae(i.messages&&i.messages.restoreTitle)&&(e.messages.restoreTitle=i.messages.restoreTitle),ae(i.messages&&i.messages.maximizeTitle)&&(e.messages.maximizeTitle=i.messages.maximizeTitle),ae(i.messages&&i.messages.minimizeTitle)&&(e.messages.minimizeTitle=i.messages.minimizeTitle),ae(i.autoFocusedElement)&&(e.autoFocusedElement=i.autoFocusedElement),ae(i.state)&&(e.state=i.state,"minimized"===i.state&&(e.keepContent=!0)),i.content instanceof l.Rgc&&(e.contentTemplate=i.content),i.titleBarContent instanceof l.Rgc&&(e.titleBarTemplate=i.titleBarContent)}contentFrom(e,i,s){const o=i.injector.get(l.Qsj);let r=[],a=null;if("string"==typeof e)r=[o.createText(e)];else if(e&&!(e instanceof l.Rgc)){const c=new t6(()=>s,i.injector),h=this.resolver.resolveComponentFactory(e);a=i.createComponent(h,void 0,c),r=[a.location.nativeElement],s.content=a}return{componentRef:a,nodes:[[],r]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l._Vd),l.LFG(LC))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),BC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[L.ez],L.ez]}),n})(),n6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[IC,J3],imports:[[BC]]}),n})(),s6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[LC,i6],imports:[[BC,Na]]}),n})(),o6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[n6,s6]}),n})();Promise.resolve(null);let p1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[L.ez,Na,Hi,Ko],Na,Hi,Ko]}),n})(),f1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[L.ez,p1]]}),n})(),SV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[L.ez,p1]]}),n})(),wV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[L.ez,Hi,Ko]]}),n})(),g1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[L.ez,Hi]]}),n})(),CV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[L.ez,Hi]]}),n})(),m1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),EV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[L.ez,Hi,m1],Hi]}),n})(),kV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[L.ez,Hi,m1],Hi]}),n})(),JV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[f1,g1,L.ez,cU,Na]]}),n})(),QV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[L.ez]]}),n})(),XV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[L.ez]]}),n})(),e5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[L.ez]]}),n})(),t5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[YU,L.ez,o6]]}),n})(),n5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[L.ez],kV,EV,f1,SV,wV,g1,CV,JV,QV,XV,e5,t5]}),n})(),s5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Z1.m,qz,n5,jz]}),n})()}}]);